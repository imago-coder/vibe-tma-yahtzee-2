(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();function Mv(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var nd={exports:{}},el={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e_;function pS(){if(e_)return el;e_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,l,c){var f=null;if(c!==void 0&&(f=""+c),l.key!==void 0&&(f=""+l.key),"key"in l){c={};for(var g in l)g!=="key"&&(c[g]=l[g])}else c=l;return l=c.ref,{$$typeof:r,type:s,key:f,ref:l!==void 0?l:null,props:c}}return el.Fragment=e,el.jsx=i,el.jsxs=i,el}var t_;function yS(){return t_||(t_=1,nd.exports=pS()),nd.exports}var L=yS(),id={exports:{}},we={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n_;function _S(){if(n_)return we;n_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),f=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),A=Symbol.iterator;function D(C){return C===null||typeof C!="object"?null:(C=A&&C[A]||C["@@iterator"],typeof C=="function"?C:null)}var B={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},X=Object.assign,j={};function H(C,W,re){this.props=C,this.context=W,this.refs=j,this.updater=re||B}H.prototype.isReactComponent={},H.prototype.setState=function(C,W){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,W,"setState")},H.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function se(){}se.prototype=H.prototype;function ee(C,W,re){this.props=C,this.context=W,this.refs=j,this.updater=re||B}var ae=ee.prototype=new se;ae.constructor=ee,X(ae,H.prototype),ae.isPureReactComponent=!0;var Se=Array.isArray,fe={H:null,A:null,T:null,S:null,V:null},Te=Object.prototype.hasOwnProperty;function O(C,W,re,te,me,Ie){return re=Ie.ref,{$$typeof:r,type:C,key:W,ref:re!==void 0?re:null,props:Ie}}function b(C,W){return O(C.type,W,void 0,void 0,void 0,C.props)}function R(C){return typeof C=="object"&&C!==null&&C.$$typeof===r}function M(C){var W={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(re){return W[re]})}var V=/\/+/g;function U(C,W){return typeof C=="object"&&C!==null&&C.key!=null?M(""+C.key):W.toString(36)}function I(){}function Mt(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(I,I):(C.status="pending",C.then(function(W){C.status==="pending"&&(C.status="fulfilled",C.value=W)},function(W){C.status==="pending"&&(C.status="rejected",C.reason=W)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function rt(C,W,re,te,me){var Ie=typeof C;(Ie==="undefined"||Ie==="boolean")&&(C=null);var _e=!1;if(C===null)_e=!0;else switch(Ie){case"bigint":case"string":case"number":_e=!0;break;case"object":switch(C.$$typeof){case r:case e:_e=!0;break;case E:return _e=C._init,rt(_e(C._payload),W,re,te,me)}}if(_e)return me=me(C),_e=te===""?"."+U(C,0):te,Se(me)?(re="",_e!=null&&(re=_e.replace(V,"$&/")+"/"),rt(me,W,re,"",function(kn){return kn})):me!=null&&(R(me)&&(me=b(me,re+(me.key==null||C&&C.key===me.key?"":(""+me.key).replace(V,"$&/")+"/")+_e)),W.push(me)),1;_e=0;var bt=te===""?".":te+":";if(Se(C))for(var Ze=0;Ze<C.length;Ze++)te=C[Ze],Ie=bt+U(te,Ze),_e+=rt(te,W,re,Ie,me);else if(Ze=D(C),typeof Ze=="function")for(C=Ze.call(C),Ze=0;!(te=C.next()).done;)te=te.value,Ie=bt+U(te,Ze++),_e+=rt(te,W,re,Ie,me);else if(Ie==="object"){if(typeof C.then=="function")return rt(Mt(C),W,re,te,me);throw W=String(C),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return _e}function K(C,W,re){if(C==null)return C;var te=[],me=0;return rt(C,te,"","",function(Ie){return W.call(re,Ie,me++)}),te}function ie(C){if(C._status===-1){var W=C._result;W=W(),W.then(function(re){(C._status===0||C._status===-1)&&(C._status=1,C._result=re)},function(re){(C._status===0||C._status===-1)&&(C._status=2,C._result=re)}),C._status===-1&&(C._status=0,C._result=W)}if(C._status===1)return C._result.default;throw C._result}var he=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)};function ze(){}return we.Children={map:K,forEach:function(C,W,re){K(C,function(){W.apply(this,arguments)},re)},count:function(C){var W=0;return K(C,function(){W++}),W},toArray:function(C){return K(C,function(W){return W})||[]},only:function(C){if(!R(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},we.Component=H,we.Fragment=i,we.Profiler=l,we.PureComponent=ee,we.StrictMode=s,we.Suspense=p,we.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=fe,we.__COMPILER_RUNTIME={__proto__:null,c:function(C){return fe.H.useMemoCache(C)}},we.cache=function(C){return function(){return C.apply(null,arguments)}},we.cloneElement=function(C,W,re){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var te=X({},C.props),me=C.key,Ie=void 0;if(W!=null)for(_e in W.ref!==void 0&&(Ie=void 0),W.key!==void 0&&(me=""+W.key),W)!Te.call(W,_e)||_e==="key"||_e==="__self"||_e==="__source"||_e==="ref"&&W.ref===void 0||(te[_e]=W[_e]);var _e=arguments.length-2;if(_e===1)te.children=re;else if(1<_e){for(var bt=Array(_e),Ze=0;Ze<_e;Ze++)bt[Ze]=arguments[Ze+2];te.children=bt}return O(C.type,me,void 0,void 0,Ie,te)},we.createContext=function(C){return C={$$typeof:f,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:c,_context:C},C},we.createElement=function(C,W,re){var te,me={},Ie=null;if(W!=null)for(te in W.key!==void 0&&(Ie=""+W.key),W)Te.call(W,te)&&te!=="key"&&te!=="__self"&&te!=="__source"&&(me[te]=W[te]);var _e=arguments.length-2;if(_e===1)me.children=re;else if(1<_e){for(var bt=Array(_e),Ze=0;Ze<_e;Ze++)bt[Ze]=arguments[Ze+2];me.children=bt}if(C&&C.defaultProps)for(te in _e=C.defaultProps,_e)me[te]===void 0&&(me[te]=_e[te]);return O(C,Ie,void 0,void 0,null,me)},we.createRef=function(){return{current:null}},we.forwardRef=function(C){return{$$typeof:g,render:C}},we.isValidElement=R,we.lazy=function(C){return{$$typeof:E,_payload:{_status:-1,_result:C},_init:ie}},we.memo=function(C,W){return{$$typeof:y,type:C,compare:W===void 0?null:W}},we.startTransition=function(C){var W=fe.T,re={};fe.T=re;try{var te=C(),me=fe.S;me!==null&&me(re,te),typeof te=="object"&&te!==null&&typeof te.then=="function"&&te.then(ze,he)}catch(Ie){he(Ie)}finally{fe.T=W}},we.unstable_useCacheRefresh=function(){return fe.H.useCacheRefresh()},we.use=function(C){return fe.H.use(C)},we.useActionState=function(C,W,re){return fe.H.useActionState(C,W,re)},we.useCallback=function(C,W){return fe.H.useCallback(C,W)},we.useContext=function(C){return fe.H.useContext(C)},we.useDebugValue=function(){},we.useDeferredValue=function(C,W){return fe.H.useDeferredValue(C,W)},we.useEffect=function(C,W,re){var te=fe.H;if(typeof re=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return te.useEffect(C,W)},we.useId=function(){return fe.H.useId()},we.useImperativeHandle=function(C,W,re){return fe.H.useImperativeHandle(C,W,re)},we.useInsertionEffect=function(C,W){return fe.H.useInsertionEffect(C,W)},we.useLayoutEffect=function(C,W){return fe.H.useLayoutEffect(C,W)},we.useMemo=function(C,W){return fe.H.useMemo(C,W)},we.useOptimistic=function(C,W){return fe.H.useOptimistic(C,W)},we.useReducer=function(C,W,re){return fe.H.useReducer(C,W,re)},we.useRef=function(C){return fe.H.useRef(C)},we.useState=function(C){return fe.H.useState(C)},we.useSyncExternalStore=function(C,W,re){return fe.H.useSyncExternalStore(C,W,re)},we.useTransition=function(){return fe.H.useTransition()},we.version="19.1.1",we}var i_;function Tl(){return i_||(i_=1,id.exports=_S()),id.exports}var Jn=Tl();const vS=Mv(Jn);var rd={exports:{}},tl={},sd={exports:{}},ad={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r_;function ES(){return r_||(r_=1,(function(r){function e(K,ie){var he=K.length;K.push(ie);e:for(;0<he;){var ze=he-1>>>1,C=K[ze];if(0<l(C,ie))K[ze]=ie,K[he]=C,he=ze;else break e}}function i(K){return K.length===0?null:K[0]}function s(K){if(K.length===0)return null;var ie=K[0],he=K.pop();if(he!==ie){K[0]=he;e:for(var ze=0,C=K.length,W=C>>>1;ze<W;){var re=2*(ze+1)-1,te=K[re],me=re+1,Ie=K[me];if(0>l(te,he))me<C&&0>l(Ie,te)?(K[ze]=Ie,K[me]=he,ze=me):(K[ze]=te,K[re]=he,ze=re);else if(me<C&&0>l(Ie,he))K[ze]=Ie,K[me]=he,ze=me;else break e}}return ie}function l(K,ie){var he=K.sortIndex-ie.sortIndex;return he!==0?he:K.id-ie.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var f=Date,g=f.now();r.unstable_now=function(){return f.now()-g}}var p=[],y=[],E=1,A=null,D=3,B=!1,X=!1,j=!1,H=!1,se=typeof setTimeout=="function"?setTimeout:null,ee=typeof clearTimeout=="function"?clearTimeout:null,ae=typeof setImmediate<"u"?setImmediate:null;function Se(K){for(var ie=i(y);ie!==null;){if(ie.callback===null)s(y);else if(ie.startTime<=K)s(y),ie.sortIndex=ie.expirationTime,e(p,ie);else break;ie=i(y)}}function fe(K){if(j=!1,Se(K),!X)if(i(p)!==null)X=!0,Te||(Te=!0,U());else{var ie=i(y);ie!==null&&rt(fe,ie.startTime-K)}}var Te=!1,O=-1,b=5,R=-1;function M(){return H?!0:!(r.unstable_now()-R<b)}function V(){if(H=!1,Te){var K=r.unstable_now();R=K;var ie=!0;try{e:{X=!1,j&&(j=!1,ee(O),O=-1),B=!0;var he=D;try{t:{for(Se(K),A=i(p);A!==null&&!(A.expirationTime>K&&M());){var ze=A.callback;if(typeof ze=="function"){A.callback=null,D=A.priorityLevel;var C=ze(A.expirationTime<=K);if(K=r.unstable_now(),typeof C=="function"){A.callback=C,Se(K),ie=!0;break t}A===i(p)&&s(p),Se(K)}else s(p);A=i(p)}if(A!==null)ie=!0;else{var W=i(y);W!==null&&rt(fe,W.startTime-K),ie=!1}}break e}finally{A=null,D=he,B=!1}ie=void 0}}finally{ie?U():Te=!1}}}var U;if(typeof ae=="function")U=function(){ae(V)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,Mt=I.port2;I.port1.onmessage=V,U=function(){Mt.postMessage(null)}}else U=function(){se(V,0)};function rt(K,ie){O=se(function(){K(r.unstable_now())},ie)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(K){K.callback=null},r.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<K?Math.floor(1e3/K):5},r.unstable_getCurrentPriorityLevel=function(){return D},r.unstable_next=function(K){switch(D){case 1:case 2:case 3:var ie=3;break;default:ie=D}var he=D;D=ie;try{return K()}finally{D=he}},r.unstable_requestPaint=function(){H=!0},r.unstable_runWithPriority=function(K,ie){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var he=D;D=K;try{return ie()}finally{D=he}},r.unstable_scheduleCallback=function(K,ie,he){var ze=r.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?ze+he:ze):he=ze,K){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=he+C,K={id:E++,callback:ie,priorityLevel:K,startTime:he,expirationTime:C,sortIndex:-1},he>ze?(K.sortIndex=he,e(y,K),i(p)===null&&K===i(y)&&(j?(ee(O),O=-1):j=!0,rt(fe,he-ze))):(K.sortIndex=C,e(p,K),X||B||(X=!0,Te||(Te=!0,U()))),K},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(K){var ie=D;return function(){var he=D;D=ie;try{return K.apply(this,arguments)}finally{D=he}}}})(ad)),ad}var s_;function TS(){return s_||(s_=1,sd.exports=ES()),sd.exports}var od={exports:{}},Gt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a_;function SS(){if(a_)return Gt;a_=1;var r=Tl();function e(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(p,y,E){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:A==null?null:""+A,children:p,containerInfo:y,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Gt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Gt.createPortal=function(p,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(p,y,null,E)},Gt.flushSync=function(p){var y=f.T,E=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=y,s.p=E,s.d.f()}},Gt.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(p,y))},Gt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Gt.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var E=y.as,A=g(E,y.crossOrigin),D=typeof y.integrity=="string"?y.integrity:void 0,B=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:A,integrity:D,fetchPriority:B}):E==="script"&&s.d.X(p,{crossOrigin:A,integrity:D,fetchPriority:B,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Gt.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=g(y.as,y.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(p)},Gt.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,A=g(E,y.crossOrigin);s.d.L(p,E,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Gt.preloadModule=function(p,y){if(typeof p=="string")if(y){var E=g(y.as,y.crossOrigin);s.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(p)},Gt.requestFormReset=function(p){s.d.r(p)},Gt.unstable_batchedUpdates=function(p,y){return p(y)},Gt.useFormState=function(p,y,E){return f.H.useFormState(p,y,E)},Gt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Gt.version="19.1.1",Gt}var o_;function AS(){if(o_)return od.exports;o_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),od.exports=SS(),od.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l_;function bS(){if(l_)return tl;l_=1;var r=TS(),e=Tl(),i=AS();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function f(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(c(t)!==t)throw Error(s(188))}function p(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(s(188));return n!==t?null:t}for(var a=t,o=n;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return g(h),t;if(d===o)return g(h),n;d=d.sibling}throw Error(s(188))}if(a.return!==o.return)a=h,o=d;else{for(var v=!1,T=h.child;T;){if(T===a){v=!0,a=h,o=d;break}if(T===o){v=!0,o=h,a=d;break}T=T.sibling}if(!v){for(T=d.child;T;){if(T===a){v=!0,a=d,o=h;break}if(T===o){v=!0,o=d,a=h;break}T=T.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==o)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:n}function y(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=y(t),n!==null)return n;t=t.sibling}return null}var E=Object.assign,A=Symbol.for("react.element"),D=Symbol.for("react.transitional.element"),B=Symbol.for("react.portal"),X=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),se=Symbol.for("react.provider"),ee=Symbol.for("react.consumer"),ae=Symbol.for("react.context"),Se=Symbol.for("react.forward_ref"),fe=Symbol.for("react.suspense"),Te=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=V&&t[V]||t["@@iterator"],typeof t=="function"?t:null)}var I=Symbol.for("react.client.reference");function Mt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===I?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case X:return"Fragment";case H:return"Profiler";case j:return"StrictMode";case fe:return"Suspense";case Te:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case B:return"Portal";case ae:return(t.displayName||"Context")+".Provider";case ee:return(t._context.displayName||"Context")+".Consumer";case Se:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case O:return n=t.displayName||null,n!==null?n:Mt(t.type)||"Memo";case b:n=t._payload,t=t._init;try{return Mt(t(n))}catch{}}return null}var rt=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he={pending:!1,data:null,method:null,action:null},ze=[],C=-1;function W(t){return{current:t}}function re(t){0>C||(t.current=ze[C],ze[C]=null,C--)}function te(t,n){C++,ze[C]=t.current,t.current=n}var me=W(null),Ie=W(null),_e=W(null),bt=W(null);function Ze(t,n){switch(te(_e,n),te(Ie,t),te(me,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Cy(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Cy(n),t=Dy(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}re(me),te(me,t)}function kn(){re(me),re(Ie),re(_e)}function Bi(t){t.memoizedState!==null&&te(bt,t);var n=me.current,a=Dy(n,t.type);n!==a&&(te(Ie,t),te(me,a))}function si(t){Ie.current===t&&(re(me),re(Ie)),bt.current===t&&(re(bt),Xo._currentValue=he)}var Mr=Object.prototype.hasOwnProperty,Vr=r.unstable_scheduleCallback,xr=r.unstable_cancelCallback,Fa=r.unstable_shouldYield,Vl=r.unstable_requestPaint,fn=r.unstable_now,th=r.unstable_getCurrentPriorityLevel,Ka=r.unstable_ImmediatePriority,Rs=r.unstable_UserBlockingPriority,Ur=r.unstable_NormalPriority,nh=r.unstable_LowPriority,Is=r.unstable_IdlePriority,Qa=r.log,xl=r.unstable_setDisableYieldValue,st=null,qe=null;function nn(t){if(typeof Qa=="function"&&xl(t),qe&&typeof qe.setStrictMode=="function")try{qe.setStrictMode(st,t)}catch{}}var qt=Math.clz32?Math.clz32:kr,Ul=Math.log,ih=Math.LN2;function kr(t){return t>>>=0,t===0?32:31-(Ul(t)/ih|0)|0}var Pr=256,Lr=4194304;function Cn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Cs(t,n,a){var o=t.pendingLanes;if(o===0)return 0;var h=0,d=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var T=o&134217727;return T!==0?(o=T&~d,o!==0?h=Cn(o):(v&=T,v!==0?h=Cn(v):a||(a=T&~t,a!==0&&(h=Cn(a))))):(T=o&~d,T!==0?h=Cn(T):v!==0?h=Cn(v):a||(a=o&~t,a!==0&&(h=Cn(a)))),h===0?0:n!==0&&n!==h&&(n&d)===0&&(d=h&-h,a=n&-n,d>=a||d===32&&(a&4194048)!==0)?n:h}function zr(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Ya(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xa(){var t=Pr;return Pr<<=1,(Pr&4194048)===0&&(Pr=256),t}function $a(){var t=Lr;return Lr<<=1,(Lr&62914560)===0&&(Lr=4194304),t}function ai(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function oi(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Za(t,n,a,o,h,d){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,w=t.expirationTimes,z=t.hiddenUpdates;for(a=v&~a;0<a;){var Q=31-qt(a),$=1<<Q;T[Q]=0,w[Q]=-1;var q=z[Q];if(q!==null)for(z[Q]=null,Q=0;Q<q.length;Q++){var G=q[Q];G!==null&&(G.lane&=-536870913)}a&=~$}o!==0&&Pn(t,o,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~n))}function Pn(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var o=31-qt(n);t.entangledLanes|=n,t.entanglements[o]=t.entanglements[o]|1073741824|a&4194090}function Wa(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var o=31-qt(a),h=1<<o;h&n|t[o]&n&&(t[o]|=n),a&=~h}}function qi(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ds(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Hi(){var t=ie.p;return t!==0?t:(t=window.event,t===void 0?32:Yy(t.type))}function kl(t,n){var a=ie.p;try{return ie.p=t,n()}finally{ie.p=a}}var et=Math.random().toString(36).slice(2),vt="__reactFiber$"+et,dt="__reactProps$"+et,dn="__reactContainer$"+et,Ja="__reactEvents$"+et,rh="__reactListeners$"+et,Gi="__reactHandles$"+et,Pl="__reactResources$"+et,jr="__reactMarker$"+et;function Fi(t){delete t[vt],delete t[dt],delete t[Ja],delete t[rh],delete t[Gi]}function li(t){var n=t[vt];if(n)return n;for(var a=t.parentNode;a;){if(n=a[dn]||a[vt]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=Vy(t);t!==null;){if(a=t[vt])return a;t=Vy(t)}return n}t=a,a=t.parentNode}return null}function Ln(t){if(t=t[vt]||t[dn]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function zn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function Xt(t){var n=t[Pl];return n||(n=t[Pl]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ut(t){t[jr]=!0}var eo=new Set,Ns={};function Dn(t,n){ui(t,n),ui(t+"Capture",n)}function ui(t,n){for(Ns[t]=n,t=0;t<n.length;t++)eo.add(n[t])}var Ll=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),zl={},Br={};function jl(t){return Mr.call(Br,t)?!0:Mr.call(zl,t)?!1:Ll.test(t)?Br[t]=!0:(zl[t]=!0,!1)}function Ki(t,n,a){if(jl(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function jn(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function Vt(t,n,a,o){if(o===null)t.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+o)}}var qr,Bl;function ci(t){if(qr===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);qr=n&&n[1]||"",Bl=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+qr+t+Bl}var Os=!1;function Ms(t,n){if(!t||Os)return"";Os=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(G){var q=G}Reflect.construct(t,[],$)}else{try{$.call()}catch(G){q=G}t.call($.prototype)}}else{try{throw Error()}catch(G){q=G}($=t())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(G){if(G&&q&&typeof G.stack=="string")return[G.stack,q.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=o.DetermineComponentFrameRoot(),v=d[0],T=d[1];if(v&&T){var w=v.split(`
`),z=T.split(`
`);for(h=o=0;o<w.length&&!w[o].includes("DetermineComponentFrameRoot");)o++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(o===w.length||h===z.length)for(o=w.length-1,h=z.length-1;1<=o&&0<=h&&w[o]!==z[h];)h--;for(;1<=o&&0<=h;o--,h--)if(w[o]!==z[h]){if(o!==1||h!==1)do if(o--,h--,0>h||w[o]!==z[h]){var Q=`
`+w[o].replace(" at new "," at ");return t.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",t.displayName)),Q}while(1<=o&&0<=h);break}}}finally{Os=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?ci(a):""}function to(t){switch(t.tag){case 26:case 27:case 5:return ci(t.type);case 16:return ci("Lazy");case 13:return ci("Suspense");case 19:return ci("SuspenseList");case 0:case 15:return Ms(t.type,!1);case 11:return Ms(t.type.render,!1);case 1:return Ms(t.type,!0);case 31:return ci("Activity");default:return""}}function Vs(t){try{var n="";do n+=to(t),t=t.return;while(t);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function $t(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function no(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function sh(t){var n=no(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),o=""+t[n];if(!t.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(v){o=""+v,d.call(this,v)}}),Object.defineProperty(t,n,{enumerable:a.enumerable}),{getValue:function(){return o},setValue:function(v){o=""+v},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function xs(t){t._valueTracker||(t._valueTracker=sh(t))}function io(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),o="";return t&&(o=no(t)?t.checked?"true":"false":t.value),t=o,t!==a?(n.setValue(t),!0):!1}function Hr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var ah=/[\n"\\]/g;function mt(t){return t.replace(ah,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function rn(t,n,a,o,h,d,v,T){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),n!=null?v==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+$t(n)):t.value!==""+$t(n)&&(t.value=""+$t(n)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),n!=null?Qi(t,v,$t(n)):a!=null?Qi(t,v,$t(a)):o!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+$t(T):t.removeAttribute("name")}function Gr(t,n,a,o,h,d,v,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),n!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||n!=null))return;a=a!=null?""+$t(a):"",n=n!=null?""+$t(n):a,T||n===t.value||(t.value=n),t.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=T?t.checked:!!o,t.defaultChecked=!!o,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v)}function Qi(t,n,a){n==="number"&&Hr(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function hi(t,n,a,o){if(t=t.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=n.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&o&&(t[a].defaultSelected=!0)}else{for(a=""+$t(a),n=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function Ke(t,n,a){if(n!=null&&(n=""+$t(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+$t(a):""}function Fr(t,n,a,o){if(n==null){if(o!=null){if(a!=null)throw Error(s(92));if(rt(o)){if(1<o.length)throw Error(s(93));o=o[0]}a=o}a==null&&(a=""),n=a}a=$t(n),t.defaultValue=a,o=t.textContent,o===a&&o!==""&&o!==null&&(t.value=o)}function mn(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var Kr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ql(t,n,a){var o=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":o?t.setProperty(n,a):typeof a!="number"||a===0||Kr.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function ro(t,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&a[h]!==o&&ql(t,h,o)}else for(var d in n)n.hasOwnProperty(d)&&ql(t,d,n[d])}function so(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var oh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),lh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Us(t){return lh.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var fi=null;function gn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var di=null,mi=null;function ao(t){var n=Ln(t);if(n&&(t=n.stateNode)){var a=t[dt]||null;e:switch(t=n.stateNode,n.type){case"input":if(rn(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+mt(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var o=a[n];if(o!==t&&o.form===t.form){var h=o[dt]||null;if(!h)throw Error(s(90));rn(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)o=a[n],o.form===t.form&&io(o)}break e;case"textarea":Ke(t,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&hi(t,!!a.multiple,n,!1)}}}var Bn=!1;function Hl(t,n,a){if(Bn)return t(n,a);Bn=!0;try{var o=t(n);return o}finally{if(Bn=!1,(di!==null||mi!==null)&&(ku(),di&&(n=di,t=mi,mi=di=null,ao(n),t)))for(n=0;n<t.length;n++)ao(t[n])}}function Qr(t,n){var a=t.stateNode;if(a===null)return null;var o=a[dt]||null;if(o===null)return null;a=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var Nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pn=!1;if(Nn)try{var Yr={};Object.defineProperty(Yr,"passive",{get:function(){pn=!0}}),window.addEventListener("test",Yr,Yr),window.removeEventListener("test",Yr,Yr)}catch{pn=!1}var qn=null,Yi=null,gi=null;function oo(){if(gi)return gi;var t,n=Yi,a=n.length,o,h="value"in qn?qn.value:qn.textContent,d=h.length;for(t=0;t<a&&n[t]===h[t];t++);var v=a-t;for(o=1;o<=v&&n[a-o]===h[d-o];o++);return gi=h.slice(t,1<o?1-o:void 0)}function Hn(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Gn(){return!0}function lo(){return!1}function wt(t){function n(a,o,h,d,v){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Gn:lo,this.isPropagationStopped=lo,this}return E(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Gn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Gn)},persist:function(){},isPersistent:Gn}),n}var Be={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ks=wt(Be),Xr=E({},Be,{view:0,detail:0}),Gl=wt(Xr),Ps,Ls,Fn,$r=E({},Xr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Fn&&(Fn&&t.type==="mousemove"?(Ps=t.screenX-Fn.screenX,Ls=t.screenY-Fn.screenY):Ls=Ps=0,Fn=t),Ps)},movementY:function(t){return"movementY"in t?t.movementY:Ls}}),yn=wt($r),Fl=E({},$r,{dataTransfer:0}),uh=wt(Fl),Zr=E({},Xr,{relatedTarget:0}),zs=wt(Zr),uo=E({},Be,{animationName:0,elapsedTime:0,pseudoElement:0}),js=wt(uo),Kl=E({},Be,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Bs=wt(Kl),ch=E({},Be,{data:0}),co=wt(ch),Wr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ql={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Yl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ho(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Yl[t])?!!n[t]:!1}function Jr(){return ho}var Xl=E({},Xr,{key:function(t){if(t.key){var n=Wr[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Hn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ql[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jr,charCode:function(t){return t.type==="keypress"?Hn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Hn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),qs=wt(Xl),$l=E({},$r,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fo=wt($l),pi=E({},Xr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jr}),Zl=wt(pi),Wl=E({},Be,{propertyName:0,elapsedTime:0,pseudoElement:0}),Jl=wt(Wl),eu=E({},$r,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Hs=wt(eu),Zt=E({},Be,{newState:0,oldState:0}),tu=wt(Zt),nu=[9,13,27,32],Kn=Nn&&"CompositionEvent"in window,u=null;Nn&&"documentMode"in document&&(u=document.documentMode);var m=Nn&&"TextEvent"in window&&!u,_=Nn&&(!Kn||u&&8<u&&11>=u),S=" ",k=!1;function F(t,n){switch(t){case"keyup":return nu.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ne(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ve=!1;function Et(t,n){switch(t){case"compositionend":return ne(n);case"keypress":return n.which!==32?null:(k=!0,S);case"textInput":return t=n.data,t===S&&k?null:t;default:return null}}function xe(t,n){if(Ve)return t==="compositionend"||!Kn&&F(t,n)?(t=oo(),gi=Yi=qn=null,Ve=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return _&&n.locale!=="ko"?null:n.data;default:return null}}var Rt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tt(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Rt[t.type]:n==="textarea"}function yi(t,n,a,o){di?mi?mi.push(o):mi=[o]:di=o,n=qu(n,"onChange"),0<n.length&&(a=new ks("onChange","change",null,a,o),t.push({event:a,listeners:n}))}var xt=null,Qn=null;function mo(t){Ay(t,0)}function iu(t){var n=zn(t);if(io(n))return t}function Gm(t,n){if(t==="change")return n}var Fm=!1;if(Nn){var hh;if(Nn){var fh="oninput"in document;if(!fh){var Km=document.createElement("div");Km.setAttribute("oninput","return;"),fh=typeof Km.oninput=="function"}hh=fh}else hh=!1;Fm=hh&&(!document.documentMode||9<document.documentMode)}function Qm(){xt&&(xt.detachEvent("onpropertychange",Ym),Qn=xt=null)}function Ym(t){if(t.propertyName==="value"&&iu(Qn)){var n=[];yi(n,Qn,t,gn(t)),Hl(mo,n)}}function K0(t,n,a){t==="focusin"?(Qm(),xt=n,Qn=a,xt.attachEvent("onpropertychange",Ym)):t==="focusout"&&Qm()}function Q0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return iu(Qn)}function Y0(t,n){if(t==="click")return iu(n)}function X0(t,n){if(t==="input"||t==="change")return iu(n)}function $0(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var sn=typeof Object.is=="function"?Object.is:$0;function go(t,n){if(sn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),o=Object.keys(n);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!Mr.call(n,h)||!sn(t[h],n[h]))return!1}return!0}function Xm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function $m(t,n){var a=Xm(t);t=0;for(var o;a;){if(a.nodeType===3){if(o=t+a.textContent.length,t<=n&&o>=n)return{node:a,offset:n-t};t=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Xm(a)}}function Zm(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Zm(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Wm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Hr(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=Hr(t.document)}return n}function dh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var Z0=Nn&&"documentMode"in document&&11>=document.documentMode,Gs=null,mh=null,po=null,gh=!1;function Jm(t,n,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;gh||Gs==null||Gs!==Hr(o)||(o=Gs,"selectionStart"in o&&dh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),po&&go(po,o)||(po=o,o=qu(mh,"onSelect"),0<o.length&&(n=new ks("onSelect","select",null,n,a),t.push({event:n,listeners:o}),n.target=Gs)))}function es(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var Fs={animationend:es("Animation","AnimationEnd"),animationiteration:es("Animation","AnimationIteration"),animationstart:es("Animation","AnimationStart"),transitionrun:es("Transition","TransitionRun"),transitionstart:es("Transition","TransitionStart"),transitioncancel:es("Transition","TransitionCancel"),transitionend:es("Transition","TransitionEnd")},ph={},eg={};Nn&&(eg=document.createElement("div").style,"AnimationEvent"in window||(delete Fs.animationend.animation,delete Fs.animationiteration.animation,delete Fs.animationstart.animation),"TransitionEvent"in window||delete Fs.transitionend.transition);function ts(t){if(ph[t])return ph[t];if(!Fs[t])return t;var n=Fs[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in eg)return ph[t]=n[a];return t}var tg=ts("animationend"),ng=ts("animationiteration"),ig=ts("animationstart"),W0=ts("transitionrun"),J0=ts("transitionstart"),eT=ts("transitioncancel"),rg=ts("transitionend"),sg=new Map,yh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");yh.push("scrollEnd");function On(t,n){sg.set(t,n),Dn(n,[t])}var ag=new WeakMap;function _n(t,n){if(typeof t=="object"&&t!==null){var a=ag.get(t);return a!==void 0?a:(n={value:t,source:n,stack:Vs(n)},ag.set(t,n),n)}return{value:t,source:n,stack:Vs(n)}}var vn=[],Ks=0,_h=0;function ru(){for(var t=Ks,n=_h=Ks=0;n<t;){var a=vn[n];vn[n++]=null;var o=vn[n];vn[n++]=null;var h=vn[n];vn[n++]=null;var d=vn[n];if(vn[n++]=null,o!==null&&h!==null){var v=o.pending;v===null?h.next=h:(h.next=v.next,v.next=h),o.pending=h}d!==0&&og(a,h,d)}}function su(t,n,a,o){vn[Ks++]=t,vn[Ks++]=n,vn[Ks++]=a,vn[Ks++]=o,_h|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function vh(t,n,a,o){return su(t,n,a,o),au(t)}function Qs(t,n){return su(t,null,null,n),au(t)}function og(t,n,a){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,o=d.alternate,o!==null&&(o.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&n!==null&&(h=31-qt(a),t=d.hiddenUpdates,o=t[h],o===null?t[h]=[n]:o.push(n),n.lane=a|536870912),d):null}function au(t){if(50<Bo)throw Bo=0,Rf=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Ys={};function tT(t,n,a,o){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function an(t,n,a,o){return new tT(t,n,a,o)}function Eh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function _i(t,n){var a=t.alternate;return a===null?(a=an(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function lg(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function ou(t,n,a,o,h,d){var v=0;if(o=t,typeof t=="function")Eh(t)&&(v=1);else if(typeof t=="string")v=iS(t,a,me.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=an(31,a,n,h),t.elementType=R,t.lanes=d,t;case X:return ns(a.children,h,d,n);case j:v=8,h|=24;break;case H:return t=an(12,a,n,h|2),t.elementType=H,t.lanes=d,t;case fe:return t=an(13,a,n,h),t.elementType=fe,t.lanes=d,t;case Te:return t=an(19,a,n,h),t.elementType=Te,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case se:case ae:v=10;break e;case ee:v=9;break e;case Se:v=11;break e;case O:v=14;break e;case b:v=16,o=null;break e}v=29,a=Error(s(130,t===null?"null":typeof t,"")),o=null}return n=an(v,a,n,h),n.elementType=t,n.type=o,n.lanes=d,n}function ns(t,n,a,o){return t=an(7,t,o,n),t.lanes=a,t}function Th(t,n,a){return t=an(6,t,null,n),t.lanes=a,t}function Sh(t,n,a){return n=an(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Xs=[],$s=0,lu=null,uu=0,En=[],Tn=0,is=null,vi=1,Ei="";function rs(t,n){Xs[$s++]=uu,Xs[$s++]=lu,lu=t,uu=n}function ug(t,n,a){En[Tn++]=vi,En[Tn++]=Ei,En[Tn++]=is,is=t;var o=vi;t=Ei;var h=32-qt(o)-1;o&=~(1<<h),a+=1;var d=32-qt(n)+h;if(30<d){var v=h-h%5;d=(o&(1<<v)-1).toString(32),o>>=v,h-=v,vi=1<<32-qt(n)+h|a<<h|o,Ei=d+t}else vi=1<<d|a<<h|o,Ei=t}function Ah(t){t.return!==null&&(rs(t,1),ug(t,1,0))}function bh(t){for(;t===lu;)lu=Xs[--$s],Xs[$s]=null,uu=Xs[--$s],Xs[$s]=null;for(;t===is;)is=En[--Tn],En[Tn]=null,Ei=En[--Tn],En[Tn]=null,vi=En[--Tn],En[Tn]=null}var Wt=null,at=null,je=!1,ss=null,Yn=!1,wh=Error(s(519));function as(t){var n=Error(s(418,""));throw vo(_n(n,t)),wh}function cg(t){var n=t.stateNode,a=t.type,o=t.memoizedProps;switch(n[vt]=t,n[dt]=o,a){case"dialog":Ne("cancel",n),Ne("close",n);break;case"iframe":case"object":case"embed":Ne("load",n);break;case"video":case"audio":for(a=0;a<Ho.length;a++)Ne(Ho[a],n);break;case"source":Ne("error",n);break;case"img":case"image":case"link":Ne("error",n),Ne("load",n);break;case"details":Ne("toggle",n);break;case"input":Ne("invalid",n),Gr(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),xs(n);break;case"select":Ne("invalid",n);break;case"textarea":Ne("invalid",n),Fr(n,o.value,o.defaultValue,o.children),xs(n)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||o.suppressHydrationWarning===!0||Iy(n.textContent,a)?(o.popover!=null&&(Ne("beforetoggle",n),Ne("toggle",n)),o.onScroll!=null&&Ne("scroll",n),o.onScrollEnd!=null&&Ne("scrollend",n),o.onClick!=null&&(n.onclick=Hu),n=!0):n=!1,n||as(t)}function hg(t){for(Wt=t.return;Wt;)switch(Wt.tag){case 5:case 13:Yn=!1;return;case 27:case 3:Yn=!0;return;default:Wt=Wt.return}}function yo(t){if(t!==Wt)return!1;if(!je)return hg(t),je=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||qf(t.type,t.memoizedProps)),a=!a),a&&at&&as(t),hg(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(n===0){at=Vn(t.nextSibling);break e}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++;t=t.nextSibling}at=null}}else n===27?(n=at,cr(t.type)?(t=Kf,Kf=null,at=t):at=n):at=Wt?Vn(t.stateNode.nextSibling):null;return!0}function _o(){at=Wt=null,je=!1}function fg(){var t=ss;return t!==null&&(tn===null?tn=t:tn.push.apply(tn,t),ss=null),t}function vo(t){ss===null?ss=[t]:ss.push(t)}var Rh=W(null),os=null,Ti=null;function Xi(t,n,a){te(Rh,n._currentValue),n._currentValue=a}function Si(t){t._currentValue=Rh.current,re(Rh)}function Ih(t,n,a){for(;t!==null;){var o=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),t===a)break;t=t.return}}function Ch(t,n,a,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=h;for(var w=0;w<n.length;w++)if(T.context===n[w]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),Ih(d.return,a,t),o||(v=null);break e}d=T.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),Ih(v,a,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function Eo(t,n,a,o){t=null;for(var h=n,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var T=h.type;sn(h.pendingProps.value,v.value)||(t!==null?t.push(T):t=[T])}}else if(h===bt.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Xo):t=[Xo])}h=h.return}t!==null&&Ch(n,t,a,o),n.flags|=262144}function cu(t){for(t=t.firstContext;t!==null;){if(!sn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ls(t){os=t,Ti=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ht(t){return dg(os,t)}function hu(t,n){return os===null&&ls(t),dg(t,n)}function dg(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Ti===null){if(t===null)throw Error(s(308));Ti=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Ti=Ti.next=n;return a}var nT=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,o){t.push(o)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},iT=r.unstable_scheduleCallback,rT=r.unstable_NormalPriority,St={$$typeof:ae,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Dh(){return{controller:new nT,data:new Map,refCount:0}}function To(t){t.refCount--,t.refCount===0&&iT(rT,function(){t.controller.abort()})}var So=null,Nh=0,Zs=0,Ws=null;function sT(t,n){if(So===null){var a=So=[];Nh=0,Zs=Vf(),Ws={status:"pending",value:void 0,then:function(o){a.push(o)}}}return Nh++,n.then(mg,mg),n}function mg(){if(--Nh===0&&So!==null){Ws!==null&&(Ws.status="fulfilled");var t=So;So=null,Zs=0,Ws=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function aT(t,n){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var gg=K.S;K.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&sT(t,n),gg!==null&&gg(t,n)};var us=W(null);function Oh(){var t=us.current;return t!==null?t:We.pooledCache}function fu(t,n){n===null?te(us,us.current):te(us,n.pool)}function pg(){var t=Oh();return t===null?null:{parent:St._currentValue,pool:t}}var Ao=Error(s(460)),yg=Error(s(474)),du=Error(s(542)),Mh={then:function(){}};function _g(t){return t=t.status,t==="fulfilled"||t==="rejected"}function mu(){}function vg(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(mu,mu),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Tg(t),t;default:if(typeof n.status=="string")n.then(mu,mu);else{if(t=We,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Tg(t),t}throw bo=n,Ao}}var bo=null;function Eg(){if(bo===null)throw Error(s(459));var t=bo;return bo=null,t}function Tg(t){if(t===Ao||t===du)throw Error(s(483))}var $i=!1;function Vh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function xh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Zi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Wi(t,n,a){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(He&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=au(t),og(t,null,a),n}return su(t,o,n,a),au(t)}function wo(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var o=n.lanes;o&=t.pendingLanes,a|=o,n.lanes=a,Wa(t,a)}}function Uh(t,n){var a=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=n:d=d.next=n}else h=d=n;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:o.shared,callbacks:o.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var kh=!1;function Ro(){if(kh){var t=Ws;if(t!==null)throw t}}function Io(t,n,a,o){kh=!1;var h=t.updateQueue;$i=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var w=T,z=w.next;w.next=null,v===null?d=z:v.next=z,v=w;var Q=t.alternate;Q!==null&&(Q=Q.updateQueue,T=Q.lastBaseUpdate,T!==v&&(T===null?Q.firstBaseUpdate=z:T.next=z,Q.lastBaseUpdate=w))}if(d!==null){var $=h.baseState;v=0,Q=z=w=null,T=d;do{var q=T.lane&-536870913,G=q!==T.lane;if(G?(Ue&q)===q:(o&q)===q){q!==0&&q===Zs&&(kh=!0),Q!==null&&(Q=Q.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var ye=t,ge=T;q=n;var Xe=a;switch(ge.tag){case 1:if(ye=ge.payload,typeof ye=="function"){$=ye.call(Xe,$,q);break e}$=ye;break e;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=ge.payload,q=typeof ye=="function"?ye.call(Xe,$,q):ye,q==null)break e;$=E({},$,q);break e;case 2:$i=!0}}q=T.callback,q!==null&&(t.flags|=64,G&&(t.flags|=8192),G=h.callbacks,G===null?h.callbacks=[q]:G.push(q))}else G={lane:q,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Q===null?(z=Q=G,w=$):Q=Q.next=G,v|=q;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;G=T,T=G.next,G.next=null,h.lastBaseUpdate=G,h.shared.pending=null}}while(!0);Q===null&&(w=$),h.baseState=w,h.firstBaseUpdate=z,h.lastBaseUpdate=Q,d===null&&(h.shared.lanes=0),ar|=v,t.lanes=v,t.memoizedState=$}}function Sg(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function Ag(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Sg(a[t],n)}var Js=W(null),gu=W(0);function bg(t,n){t=Di,te(gu,t),te(Js,n),Di=t|n.baseLanes}function Ph(){te(gu,Di),te(Js,Js.current)}function Lh(){Di=gu.current,re(Js),re(gu)}var Ji=0,Re=null,Qe=null,gt=null,pu=!1,ea=!1,cs=!1,yu=0,Co=0,ta=null,oT=0;function ct(){throw Error(s(321))}function zh(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!sn(t[a],n[a]))return!1;return!0}function jh(t,n,a,o,h,d){return Ji=d,Re=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,K.H=t===null||t.memoizedState===null?op:lp,cs=!1,d=a(o,h),cs=!1,ea&&(d=Rg(n,a,o,h)),wg(t),d}function wg(t){K.H=Au;var n=Qe!==null&&Qe.next!==null;if(Ji=0,gt=Qe=Re=null,pu=!1,Co=0,ta=null,n)throw Error(s(300));t===null||It||(t=t.dependencies,t!==null&&cu(t)&&(It=!0))}function Rg(t,n,a,o){Re=t;var h=0;do{if(ea&&(ta=null),Co=0,ea=!1,25<=h)throw Error(s(301));if(h+=1,gt=Qe=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}K.H=mT,d=n(a,o)}while(ea);return d}function lT(){var t=K.H,n=t.useState()[0];return n=typeof n.then=="function"?Do(n):n,t=t.useState()[0],(Qe!==null?Qe.memoizedState:null)!==t&&(Re.flags|=1024),n}function Bh(){var t=yu!==0;return yu=0,t}function qh(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function Hh(t){if(pu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}pu=!1}Ji=0,gt=Qe=Re=null,ea=!1,Co=yu=0,ta=null}function Jt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gt===null?Re.memoizedState=gt=t:gt=gt.next=t,gt}function pt(){if(Qe===null){var t=Re.alternate;t=t!==null?t.memoizedState:null}else t=Qe.next;var n=gt===null?Re.memoizedState:gt.next;if(n!==null)gt=n,Qe=t;else{if(t===null)throw Re.alternate===null?Error(s(467)):Error(s(310));Qe=t,t={memoizedState:Qe.memoizedState,baseState:Qe.baseState,baseQueue:Qe.baseQueue,queue:Qe.queue,next:null},gt===null?Re.memoizedState=gt=t:gt=gt.next=t}return gt}function Gh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Do(t){var n=Co;return Co+=1,ta===null&&(ta=[]),t=vg(ta,t,n),n=Re,(gt===null?n.memoizedState:gt.next)===null&&(n=n.alternate,K.H=n===null||n.memoizedState===null?op:lp),t}function _u(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Do(t);if(t.$$typeof===ae)return Ht(t)}throw Error(s(438,String(t)))}function Fh(t){var n=null,a=Re.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var o=Re.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Gh(),Re.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),o=0;o<t;o++)a[o]=M;return n.index++,a}function Ai(t,n){return typeof n=="function"?n(t):n}function vu(t){var n=pt();return Kh(n,Qe,t)}function Kh(t,n,a){var o=t.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=a;var h=t.baseQueue,d=o.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}n.baseQueue=h=d,o.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{n=h.next;var T=v=null,w=null,z=n,Q=!1;do{var $=z.lane&-536870913;if($!==z.lane?(Ue&$)===$:(Ji&$)===$){var q=z.revertLane;if(q===0)w!==null&&(w=w.next={lane:0,revertLane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),$===Zs&&(Q=!0);else if((Ji&q)===q){z=z.next,q===Zs&&(Q=!0);continue}else $={lane:0,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},w===null?(T=w=$,v=d):w=w.next=$,Re.lanes|=q,ar|=q;$=z.action,cs&&a(d,$),d=z.hasEagerState?z.eagerState:a(d,$)}else q={lane:$,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},w===null?(T=w=q,v=d):w=w.next=q,Re.lanes|=$,ar|=$;z=z.next}while(z!==null&&z!==n);if(w===null?v=d:w.next=T,!sn(d,t.memoizedState)&&(It=!0,Q&&(a=Ws,a!==null)))throw a;t.memoizedState=d,t.baseState=v,t.baseQueue=w,o.lastRenderedState=d}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function Qh(t){var n=pt(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var o=a.dispatch,h=a.pending,d=n.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=t(d,v.action),v=v.next;while(v!==h);sn(d,n.memoizedState)||(It=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),a.lastRenderedState=d}return[d,o]}function Ig(t,n,a){var o=Re,h=pt(),d=je;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=n();var v=!sn((Qe||h).memoizedState,a);v&&(h.memoizedState=a,It=!0),h=h.queue;var T=Ng.bind(null,o,h,t);if(No(2048,8,T,[t]),h.getSnapshot!==n||v||gt!==null&&gt.memoizedState.tag&1){if(o.flags|=2048,na(9,Eu(),Dg.bind(null,o,h,a,n),null),We===null)throw Error(s(349));d||(Ji&124)!==0||Cg(o,n,a)}return a}function Cg(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=Re.updateQueue,n===null?(n=Gh(),Re.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function Dg(t,n,a,o){n.value=a,n.getSnapshot=o,Og(n)&&Mg(t)}function Ng(t,n,a){return a(function(){Og(n)&&Mg(t)})}function Og(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!sn(t,a)}catch{return!0}}function Mg(t){var n=Qs(t,2);n!==null&&hn(n,t,2)}function Yh(t){var n=Jt();if(typeof t=="function"){var a=t;if(t=a(),cs){nn(!0);try{a()}finally{nn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ai,lastRenderedState:t},n}function Vg(t,n,a,o){return t.baseState=a,Kh(t,Qe,typeof o=="function"?o:Ai)}function uT(t,n,a,o,h){if(Su(t))throw Error(s(485));if(t=n.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};K.T!==null?a(!0):d.isTransition=!1,o(d),a=n.pending,a===null?(d.next=n.pending=d,xg(n,d)):(d.next=a.next,n.pending=a.next=d)}}function xg(t,n){var a=n.action,o=n.payload,h=t.state;if(n.isTransition){var d=K.T,v={};K.T=v;try{var T=a(h,o),w=K.S;w!==null&&w(v,T),Ug(t,n,T)}catch(z){Xh(t,n,z)}finally{K.T=d}}else try{d=a(h,o),Ug(t,n,d)}catch(z){Xh(t,n,z)}}function Ug(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){kg(t,n,o)},function(o){return Xh(t,n,o)}):kg(t,n,a)}function kg(t,n,a){n.status="fulfilled",n.value=a,Pg(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,xg(t,a)))}function Xh(t,n,a){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=a,Pg(n),n=n.next;while(n!==o)}t.action=null}function Pg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Lg(t,n){return n}function zg(t,n){if(je){var a=We.formState;if(a!==null){e:{var o=Re;if(je){if(at){t:{for(var h=at,d=Yn;h.nodeType!==8;){if(!d){h=null;break t}if(h=Vn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){at=Vn(h.nextSibling),o=h.data==="F!";break e}}as(o)}o=!1}o&&(n=a[0])}}return a=Jt(),a.memoizedState=a.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Lg,lastRenderedState:n},a.queue=o,a=rp.bind(null,Re,o),o.dispatch=a,o=Yh(!1),d=ef.bind(null,Re,!1,o.queue),o=Jt(),h={state:n,dispatch:null,action:t,pending:null},o.queue=h,a=uT.bind(null,Re,h,d,a),h.dispatch=a,o.memoizedState=t,[n,a,!1]}function jg(t){var n=pt();return Bg(n,Qe,t)}function Bg(t,n,a){if(n=Kh(t,n,Lg)[0],t=vu(Ai)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Do(n)}catch(v){throw v===Ao?du:v}else o=n;n=pt();var h=n.queue,d=h.dispatch;return a!==n.memoizedState&&(Re.flags|=2048,na(9,Eu(),cT.bind(null,h,a),null)),[o,d,t]}function cT(t,n){t.action=n}function qg(t){var n=pt(),a=Qe;if(a!==null)return Bg(n,a,t);pt(),n=n.memoizedState,a=pt();var o=a.queue.dispatch;return a.memoizedState=t,[n,o,!1]}function na(t,n,a,o){return t={tag:t,create:a,deps:o,inst:n,next:null},n=Re.updateQueue,n===null&&(n=Gh(),Re.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(o=a.next,a.next=t,t.next=o,n.lastEffect=t),t}function Eu(){return{destroy:void 0,resource:void 0}}function Hg(){return pt().memoizedState}function Tu(t,n,a,o){var h=Jt();o=o===void 0?null:o,Re.flags|=t,h.memoizedState=na(1|n,Eu(),a,o)}function No(t,n,a,o){var h=pt();o=o===void 0?null:o;var d=h.memoizedState.inst;Qe!==null&&o!==null&&zh(o,Qe.memoizedState.deps)?h.memoizedState=na(n,d,a,o):(Re.flags|=t,h.memoizedState=na(1|n,d,a,o))}function Gg(t,n){Tu(8390656,8,t,n)}function Fg(t,n){No(2048,8,t,n)}function Kg(t,n){return No(4,2,t,n)}function Qg(t,n){return No(4,4,t,n)}function Yg(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Xg(t,n,a){a=a!=null?a.concat([t]):null,No(4,4,Yg.bind(null,n,t),a)}function $h(){}function $g(t,n){var a=pt();n=n===void 0?null:n;var o=a.memoizedState;return n!==null&&zh(n,o[1])?o[0]:(a.memoizedState=[t,n],t)}function Zg(t,n){var a=pt();n=n===void 0?null:n;var o=a.memoizedState;if(n!==null&&zh(n,o[1]))return o[0];if(o=t(),cs){nn(!0);try{t()}finally{nn(!1)}}return a.memoizedState=[o,n],o}function Zh(t,n,a){return a===void 0||(Ji&1073741824)!==0?t.memoizedState=n:(t.memoizedState=a,t=ey(),Re.lanes|=t,ar|=t,a)}function Wg(t,n,a,o){return sn(a,n)?a:Js.current!==null?(t=Zh(t,a,o),sn(t,n)||(It=!0),t):(Ji&42)===0?(It=!0,t.memoizedState=a):(t=ey(),Re.lanes|=t,ar|=t,n)}function Jg(t,n,a,o,h){var d=ie.p;ie.p=d!==0&&8>d?d:8;var v=K.T,T={};K.T=T,ef(t,!1,n,a);try{var w=h(),z=K.S;if(z!==null&&z(T,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var Q=aT(w,o);Oo(t,n,Q,cn(t))}else Oo(t,n,o,cn(t))}catch($){Oo(t,n,{then:function(){},status:"rejected",reason:$},cn())}finally{ie.p=d,K.T=v}}function hT(){}function Wh(t,n,a,o){if(t.tag!==5)throw Error(s(476));var h=ep(t).queue;Jg(t,h,n,he,a===null?hT:function(){return tp(t),a(o)})}function ep(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:he,baseState:he,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ai,lastRenderedState:he},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ai,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function tp(t){var n=ep(t).next.queue;Oo(t,n,{},cn())}function Jh(){return Ht(Xo)}function np(){return pt().memoizedState}function ip(){return pt().memoizedState}function fT(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=cn();t=Zi(a);var o=Wi(n,t,a);o!==null&&(hn(o,n,a),wo(o,n,a)),n={cache:Dh()},t.payload=n;return}n=n.return}}function dT(t,n,a){var o=cn();a={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Su(t)?sp(n,a):(a=vh(t,n,a,o),a!==null&&(hn(a,t,o),ap(a,n,o)))}function rp(t,n,a){var o=cn();Oo(t,n,a,o)}function Oo(t,n,a,o){var h={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Su(t))sp(n,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var v=n.lastRenderedState,T=d(v,a);if(h.hasEagerState=!0,h.eagerState=T,sn(T,v))return su(t,n,h,0),We===null&&ru(),!1}catch{}finally{}if(a=vh(t,n,h,o),a!==null)return hn(a,t,o),ap(a,n,o),!0}return!1}function ef(t,n,a,o){if(o={lane:2,revertLane:Vf(),action:o,hasEagerState:!1,eagerState:null,next:null},Su(t)){if(n)throw Error(s(479))}else n=vh(t,a,o,2),n!==null&&hn(n,t,2)}function Su(t){var n=t.alternate;return t===Re||n!==null&&n===Re}function sp(t,n){ea=pu=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function ap(t,n,a){if((a&4194048)!==0){var o=n.lanes;o&=t.pendingLanes,a|=o,n.lanes=a,Wa(t,a)}}var Au={readContext:Ht,use:_u,useCallback:ct,useContext:ct,useEffect:ct,useImperativeHandle:ct,useLayoutEffect:ct,useInsertionEffect:ct,useMemo:ct,useReducer:ct,useRef:ct,useState:ct,useDebugValue:ct,useDeferredValue:ct,useTransition:ct,useSyncExternalStore:ct,useId:ct,useHostTransitionStatus:ct,useFormState:ct,useActionState:ct,useOptimistic:ct,useMemoCache:ct,useCacheRefresh:ct},op={readContext:Ht,use:_u,useCallback:function(t,n){return Jt().memoizedState=[t,n===void 0?null:n],t},useContext:Ht,useEffect:Gg,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,Tu(4194308,4,Yg.bind(null,n,t),a)},useLayoutEffect:function(t,n){return Tu(4194308,4,t,n)},useInsertionEffect:function(t,n){Tu(4,2,t,n)},useMemo:function(t,n){var a=Jt();n=n===void 0?null:n;var o=t();if(cs){nn(!0);try{t()}finally{nn(!1)}}return a.memoizedState=[o,n],o},useReducer:function(t,n,a){var o=Jt();if(a!==void 0){var h=a(n);if(cs){nn(!0);try{a(n)}finally{nn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=dT.bind(null,Re,t),[o.memoizedState,t]},useRef:function(t){var n=Jt();return t={current:t},n.memoizedState=t},useState:function(t){t=Yh(t);var n=t.queue,a=rp.bind(null,Re,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:$h,useDeferredValue:function(t,n){var a=Jt();return Zh(a,t,n)},useTransition:function(){var t=Yh(!1);return t=Jg.bind(null,Re,t.queue,!0,!1),Jt().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var o=Re,h=Jt();if(je){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),We===null)throw Error(s(349));(Ue&124)!==0||Cg(o,n,a)}h.memoizedState=a;var d={value:a,getSnapshot:n};return h.queue=d,Gg(Ng.bind(null,o,d,t),[t]),o.flags|=2048,na(9,Eu(),Dg.bind(null,o,d,a,n),null),a},useId:function(){var t=Jt(),n=We.identifierPrefix;if(je){var a=Ei,o=vi;a=(o&~(1<<32-qt(o)-1)).toString(32)+a,n="«"+n+"R"+a,a=yu++,0<a&&(n+="H"+a.toString(32)),n+="»"}else a=oT++,n="«"+n+"r"+a.toString(32)+"»";return t.memoizedState=n},useHostTransitionStatus:Jh,useFormState:zg,useActionState:zg,useOptimistic:function(t){var n=Jt();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=ef.bind(null,Re,!0,a),a.dispatch=n,[t,n]},useMemoCache:Fh,useCacheRefresh:function(){return Jt().memoizedState=fT.bind(null,Re)}},lp={readContext:Ht,use:_u,useCallback:$g,useContext:Ht,useEffect:Fg,useImperativeHandle:Xg,useInsertionEffect:Kg,useLayoutEffect:Qg,useMemo:Zg,useReducer:vu,useRef:Hg,useState:function(){return vu(Ai)},useDebugValue:$h,useDeferredValue:function(t,n){var a=pt();return Wg(a,Qe.memoizedState,t,n)},useTransition:function(){var t=vu(Ai)[0],n=pt().memoizedState;return[typeof t=="boolean"?t:Do(t),n]},useSyncExternalStore:Ig,useId:np,useHostTransitionStatus:Jh,useFormState:jg,useActionState:jg,useOptimistic:function(t,n){var a=pt();return Vg(a,Qe,t,n)},useMemoCache:Fh,useCacheRefresh:ip},mT={readContext:Ht,use:_u,useCallback:$g,useContext:Ht,useEffect:Fg,useImperativeHandle:Xg,useInsertionEffect:Kg,useLayoutEffect:Qg,useMemo:Zg,useReducer:Qh,useRef:Hg,useState:function(){return Qh(Ai)},useDebugValue:$h,useDeferredValue:function(t,n){var a=pt();return Qe===null?Zh(a,t,n):Wg(a,Qe.memoizedState,t,n)},useTransition:function(){var t=Qh(Ai)[0],n=pt().memoizedState;return[typeof t=="boolean"?t:Do(t),n]},useSyncExternalStore:Ig,useId:np,useHostTransitionStatus:Jh,useFormState:qg,useActionState:qg,useOptimistic:function(t,n){var a=pt();return Qe!==null?Vg(a,Qe,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Fh,useCacheRefresh:ip},ia=null,Mo=0;function bu(t){var n=Mo;return Mo+=1,ia===null&&(ia=[]),vg(ia,t,n)}function Vo(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function wu(t,n){throw n.$$typeof===A?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function up(t){var n=t._init;return n(t._payload)}function cp(t){function n(x,N){if(t){var P=x.deletions;P===null?(x.deletions=[N],x.flags|=16):P.push(N)}}function a(x,N){if(!t)return null;for(;N!==null;)n(x,N),N=N.sibling;return null}function o(x){for(var N=new Map;x!==null;)x.key!==null?N.set(x.key,x):N.set(x.index,x),x=x.sibling;return N}function h(x,N){return x=_i(x,N),x.index=0,x.sibling=null,x}function d(x,N,P){return x.index=P,t?(P=x.alternate,P!==null?(P=P.index,P<N?(x.flags|=67108866,N):P):(x.flags|=67108866,N)):(x.flags|=1048576,N)}function v(x){return t&&x.alternate===null&&(x.flags|=67108866),x}function T(x,N,P,Y){return N===null||N.tag!==6?(N=Th(P,x.mode,Y),N.return=x,N):(N=h(N,P),N.return=x,N)}function w(x,N,P,Y){var le=P.type;return le===X?Q(x,N,P.props.children,Y,P.key):N!==null&&(N.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===b&&up(le)===N.type)?(N=h(N,P.props),Vo(N,P),N.return=x,N):(N=ou(P.type,P.key,P.props,null,x.mode,Y),Vo(N,P),N.return=x,N)}function z(x,N,P,Y){return N===null||N.tag!==4||N.stateNode.containerInfo!==P.containerInfo||N.stateNode.implementation!==P.implementation?(N=Sh(P,x.mode,Y),N.return=x,N):(N=h(N,P.children||[]),N.return=x,N)}function Q(x,N,P,Y,le){return N===null||N.tag!==7?(N=ns(P,x.mode,Y,le),N.return=x,N):(N=h(N,P),N.return=x,N)}function $(x,N,P){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Th(""+N,x.mode,P),N.return=x,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case D:return P=ou(N.type,N.key,N.props,null,x.mode,P),Vo(P,N),P.return=x,P;case B:return N=Sh(N,x.mode,P),N.return=x,N;case b:var Y=N._init;return N=Y(N._payload),$(x,N,P)}if(rt(N)||U(N))return N=ns(N,x.mode,P,null),N.return=x,N;if(typeof N.then=="function")return $(x,bu(N),P);if(N.$$typeof===ae)return $(x,hu(x,N),P);wu(x,N)}return null}function q(x,N,P,Y){var le=N!==null?N.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return le!==null?null:T(x,N,""+P,Y);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case D:return P.key===le?w(x,N,P,Y):null;case B:return P.key===le?z(x,N,P,Y):null;case b:return le=P._init,P=le(P._payload),q(x,N,P,Y)}if(rt(P)||U(P))return le!==null?null:Q(x,N,P,Y,null);if(typeof P.then=="function")return q(x,N,bu(P),Y);if(P.$$typeof===ae)return q(x,N,hu(x,P),Y);wu(x,P)}return null}function G(x,N,P,Y,le){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return x=x.get(P)||null,T(N,x,""+Y,le);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case D:return x=x.get(Y.key===null?P:Y.key)||null,w(N,x,Y,le);case B:return x=x.get(Y.key===null?P:Y.key)||null,z(N,x,Y,le);case b:var Ce=Y._init;return Y=Ce(Y._payload),G(x,N,P,Y,le)}if(rt(Y)||U(Y))return x=x.get(P)||null,Q(N,x,Y,le,null);if(typeof Y.then=="function")return G(x,N,P,bu(Y),le);if(Y.$$typeof===ae)return G(x,N,P,hu(N,Y),le);wu(N,Y)}return null}function ye(x,N,P,Y){for(var le=null,Ce=null,ce=N,pe=N=0,Dt=null;ce!==null&&pe<P.length;pe++){ce.index>pe?(Dt=ce,ce=null):Dt=ce.sibling;var Pe=q(x,ce,P[pe],Y);if(Pe===null){ce===null&&(ce=Dt);break}t&&ce&&Pe.alternate===null&&n(x,ce),N=d(Pe,N,pe),Ce===null?le=Pe:Ce.sibling=Pe,Ce=Pe,ce=Dt}if(pe===P.length)return a(x,ce),je&&rs(x,pe),le;if(ce===null){for(;pe<P.length;pe++)ce=$(x,P[pe],Y),ce!==null&&(N=d(ce,N,pe),Ce===null?le=ce:Ce.sibling=ce,Ce=ce);return je&&rs(x,pe),le}for(ce=o(ce);pe<P.length;pe++)Dt=G(ce,x,pe,P[pe],Y),Dt!==null&&(t&&Dt.alternate!==null&&ce.delete(Dt.key===null?pe:Dt.key),N=d(Dt,N,pe),Ce===null?le=Dt:Ce.sibling=Dt,Ce=Dt);return t&&ce.forEach(function(gr){return n(x,gr)}),je&&rs(x,pe),le}function ge(x,N,P,Y){if(P==null)throw Error(s(151));for(var le=null,Ce=null,ce=N,pe=N=0,Dt=null,Pe=P.next();ce!==null&&!Pe.done;pe++,Pe=P.next()){ce.index>pe?(Dt=ce,ce=null):Dt=ce.sibling;var gr=q(x,ce,Pe.value,Y);if(gr===null){ce===null&&(ce=Dt);break}t&&ce&&gr.alternate===null&&n(x,ce),N=d(gr,N,pe),Ce===null?le=gr:Ce.sibling=gr,Ce=gr,ce=Dt}if(Pe.done)return a(x,ce),je&&rs(x,pe),le;if(ce===null){for(;!Pe.done;pe++,Pe=P.next())Pe=$(x,Pe.value,Y),Pe!==null&&(N=d(Pe,N,pe),Ce===null?le=Pe:Ce.sibling=Pe,Ce=Pe);return je&&rs(x,pe),le}for(ce=o(ce);!Pe.done;pe++,Pe=P.next())Pe=G(ce,x,pe,Pe.value,Y),Pe!==null&&(t&&Pe.alternate!==null&&ce.delete(Pe.key===null?pe:Pe.key),N=d(Pe,N,pe),Ce===null?le=Pe:Ce.sibling=Pe,Ce=Pe);return t&&ce.forEach(function(gS){return n(x,gS)}),je&&rs(x,pe),le}function Xe(x,N,P,Y){if(typeof P=="object"&&P!==null&&P.type===X&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case D:e:{for(var le=P.key;N!==null;){if(N.key===le){if(le=P.type,le===X){if(N.tag===7){a(x,N.sibling),Y=h(N,P.props.children),Y.return=x,x=Y;break e}}else if(N.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===b&&up(le)===N.type){a(x,N.sibling),Y=h(N,P.props),Vo(Y,P),Y.return=x,x=Y;break e}a(x,N);break}else n(x,N);N=N.sibling}P.type===X?(Y=ns(P.props.children,x.mode,Y,P.key),Y.return=x,x=Y):(Y=ou(P.type,P.key,P.props,null,x.mode,Y),Vo(Y,P),Y.return=x,x=Y)}return v(x);case B:e:{for(le=P.key;N!==null;){if(N.key===le)if(N.tag===4&&N.stateNode.containerInfo===P.containerInfo&&N.stateNode.implementation===P.implementation){a(x,N.sibling),Y=h(N,P.children||[]),Y.return=x,x=Y;break e}else{a(x,N);break}else n(x,N);N=N.sibling}Y=Sh(P,x.mode,Y),Y.return=x,x=Y}return v(x);case b:return le=P._init,P=le(P._payload),Xe(x,N,P,Y)}if(rt(P))return ye(x,N,P,Y);if(U(P)){if(le=U(P),typeof le!="function")throw Error(s(150));return P=le.call(P),ge(x,N,P,Y)}if(typeof P.then=="function")return Xe(x,N,bu(P),Y);if(P.$$typeof===ae)return Xe(x,N,hu(x,P),Y);wu(x,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,N!==null&&N.tag===6?(a(x,N.sibling),Y=h(N,P),Y.return=x,x=Y):(a(x,N),Y=Th(P,x.mode,Y),Y.return=x,x=Y),v(x)):a(x,N)}return function(x,N,P,Y){try{Mo=0;var le=Xe(x,N,P,Y);return ia=null,le}catch(ce){if(ce===Ao||ce===du)throw ce;var Ce=an(29,ce,null,x.mode);return Ce.lanes=Y,Ce.return=x,Ce}finally{}}}var ra=cp(!0),hp=cp(!1),Sn=W(null),Xn=null;function er(t){var n=t.alternate;te(At,At.current&1),te(Sn,t),Xn===null&&(n===null||Js.current!==null||n.memoizedState!==null)&&(Xn=t)}function fp(t){if(t.tag===22){if(te(At,At.current),te(Sn,t),Xn===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(Xn=t)}}else tr()}function tr(){te(At,At.current),te(Sn,Sn.current)}function bi(t){re(Sn),Xn===t&&(Xn=null),re(At)}var At=W(0);function Ru(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Ff(a)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function tf(t,n,a,o){n=t.memoizedState,a=a(o,n),a=a==null?n:E({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var nf={enqueueSetState:function(t,n,a){t=t._reactInternals;var o=cn(),h=Zi(o);h.payload=n,a!=null&&(h.callback=a),n=Wi(t,h,o),n!==null&&(hn(n,t,o),wo(n,t,o))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var o=cn(),h=Zi(o);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=Wi(t,h,o),n!==null&&(hn(n,t,o),wo(n,t,o))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=cn(),o=Zi(a);o.tag=2,n!=null&&(o.callback=n),n=Wi(t,o,a),n!==null&&(hn(n,t,a),wo(n,t,a))}};function dp(t,n,a,o,h,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,d,v):n.prototype&&n.prototype.isPureReactComponent?!go(a,o)||!go(h,d):!0}function mp(t,n,a,o){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,o),n.state!==t&&nf.enqueueReplaceState(n,n.state,null)}function hs(t,n){var a=n;if("ref"in n){a={};for(var o in n)o!=="ref"&&(a[o]=n[o])}if(t=t.defaultProps){a===n&&(a=E({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var Iu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function gp(t){Iu(t)}function pp(t){console.error(t)}function yp(t){Iu(t)}function Cu(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function _p(t,n,a){try{var o=t.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function rf(t,n,a){return a=Zi(a),a.tag=3,a.payload={element:null},a.callback=function(){Cu(t,n)},a}function vp(t){return t=Zi(t),t.tag=3,t}function Ep(t,n,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=o.value;t.payload=function(){return h(d)},t.callback=function(){_p(n,a,o)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){_p(n,a,o),typeof h!="function"&&(or===null?or=new Set([this]):or.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})})}function gT(t,n,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=a.alternate,n!==null&&Eo(n,a,h,!0),a=Sn.current,a!==null){switch(a.tag){case 13:return Xn===null?Cf():a.alternate===null&&ot===0&&(ot=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===Mh?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([o]):n.add(o),Nf(t,o,h)),!1;case 22:return a.flags|=65536,o===Mh?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([o]):a.add(o)),Nf(t,o,h)),!1}throw Error(s(435,a.tag))}return Nf(t,o,h),Cf(),!1}if(je)return n=Sn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==wh&&(t=Error(s(422),{cause:o}),vo(_n(t,a)))):(o!==wh&&(n=Error(s(423),{cause:o}),vo(_n(n,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=_n(o,a),h=rf(t.stateNode,o,h),Uh(t,h),ot!==4&&(ot=2)),!1;var d=Error(s(520),{cause:o});if(d=_n(d,a),jo===null?jo=[d]:jo.push(d),ot!==4&&(ot=2),n===null)return!0;o=_n(o,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=rf(a.stateNode,o,t),Uh(a,t),!1;case 1:if(n=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(or===null||!or.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=vp(h),Ep(h,t,a,o),Uh(a,h),!1}a=a.return}while(a!==null);return!1}var Tp=Error(s(461)),It=!1;function Ut(t,n,a,o){n.child=t===null?hp(n,null,a,o):ra(n,t.child,a,o)}function Sp(t,n,a,o,h){a=a.render;var d=n.ref;if("ref"in o){var v={};for(var T in o)T!=="ref"&&(v[T]=o[T])}else v=o;return ls(n),o=jh(t,n,a,v,d,h),T=Bh(),t!==null&&!It?(qh(t,n,h),wi(t,n,h)):(je&&T&&Ah(n),n.flags|=1,Ut(t,n,o,h),n.child)}function Ap(t,n,a,o,h){if(t===null){var d=a.type;return typeof d=="function"&&!Eh(d)&&d.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=d,bp(t,n,d,o,h)):(t=ou(a.type,null,o,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(d=t.child,!ff(t,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:go,a(v,o)&&t.ref===n.ref)return wi(t,n,h)}return n.flags|=1,t=_i(d,o),t.ref=n.ref,t.return=n,n.child=t}function bp(t,n,a,o,h){if(t!==null){var d=t.memoizedProps;if(go(d,o)&&t.ref===n.ref)if(It=!1,n.pendingProps=o=d,ff(t,h))(t.flags&131072)!==0&&(It=!0);else return n.lanes=t.lanes,wi(t,n,h)}return sf(t,n,a,o,h)}function wp(t,n,a){var o=n.pendingProps,h=o.children,d=t!==null?t.memoizedState:null;if(o.mode==="hidden"){if((n.flags&128)!==0){if(o=d!==null?d.baseLanes|a:a,t!==null){for(h=n.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;n.childLanes=d&~o}else n.childLanes=0,n.child=null;return Rp(t,n,o,a)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&fu(n,d!==null?d.cachePool:null),d!==null?bg(n,d):Ph(),fp(n);else return n.lanes=n.childLanes=536870912,Rp(t,n,d!==null?d.baseLanes|a:a,a)}else d!==null?(fu(n,d.cachePool),bg(n,d),tr(),n.memoizedState=null):(t!==null&&fu(n,null),Ph(),tr());return Ut(t,n,h,a),n.child}function Rp(t,n,a,o){var h=Oh();return h=h===null?null:{parent:St._currentValue,pool:h},n.memoizedState={baseLanes:a,cachePool:h},t!==null&&fu(n,null),Ph(),fp(n),t!==null&&Eo(t,n,o,!0),null}function Du(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function sf(t,n,a,o,h){return ls(n),a=jh(t,n,a,o,void 0,h),o=Bh(),t!==null&&!It?(qh(t,n,h),wi(t,n,h)):(je&&o&&Ah(n),n.flags|=1,Ut(t,n,a,h),n.child)}function Ip(t,n,a,o,h,d){return ls(n),n.updateQueue=null,a=Rg(n,o,a,h),wg(t),o=Bh(),t!==null&&!It?(qh(t,n,d),wi(t,n,d)):(je&&o&&Ah(n),n.flags|=1,Ut(t,n,a,d),n.child)}function Cp(t,n,a,o,h){if(ls(n),n.stateNode===null){var d=Ys,v=a.contextType;typeof v=="object"&&v!==null&&(d=Ht(v)),d=new a(o,d),n.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=nf,n.stateNode=d,d._reactInternals=n,d=n.stateNode,d.props=o,d.state=n.memoizedState,d.refs={},Vh(n),v=a.contextType,d.context=typeof v=="object"&&v!==null?Ht(v):Ys,d.state=n.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(tf(n,a,v,o),d.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&nf.enqueueReplaceState(d,d.state,null),Io(n,o,d,h),Ro(),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(t===null){d=n.stateNode;var T=n.memoizedProps,w=hs(a,T);d.props=w;var z=d.context,Q=a.contextType;v=Ys,typeof Q=="object"&&Q!==null&&(v=Ht(Q));var $=a.getDerivedStateFromProps;Q=typeof $=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,Q||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||z!==v)&&mp(n,d,o,v),$i=!1;var q=n.memoizedState;d.state=q,Io(n,o,d,h),Ro(),z=n.memoizedState,T||q!==z||$i?(typeof $=="function"&&(tf(n,a,$,o),z=n.memoizedState),(w=$i||dp(n,a,w,o,q,z,v))?(Q||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(n.flags|=4194308)):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=z),d.props=o,d.state=z,d.context=v,o=w):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{d=n.stateNode,xh(t,n),v=n.memoizedProps,Q=hs(a,v),d.props=Q,$=n.pendingProps,q=d.context,z=a.contextType,w=Ys,typeof z=="object"&&z!==null&&(w=Ht(z)),T=a.getDerivedStateFromProps,(z=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==$||q!==w)&&mp(n,d,o,w),$i=!1,q=n.memoizedState,d.state=q,Io(n,o,d,h),Ro();var G=n.memoizedState;v!==$||q!==G||$i||t!==null&&t.dependencies!==null&&cu(t.dependencies)?(typeof T=="function"&&(tf(n,a,T,o),G=n.memoizedState),(Q=$i||dp(n,a,Q,o,q,G,w)||t!==null&&t.dependencies!==null&&cu(t.dependencies))?(z||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(o,G,w),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(o,G,w)),typeof d.componentDidUpdate=="function"&&(n.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=G),d.props=o,d.state=G,d.context=w,o=Q):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(n.flags|=1024),o=!1)}return d=o,Du(t,n),o=(n.flags&128)!==0,d||o?(d=n.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:d.render(),n.flags|=1,t!==null&&o?(n.child=ra(n,t.child,null,h),n.child=ra(n,null,a,h)):Ut(t,n,a,h),n.memoizedState=d.state,t=n.child):t=wi(t,n,h),t}function Dp(t,n,a,o){return _o(),n.flags|=256,Ut(t,n,a,o),n.child}var af={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function of(t){return{baseLanes:t,cachePool:pg()}}function lf(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=An),t}function Np(t,n,a){var o=n.pendingProps,h=!1,d=(n.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(At.current&2)!==0),v&&(h=!0,n.flags&=-129),v=(n.flags&32)!==0,n.flags&=-33,t===null){if(je){if(h?er(n):tr(),je){var T=at,w;if(w=T){e:{for(w=T,T=Yn;w.nodeType!==8;){if(!T){T=null;break e}if(w=Vn(w.nextSibling),w===null){T=null;break e}}T=w}T!==null?(n.memoizedState={dehydrated:T,treeContext:is!==null?{id:vi,overflow:Ei}:null,retryLane:536870912,hydrationErrors:null},w=an(18,null,null,0),w.stateNode=T,w.return=n,n.child=w,Wt=n,at=null,w=!0):w=!1}w||as(n)}if(T=n.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return Ff(T)?n.lanes=32:n.lanes=536870912,null;bi(n)}return T=o.children,o=o.fallback,h?(tr(),h=n.mode,T=Nu({mode:"hidden",children:T},h),o=ns(o,h,a,null),T.return=n,o.return=n,T.sibling=o,n.child=T,h=n.child,h.memoizedState=of(a),h.childLanes=lf(t,v,a),n.memoizedState=af,o):(er(n),uf(n,T))}if(w=t.memoizedState,w!==null&&(T=w.dehydrated,T!==null)){if(d)n.flags&256?(er(n),n.flags&=-257,n=cf(t,n,a)):n.memoizedState!==null?(tr(),n.child=t.child,n.flags|=128,n=null):(tr(),h=o.fallback,T=n.mode,o=Nu({mode:"visible",children:o.children},T),h=ns(h,T,a,null),h.flags|=2,o.return=n,h.return=n,o.sibling=h,n.child=o,ra(n,t.child,null,a),o=n.child,o.memoizedState=of(a),o.childLanes=lf(t,v,a),n.memoizedState=af,n=h);else if(er(n),Ff(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var z=v.dgst;v=z,o=Error(s(419)),o.stack="",o.digest=v,vo({value:o,source:null,stack:null}),n=cf(t,n,a)}else if(It||Eo(t,n,a,!1),v=(a&t.childLanes)!==0,It||v){if(v=We,v!==null&&(o=a&-a,o=(o&42)!==0?1:qi(o),o=(o&(v.suspendedLanes|a))!==0?0:o,o!==0&&o!==w.retryLane))throw w.retryLane=o,Qs(t,o),hn(v,t,o),Tp;T.data==="$?"||Cf(),n=cf(t,n,a)}else T.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=w.treeContext,at=Vn(T.nextSibling),Wt=n,je=!0,ss=null,Yn=!1,t!==null&&(En[Tn++]=vi,En[Tn++]=Ei,En[Tn++]=is,vi=t.id,Ei=t.overflow,is=n),n=uf(n,o.children),n.flags|=4096);return n}return h?(tr(),h=o.fallback,T=n.mode,w=t.child,z=w.sibling,o=_i(w,{mode:"hidden",children:o.children}),o.subtreeFlags=w.subtreeFlags&65011712,z!==null?h=_i(z,h):(h=ns(h,T,a,null),h.flags|=2),h.return=n,o.return=n,o.sibling=h,n.child=o,o=h,h=n.child,T=t.child.memoizedState,T===null?T=of(a):(w=T.cachePool,w!==null?(z=St._currentValue,w=w.parent!==z?{parent:z,pool:z}:w):w=pg(),T={baseLanes:T.baseLanes|a,cachePool:w}),h.memoizedState=T,h.childLanes=lf(t,v,a),n.memoizedState=af,o):(er(n),a=t.child,t=a.sibling,a=_i(a,{mode:"visible",children:o.children}),a.return=n,a.sibling=null,t!==null&&(v=n.deletions,v===null?(n.deletions=[t],n.flags|=16):v.push(t)),n.child=a,n.memoizedState=null,a)}function uf(t,n){return n=Nu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Nu(t,n){return t=an(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function cf(t,n,a){return ra(n,t.child,null,a),t=uf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Op(t,n,a){t.lanes|=n;var o=t.alternate;o!==null&&(o.lanes|=n),Ih(t.return,n,a)}function hf(t,n,a,o,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h}:(d.isBackwards=n,d.rendering=null,d.renderingStartTime=0,d.last=o,d.tail=a,d.tailMode=h)}function Mp(t,n,a){var o=n.pendingProps,h=o.revealOrder,d=o.tail;if(Ut(t,n,o.children,a),o=At.current,(o&2)!==0)o=o&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Op(t,a,n);else if(t.tag===19)Op(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}o&=1}switch(te(At,o),h){case"forwards":for(a=n.child,h=null;a!==null;)t=a.alternate,t!==null&&Ru(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),hf(n,!1,h,a,d);break;case"backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Ru(t)===null){n.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}hf(n,!0,a,null,d);break;case"together":hf(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function wi(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),ar|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(Eo(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,a=_i(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=_i(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function ff(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&cu(t)))}function pT(t,n,a){switch(n.tag){case 3:Ze(n,n.stateNode.containerInfo),Xi(n,St,t.memoizedState.cache),_o();break;case 27:case 5:Bi(n);break;case 4:Ze(n,n.stateNode.containerInfo);break;case 10:Xi(n,n.type,n.memoizedProps.value);break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(er(n),n.flags|=128,null):(a&n.child.childLanes)!==0?Np(t,n,a):(er(n),t=wi(t,n,a),t!==null?t.sibling:null);er(n);break;case 19:var h=(t.flags&128)!==0;if(o=(a&n.childLanes)!==0,o||(Eo(t,n,a,!1),o=(a&n.childLanes)!==0),h){if(o)return Mp(t,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),te(At,At.current),o)break;return null;case 22:case 23:return n.lanes=0,wp(t,n,a);case 24:Xi(n,St,t.memoizedState.cache)}return wi(t,n,a)}function Vp(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)It=!0;else{if(!ff(t,a)&&(n.flags&128)===0)return It=!1,pT(t,n,a);It=(t.flags&131072)!==0}else It=!1,je&&(n.flags&1048576)!==0&&ug(n,uu,n.index);switch(n.lanes=0,n.tag){case 16:e:{t=n.pendingProps;var o=n.elementType,h=o._init;if(o=h(o._payload),n.type=o,typeof o=="function")Eh(o)?(t=hs(o,t),n.tag=1,n=Cp(null,n,o,t,a)):(n.tag=0,n=sf(null,n,o,t,a));else{if(o!=null){if(h=o.$$typeof,h===Se){n.tag=11,n=Sp(null,n,o,t,a);break e}else if(h===O){n.tag=14,n=Ap(null,n,o,t,a);break e}}throw n=Mt(o)||o,Error(s(306,n,""))}}return n;case 0:return sf(t,n,n.type,n.pendingProps,a);case 1:return o=n.type,h=hs(o,n.pendingProps),Cp(t,n,o,h,a);case 3:e:{if(Ze(n,n.stateNode.containerInfo),t===null)throw Error(s(387));o=n.pendingProps;var d=n.memoizedState;h=d.element,xh(t,n),Io(n,o,null,a);var v=n.memoizedState;if(o=v.cache,Xi(n,St,o),o!==d.cache&&Ch(n,[St],a,!0),Ro(),o=v.element,d.isDehydrated)if(d={element:o,isDehydrated:!1,cache:v.cache},n.updateQueue.baseState=d,n.memoizedState=d,n.flags&256){n=Dp(t,n,o,a);break e}else if(o!==h){h=_n(Error(s(424)),n),vo(h),n=Dp(t,n,o,a);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(at=Vn(t.firstChild),Wt=n,je=!0,ss=null,Yn=!0,a=hp(n,null,o,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(_o(),o===h){n=wi(t,n,a);break e}Ut(t,n,o,a)}n=n.child}return n;case 26:return Du(t,n),t===null?(a=Py(n.type,null,n.pendingProps,null))?n.memoizedState=a:je||(a=n.type,t=n.pendingProps,o=Gu(_e.current).createElement(a),o[vt]=n,o[dt]=t,Pt(o,a,t),ut(o),n.stateNode=o):n.memoizedState=Py(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Bi(n),t===null&&je&&(o=n.stateNode=xy(n.type,n.pendingProps,_e.current),Wt=n,Yn=!0,h=at,cr(n.type)?(Kf=h,at=Vn(o.firstChild)):at=h),Ut(t,n,n.pendingProps.children,a),Du(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&je&&((h=o=at)&&(o=GT(o,n.type,n.pendingProps,Yn),o!==null?(n.stateNode=o,Wt=n,at=Vn(o.firstChild),Yn=!1,h=!0):h=!1),h||as(n)),Bi(n),h=n.type,d=n.pendingProps,v=t!==null?t.memoizedProps:null,o=d.children,qf(h,d)?o=null:v!==null&&qf(h,v)&&(n.flags|=32),n.memoizedState!==null&&(h=jh(t,n,lT,null,null,a),Xo._currentValue=h),Du(t,n),Ut(t,n,o,a),n.child;case 6:return t===null&&je&&((t=a=at)&&(a=FT(a,n.pendingProps,Yn),a!==null?(n.stateNode=a,Wt=n,at=null,t=!0):t=!1),t||as(n)),null;case 13:return Np(t,n,a);case 4:return Ze(n,n.stateNode.containerInfo),o=n.pendingProps,t===null?n.child=ra(n,null,o,a):Ut(t,n,o,a),n.child;case 11:return Sp(t,n,n.type,n.pendingProps,a);case 7:return Ut(t,n,n.pendingProps,a),n.child;case 8:return Ut(t,n,n.pendingProps.children,a),n.child;case 12:return Ut(t,n,n.pendingProps.children,a),n.child;case 10:return o=n.pendingProps,Xi(n,n.type,o.value),Ut(t,n,o.children,a),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,ls(n),h=Ht(h),o=o(h),n.flags|=1,Ut(t,n,o,a),n.child;case 14:return Ap(t,n,n.type,n.pendingProps,a);case 15:return bp(t,n,n.type,n.pendingProps,a);case 19:return Mp(t,n,a);case 31:return o=n.pendingProps,a=n.mode,o={mode:o.mode,children:o.children},t===null?(a=Nu(o,a),a.ref=n.ref,n.child=a,a.return=n,n=a):(a=_i(t.child,o),a.ref=n.ref,n.child=a,a.return=n,n=a),n;case 22:return wp(t,n,a);case 24:return ls(n),o=Ht(St),t===null?(h=Oh(),h===null&&(h=We,d=Dh(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),n.memoizedState={parent:o,cache:h},Vh(n),Xi(n,St,h)):((t.lanes&a)!==0&&(xh(t,n),Io(n,null,null,a),Ro()),h=t.memoizedState,d=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Xi(n,St,o)):(o=d.cache,Xi(n,St,o),o!==h.cache&&Ch(n,[St],a,!0))),Ut(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Ri(t){t.flags|=4}function xp(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!qy(n)){if(n=Sn.current,n!==null&&((Ue&4194048)===Ue?Xn!==null:(Ue&62914560)!==Ue&&(Ue&536870912)===0||n!==Xn))throw bo=Mh,yg;t.flags|=8192}}function Ou(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?$a():536870912,t.lanes|=n,la|=n)}function xo(t,n){if(!je)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function nt(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,o=0;if(n)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=a,n}function yT(t,n,a){var o=n.pendingProps;switch(bh(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nt(n),null;case 1:return nt(n),null;case 3:return a=n.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Si(St),kn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(yo(n)?Ri(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,fg())),nt(n),null;case 26:return a=n.memoizedState,t===null?(Ri(n),a!==null?(nt(n),xp(n,a)):(nt(n),n.flags&=-16777217)):a?a!==t.memoizedState?(Ri(n),nt(n),xp(n,a)):(nt(n),n.flags&=-16777217):(t.memoizedProps!==o&&Ri(n),nt(n),n.flags&=-16777217),null;case 27:si(n),a=_e.current;var h=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==o&&Ri(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return nt(n),null}t=me.current,yo(n)?cg(n):(t=xy(h,o,a),n.stateNode=t,Ri(n))}return nt(n),null;case 5:if(si(n),a=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&Ri(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return nt(n),null}if(t=me.current,yo(n))cg(n);else{switch(h=Gu(_e.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof o.is=="string"?h.createElement("select",{is:o.is}):h.createElement("select"),o.multiple?t.multiple=!0:o.size&&(t.size=o.size);break;default:t=typeof o.is=="string"?h.createElement(a,{is:o.is}):h.createElement(a)}}t[vt]=n,t[dt]=o;e:for(h=n.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break e;for(;h.sibling===null;){if(h.return===null||h.return===n)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}n.stateNode=t;e:switch(Pt(t,a,o),a){case"button":case"input":case"select":case"textarea":t=!!o.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Ri(n)}}return nt(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==o&&Ri(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(s(166));if(t=_e.current,yo(n)){if(t=n.stateNode,a=n.memoizedProps,o=null,h=Wt,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[vt]=n,t=!!(t.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||Iy(t.nodeValue,a)),t||as(n)}else t=Gu(t).createTextNode(o),t[vt]=n,n.stateNode=t}return nt(n),null;case 13:if(o=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=yo(n),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[vt]=n}else _o(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;nt(n),h=!1}else h=fg(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(bi(n),n):(bi(n),null)}if(bi(n),(n.flags&128)!==0)return n.lanes=a,n;if(a=o!==null,t=t!==null&&t.memoizedState!==null,a){o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool);var d=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==h&&(o.flags|=2048)}return a!==t&&a&&(n.child.flags|=8192),Ou(n,n.updateQueue),nt(n),null;case 4:return kn(),t===null&&Pf(n.stateNode.containerInfo),nt(n),null;case 10:return Si(n.type),nt(n),null;case 19:if(re(At),h=n.memoizedState,h===null)return nt(n),null;if(o=(n.flags&128)!==0,d=h.rendering,d===null)if(o)xo(h,!1);else{if(ot!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(d=Ru(t),d!==null){for(n.flags|=128,xo(h,!1),t=d.updateQueue,n.updateQueue=t,Ou(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)lg(a,t),a=a.sibling;return te(At,At.current&1|2),n.child}t=t.sibling}h.tail!==null&&fn()>xu&&(n.flags|=128,o=!0,xo(h,!1),n.lanes=4194304)}else{if(!o)if(t=Ru(d),t!==null){if(n.flags|=128,o=!0,t=t.updateQueue,n.updateQueue=t,Ou(n,t),xo(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!je)return nt(n),null}else 2*fn()-h.renderingStartTime>xu&&a!==536870912&&(n.flags|=128,o=!0,xo(h,!1),n.lanes=4194304);h.isBackwards?(d.sibling=n.child,n.child=d):(t=h.last,t!==null?t.sibling=d:n.child=d,h.last=d)}return h.tail!==null?(n=h.tail,h.rendering=n,h.tail=n.sibling,h.renderingStartTime=fn(),n.sibling=null,t=At.current,te(At,o?t&1|2:t&1),n):(nt(n),null);case 22:case 23:return bi(n),Lh(),o=n.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(a&536870912)!==0&&(n.flags&128)===0&&(nt(n),n.subtreeFlags&6&&(n.flags|=8192)):nt(n),a=n.updateQueue,a!==null&&Ou(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==a&&(n.flags|=2048),t!==null&&re(us),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Si(St),nt(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function _T(t,n){switch(bh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Si(St),kn(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return si(n),null;case 13:if(bi(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));_o()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return re(At),null;case 4:return kn(),null;case 10:return Si(n.type),null;case 22:case 23:return bi(n),Lh(),t!==null&&re(us),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Si(St),null;case 25:return null;default:return null}}function Up(t,n){switch(bh(n),n.tag){case 3:Si(St),kn();break;case 26:case 27:case 5:si(n);break;case 4:kn();break;case 13:bi(n);break;case 19:re(At);break;case 10:Si(n.type);break;case 22:case 23:bi(n),Lh(),t!==null&&re(us);break;case 24:Si(St)}}function Uo(t,n){try{var a=n.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&t)===t){o=void 0;var d=a.create,v=a.inst;o=d(),v.destroy=o}a=a.next}while(a!==h)}}catch(T){$e(n,n.return,T)}}function nr(t,n,a){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var d=h.next;o=d;do{if((o.tag&t)===t){var v=o.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,h=n;var w=a,z=T;try{z()}catch(Q){$e(h,w,Q)}}}o=o.next}while(o!==d)}}catch(Q){$e(n,n.return,Q)}}function kp(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{Ag(n,a)}catch(o){$e(t,t.return,o)}}}function Pp(t,n,a){a.props=hs(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(o){$e(t,n,o)}}function ko(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof a=="function"?t.refCleanup=a(o):a.current=o}}catch(h){$e(t,n,h)}}function $n(t,n){var a=t.ref,o=t.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){$e(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){$e(t,n,h)}else a.current=null}function Lp(t){var n=t.type,a=t.memoizedProps,o=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){$e(t,t.return,h)}}function df(t,n,a){try{var o=t.stateNode;zT(o,t.type,a,n),o[dt]=n}catch(h){$e(t,t.return,h)}}function zp(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&cr(t.type)||t.tag===4}function mf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||zp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&cr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function gf(t,n,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Hu));else if(o!==4&&(o===27&&cr(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(gf(t,n,a),t=t.sibling;t!==null;)gf(t,n,a),t=t.sibling}function Mu(t,n,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(o!==4&&(o===27&&cr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Mu(t,n,a),t=t.sibling;t!==null;)Mu(t,n,a),t=t.sibling}function jp(t){var n=t.stateNode,a=t.memoizedProps;try{for(var o=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Pt(n,o,a),n[vt]=t,n[dt]=a}catch(d){$e(t,t.return,d)}}var Ii=!1,ht=!1,pf=!1,Bp=typeof WeakSet=="function"?WeakSet:Set,Ct=null;function vT(t,n){if(t=t.containerInfo,jf=$u,t=Wm(t),dh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,d=o.focusNode;o=o.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,T=-1,w=-1,z=0,Q=0,$=t,q=null;t:for(;;){for(var G;$!==a||h!==0&&$.nodeType!==3||(T=v+h),$!==d||o!==0&&$.nodeType!==3||(w=v+o),$.nodeType===3&&(v+=$.nodeValue.length),(G=$.firstChild)!==null;)q=$,$=G;for(;;){if($===t)break t;if(q===a&&++z===h&&(T=v),q===d&&++Q===o&&(w=v),(G=$.nextSibling)!==null)break;$=q,q=$.parentNode}$=G}a=T===-1||w===-1?null:{start:T,end:w}}else a=null}a=a||{start:0,end:0}}else a=null;for(Bf={focusedElem:t,selectionRange:a},$u=!1,Ct=n;Ct!==null;)if(n=Ct,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,Ct=t;else for(;Ct!==null;){switch(n=Ct,d=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=n,h=d.memoizedProps,d=d.memoizedState,o=a.stateNode;try{var ye=hs(a.type,h,a.elementType===a.type);t=o.getSnapshotBeforeUpdate(ye,d),o.__reactInternalSnapshotBeforeUpdate=t}catch(ge){$e(a,a.return,ge)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)Gf(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Gf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,Ct=t;break}Ct=n.return}}function qp(t,n,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:ir(t,a),o&4&&Uo(5,a);break;case 1:if(ir(t,a),o&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(v){$e(a,a.return,v)}else{var h=hs(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(v){$e(a,a.return,v)}}o&64&&kp(a),o&512&&ko(a,a.return);break;case 3:if(ir(t,a),o&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Ag(t,n)}catch(v){$e(a,a.return,v)}}break;case 27:n===null&&o&4&&jp(a);case 26:case 5:ir(t,a),n===null&&o&4&&Lp(a),o&512&&ko(a,a.return);break;case 12:ir(t,a);break;case 13:ir(t,a),o&4&&Fp(t,a),o&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=CT.bind(null,a),KT(t,a))));break;case 22:if(o=a.memoizedState!==null||Ii,!o){n=n!==null&&n.memoizedState!==null||ht,h=Ii;var d=ht;Ii=o,(ht=n)&&!d?rr(t,a,(a.subtreeFlags&8772)!==0):ir(t,a),Ii=h,ht=d}break;case 30:break;default:ir(t,a)}}function Hp(t){var n=t.alternate;n!==null&&(t.alternate=null,Hp(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Fi(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var tt=null,en=!1;function Ci(t,n,a){for(a=a.child;a!==null;)Gp(t,n,a),a=a.sibling}function Gp(t,n,a){if(qe&&typeof qe.onCommitFiberUnmount=="function")try{qe.onCommitFiberUnmount(st,a)}catch{}switch(a.tag){case 26:ht||$n(a,n),Ci(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ht||$n(a,n);var o=tt,h=en;cr(a.type)&&(tt=a.stateNode,en=!1),Ci(t,n,a),Fo(a.stateNode),tt=o,en=h;break;case 5:ht||$n(a,n);case 6:if(o=tt,h=en,tt=null,Ci(t,n,a),tt=o,en=h,tt!==null)if(en)try{(tt.nodeType===9?tt.body:tt.nodeName==="HTML"?tt.ownerDocument.body:tt).removeChild(a.stateNode)}catch(d){$e(a,n,d)}else try{tt.removeChild(a.stateNode)}catch(d){$e(a,n,d)}break;case 18:tt!==null&&(en?(t=tt,My(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Jo(t)):My(tt,a.stateNode));break;case 4:o=tt,h=en,tt=a.stateNode.containerInfo,en=!0,Ci(t,n,a),tt=o,en=h;break;case 0:case 11:case 14:case 15:ht||nr(2,a,n),ht||nr(4,a,n),Ci(t,n,a);break;case 1:ht||($n(a,n),o=a.stateNode,typeof o.componentWillUnmount=="function"&&Pp(a,n,o)),Ci(t,n,a);break;case 21:Ci(t,n,a);break;case 22:ht=(o=ht)||a.memoizedState!==null,Ci(t,n,a),ht=o;break;default:Ci(t,n,a)}}function Fp(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Jo(t)}catch(a){$e(n,n.return,a)}}function ET(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Bp),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Bp),n;default:throw Error(s(435,t.tag))}}function yf(t,n){var a=ET(t);n.forEach(function(o){var h=DT.bind(null,t,o);a.has(o)||(a.add(o),o.then(h,h))})}function on(t,n){var a=n.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],d=t,v=n,T=v;e:for(;T!==null;){switch(T.tag){case 27:if(cr(T.type)){tt=T.stateNode,en=!1;break e}break;case 5:tt=T.stateNode,en=!1;break e;case 3:case 4:tt=T.stateNode.containerInfo,en=!0;break e}T=T.return}if(tt===null)throw Error(s(160));Gp(d,v,h),tt=null,en=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Kp(n,t),n=n.sibling}var Mn=null;function Kp(t,n){var a=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:on(n,t),ln(t),o&4&&(nr(3,t,t.return),Uo(3,t),nr(5,t,t.return));break;case 1:on(n,t),ln(t),o&512&&(ht||a===null||$n(a,a.return)),o&64&&Ii&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=Mn;if(on(n,t),ln(t),o&512&&(ht||a===null||$n(a,a.return)),o&4){var d=a!==null?a.memoizedState:null;if(o=t.memoizedState,a===null)if(o===null)if(t.stateNode===null){e:{o=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":d=h.getElementsByTagName("title")[0],(!d||d[jr]||d[vt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(o),h.head.insertBefore(d,h.querySelector("head > title"))),Pt(d,o,a),d[vt]=t,ut(d),o=d;break e;case"link":var v=jy("link","href",h).get(o+(a.href||""));if(v){for(var T=0;T<v.length;T++)if(d=v[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(T,1);break t}}d=h.createElement(o),Pt(d,o,a),h.head.appendChild(d);break;case"meta":if(v=jy("meta","content",h).get(o+(a.content||""))){for(T=0;T<v.length;T++)if(d=v[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(T,1);break t}}d=h.createElement(o),Pt(d,o,a),h.head.appendChild(d);break;default:throw Error(s(468,o))}d[vt]=t,ut(d),o=d}t.stateNode=o}else By(h,t.type,t.stateNode);else t.stateNode=zy(h,o,t.memoizedProps);else d!==o?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,o===null?By(h,t.type,t.stateNode):zy(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&df(t,t.memoizedProps,a.memoizedProps)}break;case 27:on(n,t),ln(t),o&512&&(ht||a===null||$n(a,a.return)),a!==null&&o&4&&df(t,t.memoizedProps,a.memoizedProps);break;case 5:if(on(n,t),ln(t),o&512&&(ht||a===null||$n(a,a.return)),t.flags&32){h=t.stateNode;try{mn(h,"")}catch(G){$e(t,t.return,G)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,df(t,h,a!==null?a.memoizedProps:h)),o&1024&&(pf=!0);break;case 6:if(on(n,t),ln(t),o&4){if(t.stateNode===null)throw Error(s(162));o=t.memoizedProps,a=t.stateNode;try{a.nodeValue=o}catch(G){$e(t,t.return,G)}}break;case 3:if(Qu=null,h=Mn,Mn=Fu(n.containerInfo),on(n,t),Mn=h,ln(t),o&4&&a!==null&&a.memoizedState.isDehydrated)try{Jo(n.containerInfo)}catch(G){$e(t,t.return,G)}pf&&(pf=!1,Qp(t));break;case 4:o=Mn,Mn=Fu(t.stateNode.containerInfo),on(n,t),ln(t),Mn=o;break;case 12:on(n,t),ln(t);break;case 13:on(n,t),ln(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Af=fn()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,yf(t,o)));break;case 22:h=t.memoizedState!==null;var w=a!==null&&a.memoizedState!==null,z=Ii,Q=ht;if(Ii=z||h,ht=Q||w,on(n,t),ht=Q,Ii=z,ln(t),o&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||w||Ii||ht||fs(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){w=a=n;try{if(d=w.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=w.stateNode;var $=w.memoizedProps.style,q=$!=null&&$.hasOwnProperty("display")?$.display:null;T.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(G){$e(w,w.return,G)}}}else if(n.tag===6){if(a===null){w=n;try{w.stateNode.nodeValue=h?"":w.memoizedProps}catch(G){$e(w,w.return,G)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=t.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,yf(t,a))));break;case 19:on(n,t),ln(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,yf(t,o)));break;case 30:break;case 21:break;default:on(n,t),ln(t)}}function ln(t){var n=t.flags;if(n&2){try{for(var a,o=t.return;o!==null;){if(zp(o)){a=o;break}o=o.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=mf(t);Mu(t,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(mn(v,""),a.flags&=-33);var T=mf(t);Mu(t,T,v);break;case 3:case 4:var w=a.stateNode.containerInfo,z=mf(t);gf(t,z,w);break;default:throw Error(s(161))}}catch(Q){$e(t,t.return,Q)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Qp(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Qp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function ir(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)qp(t,n.alternate,n),n=n.sibling}function fs(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:nr(4,n,n.return),fs(n);break;case 1:$n(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Pp(n,n.return,a),fs(n);break;case 27:Fo(n.stateNode);case 26:case 5:$n(n,n.return),fs(n);break;case 22:n.memoizedState===null&&fs(n);break;case 30:fs(n);break;default:fs(n)}t=t.sibling}}function rr(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=t,d=n,v=d.flags;switch(d.tag){case 0:case 11:case 15:rr(h,d,a),Uo(4,d);break;case 1:if(rr(h,d,a),o=d,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){$e(o,o.return,z)}if(o=d,h=o.updateQueue,h!==null){var T=o.stateNode;try{var w=h.shared.hiddenCallbacks;if(w!==null)for(h.shared.hiddenCallbacks=null,h=0;h<w.length;h++)Sg(w[h],T)}catch(z){$e(o,o.return,z)}}a&&v&64&&kp(d),ko(d,d.return);break;case 27:jp(d);case 26:case 5:rr(h,d,a),a&&o===null&&v&4&&Lp(d),ko(d,d.return);break;case 12:rr(h,d,a);break;case 13:rr(h,d,a),a&&v&4&&Fp(h,d);break;case 22:d.memoizedState===null&&rr(h,d,a),ko(d,d.return);break;case 30:break;default:rr(h,d,a)}n=n.sibling}}function _f(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&To(a))}function vf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&To(t))}function Zn(t,n,a,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Yp(t,n,a,o),n=n.sibling}function Yp(t,n,a,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Zn(t,n,a,o),h&2048&&Uo(9,n);break;case 1:Zn(t,n,a,o);break;case 3:Zn(t,n,a,o),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&To(t)));break;case 12:if(h&2048){Zn(t,n,a,o),t=n.stateNode;try{var d=n.memoizedProps,v=d.id,T=d.onPostCommit;typeof T=="function"&&T(v,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(w){$e(n,n.return,w)}}else Zn(t,n,a,o);break;case 13:Zn(t,n,a,o);break;case 23:break;case 22:d=n.stateNode,v=n.alternate,n.memoizedState!==null?d._visibility&2?Zn(t,n,a,o):Po(t,n):d._visibility&2?Zn(t,n,a,o):(d._visibility|=2,sa(t,n,a,o,(n.subtreeFlags&10256)!==0)),h&2048&&_f(v,n);break;case 24:Zn(t,n,a,o),h&2048&&vf(n.alternate,n);break;default:Zn(t,n,a,o)}}function sa(t,n,a,o,h){for(h=h&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var d=t,v=n,T=a,w=o,z=v.flags;switch(v.tag){case 0:case 11:case 15:sa(d,v,T,w,h),Uo(8,v);break;case 23:break;case 22:var Q=v.stateNode;v.memoizedState!==null?Q._visibility&2?sa(d,v,T,w,h):Po(d,v):(Q._visibility|=2,sa(d,v,T,w,h)),h&&z&2048&&_f(v.alternate,v);break;case 24:sa(d,v,T,w,h),h&&z&2048&&vf(v.alternate,v);break;default:sa(d,v,T,w,h)}n=n.sibling}}function Po(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,o=n,h=o.flags;switch(o.tag){case 22:Po(a,o),h&2048&&_f(o.alternate,o);break;case 24:Po(a,o),h&2048&&vf(o.alternate,o);break;default:Po(a,o)}n=n.sibling}}var Lo=8192;function aa(t){if(t.subtreeFlags&Lo)for(t=t.child;t!==null;)Xp(t),t=t.sibling}function Xp(t){switch(t.tag){case 26:aa(t),t.flags&Lo&&t.memoizedState!==null&&sS(Mn,t.memoizedState,t.memoizedProps);break;case 5:aa(t);break;case 3:case 4:var n=Mn;Mn=Fu(t.stateNode.containerInfo),aa(t),Mn=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=Lo,Lo=16777216,aa(t),Lo=n):aa(t));break;default:aa(t)}}function $p(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function zo(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Ct=o,Wp(o,t)}$p(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Zp(t),t=t.sibling}function Zp(t){switch(t.tag){case 0:case 11:case 15:zo(t),t.flags&2048&&nr(9,t,t.return);break;case 3:zo(t);break;case 12:zo(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Vu(t)):zo(t);break;default:zo(t)}}function Vu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Ct=o,Wp(o,t)}$p(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:nr(8,n,n.return),Vu(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,Vu(n));break;default:Vu(n)}t=t.sibling}}function Wp(t,n){for(;Ct!==null;){var a=Ct;switch(a.tag){case 0:case 11:case 15:nr(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:To(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Ct=o;else e:for(a=t;Ct!==null;){o=Ct;var h=o.sibling,d=o.return;if(Hp(o),o===a){Ct=null;break e}if(h!==null){h.return=d,Ct=h;break e}Ct=d}}}var TT={getCacheForType:function(t){var n=Ht(St),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a}},ST=typeof WeakMap=="function"?WeakMap:Map,He=0,We=null,De=null,Ue=0,Ge=0,un=null,sr=!1,oa=!1,Ef=!1,Di=0,ot=0,ar=0,ds=0,Tf=0,An=0,la=0,jo=null,tn=null,Sf=!1,Af=0,xu=1/0,Uu=null,or=null,kt=0,lr=null,ua=null,ca=0,bf=0,wf=null,Jp=null,Bo=0,Rf=null;function cn(){if((He&2)!==0&&Ue!==0)return Ue&-Ue;if(K.T!==null){var t=Zs;return t!==0?t:Vf()}return Hi()}function ey(){An===0&&(An=(Ue&536870912)===0||je?Xa():536870912);var t=Sn.current;return t!==null&&(t.flags|=32),An}function hn(t,n,a){(t===We&&(Ge===2||Ge===9)||t.cancelPendingCommit!==null)&&(ha(t,0),ur(t,Ue,An,!1)),oi(t,a),((He&2)===0||t!==We)&&(t===We&&((He&2)===0&&(ds|=a),ot===4&&ur(t,Ue,An,!1)),Wn(t))}function ty(t,n,a){if((He&6)!==0)throw Error(s(327));var o=!a&&(n&124)===0&&(n&t.expiredLanes)===0||zr(t,n),h=o?wT(t,n):Df(t,n,!0),d=o;do{if(h===0){oa&&!o&&ur(t,n,0,!1);break}else{if(a=t.current.alternate,d&&!AT(a)){h=Df(t,n,!1),d=!1;continue}if(h===2){if(d=n,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){n=v;e:{var T=t;h=jo;var w=T.current.memoizedState.isDehydrated;if(w&&(ha(T,v).flags|=256),v=Df(T,v,!1),v!==2){if(Ef&&!w){T.errorRecoveryDisabledLanes|=d,ds|=d,h=4;break e}d=tn,tn=h,d!==null&&(tn===null?tn=d:tn.push.apply(tn,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){ha(t,0),ur(t,n,0,!0);break}e:{switch(o=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:ur(o,n,An,!sr);break e;case 2:tn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(h=Af+300-fn(),10<h)){if(ur(o,n,An,!sr),Cs(o,0,!0)!==0)break e;o.timeoutHandle=Ny(ny.bind(null,o,a,tn,Uu,Sf,n,An,ds,la,sr,d,2,-0,0),h);break e}ny(o,a,tn,Uu,Sf,n,An,ds,la,sr,d,0,-0,0)}}break}while(!0);Wn(t)}function ny(t,n,a,o,h,d,v,T,w,z,Q,$,q,G){if(t.timeoutHandle=-1,$=n.subtreeFlags,($&8192||($&16785408)===16785408)&&(Yo={stylesheets:null,count:0,unsuspend:rS},Xp(n),$=aS(),$!==null)){t.cancelPendingCommit=$(uy.bind(null,t,n,d,a,o,h,v,T,w,Q,1,q,G)),ur(t,d,v,!z);return}uy(t,n,d,a,o,h,v,T,w)}function AT(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],d=h.getSnapshot;h=h.value;try{if(!sn(d(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ur(t,n,a,o){n&=~Tf,n&=~ds,t.suspendedLanes|=n,t.pingedLanes&=~n,o&&(t.warmLanes|=n),o=t.expirationTimes;for(var h=n;0<h;){var d=31-qt(h),v=1<<d;o[d]=-1,h&=~v}a!==0&&Pn(t,a,n)}function ku(){return(He&6)===0?(qo(0),!1):!0}function If(){if(De!==null){if(Ge===0)var t=De.return;else t=De,Ti=os=null,Hh(t),ia=null,Mo=0,t=De;for(;t!==null;)Up(t.alternate,t),t=t.return;De=null}}function ha(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,BT(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),If(),We=t,De=a=_i(t.current,null),Ue=n,Ge=0,un=null,sr=!1,oa=zr(t,n),Ef=!1,la=An=Tf=ds=ar=ot=0,tn=jo=null,Sf=!1,(n&8)!==0&&(n|=n&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=n;0<o;){var h=31-qt(o),d=1<<h;n|=t[h],o&=~d}return Di=n,ru(),a}function iy(t,n){Re=null,K.H=Au,n===Ao||n===du?(n=Eg(),Ge=3):n===yg?(n=Eg(),Ge=4):Ge=n===Tp?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,un=n,De===null&&(ot=1,Cu(t,_n(n,t.current)))}function ry(){var t=K.H;return K.H=Au,t===null?Au:t}function sy(){var t=K.A;return K.A=TT,t}function Cf(){ot=4,sr||(Ue&4194048)!==Ue&&Sn.current!==null||(oa=!0),(ar&134217727)===0&&(ds&134217727)===0||We===null||ur(We,Ue,An,!1)}function Df(t,n,a){var o=He;He|=2;var h=ry(),d=sy();(We!==t||Ue!==n)&&(Uu=null,ha(t,n)),n=!1;var v=ot;e:do try{if(Ge!==0&&De!==null){var T=De,w=un;switch(Ge){case 8:If(),v=6;break e;case 3:case 2:case 9:case 6:Sn.current===null&&(n=!0);var z=Ge;if(Ge=0,un=null,fa(t,T,w,z),a&&oa){v=0;break e}break;default:z=Ge,Ge=0,un=null,fa(t,T,w,z)}}bT(),v=ot;break}catch(Q){iy(t,Q)}while(!0);return n&&t.shellSuspendCounter++,Ti=os=null,He=o,K.H=h,K.A=d,De===null&&(We=null,Ue=0,ru()),v}function bT(){for(;De!==null;)ay(De)}function wT(t,n){var a=He;He|=2;var o=ry(),h=sy();We!==t||Ue!==n?(Uu=null,xu=fn()+500,ha(t,n)):oa=zr(t,n);e:do try{if(Ge!==0&&De!==null){n=De;var d=un;t:switch(Ge){case 1:Ge=0,un=null,fa(t,n,d,1);break;case 2:case 9:if(_g(d)){Ge=0,un=null,oy(n);break}n=function(){Ge!==2&&Ge!==9||We!==t||(Ge=7),Wn(t)},d.then(n,n);break e;case 3:Ge=7;break e;case 4:Ge=5;break e;case 7:_g(d)?(Ge=0,un=null,oy(n)):(Ge=0,un=null,fa(t,n,d,7));break;case 5:var v=null;switch(De.tag){case 26:v=De.memoizedState;case 5:case 27:var T=De;if(!v||qy(v)){Ge=0,un=null;var w=T.sibling;if(w!==null)De=w;else{var z=T.return;z!==null?(De=z,Pu(z)):De=null}break t}}Ge=0,un=null,fa(t,n,d,5);break;case 6:Ge=0,un=null,fa(t,n,d,6);break;case 8:If(),ot=6;break e;default:throw Error(s(462))}}RT();break}catch(Q){iy(t,Q)}while(!0);return Ti=os=null,K.H=o,K.A=h,He=a,De!==null?0:(We=null,Ue=0,ru(),ot)}function RT(){for(;De!==null&&!Fa();)ay(De)}function ay(t){var n=Vp(t.alternate,t,Di);t.memoizedProps=t.pendingProps,n===null?Pu(t):De=n}function oy(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=Ip(a,n,n.pendingProps,n.type,void 0,Ue);break;case 11:n=Ip(a,n,n.pendingProps,n.type.render,n.ref,Ue);break;case 5:Hh(n);default:Up(a,n),n=De=lg(n,Di),n=Vp(a,n,Di)}t.memoizedProps=t.pendingProps,n===null?Pu(t):De=n}function fa(t,n,a,o){Ti=os=null,Hh(n),ia=null,Mo=0;var h=n.return;try{if(gT(t,h,n,a,Ue)){ot=1,Cu(t,_n(a,t.current)),De=null;return}}catch(d){if(h!==null)throw De=h,d;ot=1,Cu(t,_n(a,t.current)),De=null;return}n.flags&32768?(je||o===1?t=!0:oa||(Ue&536870912)!==0?t=!1:(sr=t=!0,(o===2||o===9||o===3||o===6)&&(o=Sn.current,o!==null&&o.tag===13&&(o.flags|=16384))),ly(n,t)):Pu(n)}function Pu(t){var n=t;do{if((n.flags&32768)!==0){ly(n,sr);return}t=n.return;var a=yT(n.alternate,n,Di);if(a!==null){De=a;return}if(n=n.sibling,n!==null){De=n;return}De=n=t}while(n!==null);ot===0&&(ot=5)}function ly(t,n){do{var a=_T(t.alternate,t);if(a!==null){a.flags&=32767,De=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){De=t;return}De=t=a}while(t!==null);ot=6,De=null}function uy(t,n,a,o,h,d,v,T,w){t.cancelPendingCommit=null;do Lu();while(kt!==0);if((He&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(d=n.lanes|n.childLanes,d|=_h,Za(t,a,d,v,T,w),t===We&&(De=We=null,Ue=0),ua=n,lr=t,ca=a,bf=d,wf=h,Jp=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,NT(Ur,function(){return my(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=K.T,K.T=null,h=ie.p,ie.p=2,v=He,He|=4;try{vT(t,n,a)}finally{He=v,ie.p=h,K.T=o}}kt=1,cy(),hy(),fy()}}function cy(){if(kt===1){kt=0;var t=lr,n=ua,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=K.T,K.T=null;var o=ie.p;ie.p=2;var h=He;He|=4;try{Kp(n,t);var d=Bf,v=Wm(t.containerInfo),T=d.focusedElem,w=d.selectionRange;if(v!==T&&T&&T.ownerDocument&&Zm(T.ownerDocument.documentElement,T)){if(w!==null&&dh(T)){var z=w.start,Q=w.end;if(Q===void 0&&(Q=z),"selectionStart"in T)T.selectionStart=z,T.selectionEnd=Math.min(Q,T.value.length);else{var $=T.ownerDocument||document,q=$&&$.defaultView||window;if(q.getSelection){var G=q.getSelection(),ye=T.textContent.length,ge=Math.min(w.start,ye),Xe=w.end===void 0?ge:Math.min(w.end,ye);!G.extend&&ge>Xe&&(v=Xe,Xe=ge,ge=v);var x=$m(T,ge),N=$m(T,Xe);if(x&&N&&(G.rangeCount!==1||G.anchorNode!==x.node||G.anchorOffset!==x.offset||G.focusNode!==N.node||G.focusOffset!==N.offset)){var P=$.createRange();P.setStart(x.node,x.offset),G.removeAllRanges(),ge>Xe?(G.addRange(P),G.extend(N.node,N.offset)):(P.setEnd(N.node,N.offset),G.addRange(P))}}}}for($=[],G=T;G=G.parentNode;)G.nodeType===1&&$.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<$.length;T++){var Y=$[T];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}$u=!!jf,Bf=jf=null}finally{He=h,ie.p=o,K.T=a}}t.current=n,kt=2}}function hy(){if(kt===2){kt=0;var t=lr,n=ua,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=K.T,K.T=null;var o=ie.p;ie.p=2;var h=He;He|=4;try{qp(t,n.alternate,n)}finally{He=h,ie.p=o,K.T=a}}kt=3}}function fy(){if(kt===4||kt===3){kt=0,Vl();var t=lr,n=ua,a=ca,o=Jp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?kt=5:(kt=0,ua=lr=null,dy(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(or=null),Ds(a),n=n.stateNode,qe&&typeof qe.onCommitFiberRoot=="function")try{qe.onCommitFiberRoot(st,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=K.T,h=ie.p,ie.p=2,K.T=null;try{for(var d=t.onRecoverableError,v=0;v<o.length;v++){var T=o[v];d(T.value,{componentStack:T.stack})}}finally{K.T=n,ie.p=h}}(ca&3)!==0&&Lu(),Wn(t),h=t.pendingLanes,(a&4194090)!==0&&(h&42)!==0?t===Rf?Bo++:(Bo=0,Rf=t):Bo=0,qo(0)}}function dy(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,To(n)))}function Lu(t){return cy(),hy(),fy(),my()}function my(){if(kt!==5)return!1;var t=lr,n=bf;bf=0;var a=Ds(ca),o=K.T,h=ie.p;try{ie.p=32>a?32:a,K.T=null,a=wf,wf=null;var d=lr,v=ca;if(kt=0,ua=lr=null,ca=0,(He&6)!==0)throw Error(s(331));var T=He;if(He|=4,Zp(d.current),Yp(d,d.current,v,a),He=T,qo(0,!1),qe&&typeof qe.onPostCommitFiberRoot=="function")try{qe.onPostCommitFiberRoot(st,d)}catch{}return!0}finally{ie.p=h,K.T=o,dy(t,n)}}function gy(t,n,a){n=_n(a,n),n=rf(t.stateNode,n,2),t=Wi(t,n,2),t!==null&&(oi(t,2),Wn(t))}function $e(t,n,a){if(t.tag===3)gy(t,t,a);else for(;n!==null;){if(n.tag===3){gy(n,t,a);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(or===null||!or.has(o))){t=_n(a,t),a=vp(2),o=Wi(n,a,2),o!==null&&(Ep(a,o,n,t),oi(o,2),Wn(o));break}}n=n.return}}function Nf(t,n,a){var o=t.pingCache;if(o===null){o=t.pingCache=new ST;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(a)||(Ef=!0,h.add(a),t=IT.bind(null,t,n,a),n.then(t,t))}function IT(t,n,a){var o=t.pingCache;o!==null&&o.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,We===t&&(Ue&a)===a&&(ot===4||ot===3&&(Ue&62914560)===Ue&&300>fn()-Af?(He&2)===0&&ha(t,0):Tf|=a,la===Ue&&(la=0)),Wn(t)}function py(t,n){n===0&&(n=$a()),t=Qs(t,n),t!==null&&(oi(t,n),Wn(t))}function CT(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),py(t,a)}function DT(t,n){var a=0;switch(t.tag){case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(n),py(t,a)}function NT(t,n){return Vr(t,n)}var zu=null,da=null,Of=!1,ju=!1,Mf=!1,ms=0;function Wn(t){t!==da&&t.next===null&&(da===null?zu=da=t:da=da.next=t),ju=!0,Of||(Of=!0,MT())}function qo(t,n){if(!Mf&&ju){Mf=!0;do for(var a=!1,o=zu;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var d=0;else{var v=o.suspendedLanes,T=o.pingedLanes;d=(1<<31-qt(42|t)+1)-1,d&=h&~(v&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,Ey(o,d))}else d=Ue,d=Cs(o,o===We?d:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(d&3)===0||zr(o,d)||(a=!0,Ey(o,d));o=o.next}while(a);Mf=!1}}function OT(){yy()}function yy(){ju=Of=!1;var t=0;ms!==0&&(jT()&&(t=ms),ms=0);for(var n=fn(),a=null,o=zu;o!==null;){var h=o.next,d=_y(o,n);d===0?(o.next=null,a===null?zu=h:a.next=h,h===null&&(da=a)):(a=o,(t!==0||(d&3)!==0)&&(ju=!0)),o=h}qo(t)}function _y(t,n){for(var a=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-qt(d),T=1<<v,w=h[v];w===-1?((T&a)===0||(T&o)!==0)&&(h[v]=Ya(T,n)):w<=n&&(t.expiredLanes|=T),d&=~T}if(n=We,a=Ue,a=Cs(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,a===0||t===n&&(Ge===2||Ge===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&xr(o),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||zr(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(o!==null&&xr(o),Ds(a)){case 2:case 8:a=Rs;break;case 32:a=Ur;break;case 268435456:a=Is;break;default:a=Ur}return o=vy.bind(null,t),a=Vr(a,o),t.callbackPriority=n,t.callbackNode=a,n}return o!==null&&o!==null&&xr(o),t.callbackPriority=2,t.callbackNode=null,2}function vy(t,n){if(kt!==0&&kt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Lu()&&t.callbackNode!==a)return null;var o=Ue;return o=Cs(t,t===We?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(ty(t,o,n),_y(t,fn()),t.callbackNode!=null&&t.callbackNode===a?vy.bind(null,t):null)}function Ey(t,n){if(Lu())return null;ty(t,n,!0)}function MT(){qT(function(){(He&6)!==0?Vr(Ka,OT):yy()})}function Vf(){return ms===0&&(ms=Xa()),ms}function Ty(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Us(""+t)}function Sy(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function VT(t,n,a,o,h){if(n==="submit"&&a&&a.stateNode===h){var d=Ty((h[dt]||null).action),v=o.submitter;v&&(n=(n=v[dt]||null)?Ty(n.formAction):v.getAttribute("formAction"),n!==null&&(d=n,v=null));var T=new ks("action","action",null,o,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(ms!==0){var w=v?Sy(h,v):new FormData(h);Wh(a,{pending:!0,data:w,method:h.method,action:d},null,w)}}else typeof d=="function"&&(T.preventDefault(),w=v?Sy(h,v):new FormData(h),Wh(a,{pending:!0,data:w,method:h.method,action:d},d,w))},currentTarget:h}]})}}for(var xf=0;xf<yh.length;xf++){var Uf=yh[xf],xT=Uf.toLowerCase(),UT=Uf[0].toUpperCase()+Uf.slice(1);On(xT,"on"+UT)}On(tg,"onAnimationEnd"),On(ng,"onAnimationIteration"),On(ig,"onAnimationStart"),On("dblclick","onDoubleClick"),On("focusin","onFocus"),On("focusout","onBlur"),On(W0,"onTransitionRun"),On(J0,"onTransitionStart"),On(eT,"onTransitionCancel"),On(rg,"onTransitionEnd"),ui("onMouseEnter",["mouseout","mouseover"]),ui("onMouseLeave",["mouseout","mouseover"]),ui("onPointerEnter",["pointerout","pointerover"]),ui("onPointerLeave",["pointerout","pointerover"]),Dn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Dn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Dn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Dn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Dn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Dn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ho="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ho));function Ay(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var o=t[a],h=o.event;o=o.listeners;e:{var d=void 0;if(n)for(var v=o.length-1;0<=v;v--){var T=o[v],w=T.instance,z=T.currentTarget;if(T=T.listener,w!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=z;try{d(h)}catch(Q){Iu(Q)}h.currentTarget=null,d=w}else for(v=0;v<o.length;v++){if(T=o[v],w=T.instance,z=T.currentTarget,T=T.listener,w!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=z;try{d(h)}catch(Q){Iu(Q)}h.currentTarget=null,d=w}}}}function Ne(t,n){var a=n[Ja];a===void 0&&(a=n[Ja]=new Set);var o=t+"__bubble";a.has(o)||(by(n,t,2,!1),a.add(o))}function kf(t,n,a){var o=0;n&&(o|=4),by(a,t,o,n)}var Bu="_reactListening"+Math.random().toString(36).slice(2);function Pf(t){if(!t[Bu]){t[Bu]=!0,eo.forEach(function(a){a!=="selectionchange"&&(kT.has(a)||kf(a,!1,t),kf(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Bu]||(n[Bu]=!0,kf("selectionchange",!1,n))}}function by(t,n,a,o){switch(Yy(n)){case 2:var h=uS;break;case 8:h=cS;break;default:h=Zf}a=h.bind(null,n,a,t),h=void 0,!pn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(n,a,{capture:!0,passive:h}):t.addEventListener(n,a,!0):h!==void 0?t.addEventListener(n,a,{passive:h}):t.addEventListener(n,a,!1)}function Lf(t,n,a,o,h){var d=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var v=o.tag;if(v===3||v===4){var T=o.stateNode.containerInfo;if(T===h)break;if(v===4)for(v=o.return;v!==null;){var w=v.tag;if((w===3||w===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;T!==null;){if(v=li(T),v===null)return;if(w=v.tag,w===5||w===6||w===26||w===27){o=d=v;continue e}T=T.parentNode}}o=o.return}Hl(function(){var z=d,Q=gn(a),$=[];e:{var q=sg.get(t);if(q!==void 0){var G=ks,ye=t;switch(t){case"keypress":if(Hn(a)===0)break e;case"keydown":case"keyup":G=qs;break;case"focusin":ye="focus",G=zs;break;case"focusout":ye="blur",G=zs;break;case"beforeblur":case"afterblur":G=zs;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=yn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=uh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=Zl;break;case tg:case ng:case ig:G=js;break;case rg:G=Jl;break;case"scroll":case"scrollend":G=Gl;break;case"wheel":G=Hs;break;case"copy":case"cut":case"paste":G=Bs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=fo;break;case"toggle":case"beforetoggle":G=tu}var ge=(n&4)!==0,Xe=!ge&&(t==="scroll"||t==="scrollend"),x=ge?q!==null?q+"Capture":null:q;ge=[];for(var N=z,P;N!==null;){var Y=N;if(P=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||P===null||x===null||(Y=Qr(N,x),Y!=null&&ge.push(Go(N,Y,P))),Xe)break;N=N.return}0<ge.length&&(q=new G(q,ye,null,a,Q),$.push({event:q,listeners:ge}))}}if((n&7)===0){e:{if(q=t==="mouseover"||t==="pointerover",G=t==="mouseout"||t==="pointerout",q&&a!==fi&&(ye=a.relatedTarget||a.fromElement)&&(li(ye)||ye[dn]))break e;if((G||q)&&(q=Q.window===Q?Q:(q=Q.ownerDocument)?q.defaultView||q.parentWindow:window,G?(ye=a.relatedTarget||a.toElement,G=z,ye=ye?li(ye):null,ye!==null&&(Xe=c(ye),ge=ye.tag,ye!==Xe||ge!==5&&ge!==27&&ge!==6)&&(ye=null)):(G=null,ye=z),G!==ye)){if(ge=yn,Y="onMouseLeave",x="onMouseEnter",N="mouse",(t==="pointerout"||t==="pointerover")&&(ge=fo,Y="onPointerLeave",x="onPointerEnter",N="pointer"),Xe=G==null?q:zn(G),P=ye==null?q:zn(ye),q=new ge(Y,N+"leave",G,a,Q),q.target=Xe,q.relatedTarget=P,Y=null,li(Q)===z&&(ge=new ge(x,N+"enter",ye,a,Q),ge.target=P,ge.relatedTarget=Xe,Y=ge),Xe=Y,G&&ye)t:{for(ge=G,x=ye,N=0,P=ge;P;P=ma(P))N++;for(P=0,Y=x;Y;Y=ma(Y))P++;for(;0<N-P;)ge=ma(ge),N--;for(;0<P-N;)x=ma(x),P--;for(;N--;){if(ge===x||x!==null&&ge===x.alternate)break t;ge=ma(ge),x=ma(x)}ge=null}else ge=null;G!==null&&wy($,q,G,ge,!1),ye!==null&&Xe!==null&&wy($,Xe,ye,ge,!0)}}e:{if(q=z?zn(z):window,G=q.nodeName&&q.nodeName.toLowerCase(),G==="select"||G==="input"&&q.type==="file")var le=Gm;else if(Tt(q))if(Fm)le=X0;else{le=Q0;var Ce=K0}else G=q.nodeName,!G||G.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?z&&so(z.elementType)&&(le=Gm):le=Y0;if(le&&(le=le(t,z))){yi($,le,a,Q);break e}Ce&&Ce(t,q,z),t==="focusout"&&z&&q.type==="number"&&z.memoizedProps.value!=null&&Qi(q,"number",q.value)}switch(Ce=z?zn(z):window,t){case"focusin":(Tt(Ce)||Ce.contentEditable==="true")&&(Gs=Ce,mh=z,po=null);break;case"focusout":po=mh=Gs=null;break;case"mousedown":gh=!0;break;case"contextmenu":case"mouseup":case"dragend":gh=!1,Jm($,a,Q);break;case"selectionchange":if(Z0)break;case"keydown":case"keyup":Jm($,a,Q)}var ce;if(Kn)e:{switch(t){case"compositionstart":var pe="onCompositionStart";break e;case"compositionend":pe="onCompositionEnd";break e;case"compositionupdate":pe="onCompositionUpdate";break e}pe=void 0}else Ve?F(t,a)&&(pe="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(pe="onCompositionStart");pe&&(_&&a.locale!=="ko"&&(Ve||pe!=="onCompositionStart"?pe==="onCompositionEnd"&&Ve&&(ce=oo()):(qn=Q,Yi="value"in qn?qn.value:qn.textContent,Ve=!0)),Ce=qu(z,pe),0<Ce.length&&(pe=new co(pe,t,null,a,Q),$.push({event:pe,listeners:Ce}),ce?pe.data=ce:(ce=ne(a),ce!==null&&(pe.data=ce)))),(ce=m?Et(t,a):xe(t,a))&&(pe=qu(z,"onBeforeInput"),0<pe.length&&(Ce=new co("onBeforeInput","beforeinput",null,a,Q),$.push({event:Ce,listeners:pe}),Ce.data=ce)),VT($,t,z,a,Q)}Ay($,n)})}function Go(t,n,a){return{instance:t,listener:n,currentTarget:a}}function qu(t,n){for(var a=n+"Capture",o=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Qr(t,a),h!=null&&o.unshift(Go(t,h,d)),h=Qr(t,n),h!=null&&o.push(Go(t,h,d))),t.tag===3)return o;t=t.return}return[]}function ma(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function wy(t,n,a,o,h){for(var d=n._reactName,v=[];a!==null&&a!==o;){var T=a,w=T.alternate,z=T.stateNode;if(T=T.tag,w!==null&&w===o)break;T!==5&&T!==26&&T!==27||z===null||(w=z,h?(z=Qr(a,d),z!=null&&v.unshift(Go(a,z,w))):h||(z=Qr(a,d),z!=null&&v.push(Go(a,z,w)))),a=a.return}v.length!==0&&t.push({event:n,listeners:v})}var PT=/\r\n?/g,LT=/\u0000|\uFFFD/g;function Ry(t){return(typeof t=="string"?t:""+t).replace(PT,`
`).replace(LT,"")}function Iy(t,n){return n=Ry(n),Ry(t)===n}function Hu(){}function Ye(t,n,a,o,h,d){switch(a){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||mn(t,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&mn(t,""+o);break;case"className":jn(t,"class",o);break;case"tabIndex":jn(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":jn(t,a,o);break;case"style":ro(t,o,d);break;case"data":if(n!=="object"){jn(t,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=Us(""+o),t.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(n!=="input"&&Ye(t,n,"name",h.name,h,null),Ye(t,n,"formEncType",h.formEncType,h,null),Ye(t,n,"formMethod",h.formMethod,h,null),Ye(t,n,"formTarget",h.formTarget,h,null)):(Ye(t,n,"encType",h.encType,h,null),Ye(t,n,"method",h.method,h,null),Ye(t,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=Us(""+o),t.setAttribute(a,o);break;case"onClick":o!=null&&(t.onclick=Hu);break;case"onScroll":o!=null&&Ne("scroll",t);break;case"onScrollEnd":o!=null&&Ne("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}a=Us(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""+o):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":o===!0?t.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,o):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(a,o):t.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(a):t.setAttribute(a,o);break;case"popover":Ne("beforetoggle",t),Ne("toggle",t),Ki(t,"popover",o);break;case"xlinkActuate":Vt(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Vt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Vt(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Vt(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Vt(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Vt(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Vt(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Vt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Vt(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Ki(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=oh.get(a)||a,Ki(t,a,o))}}function zf(t,n,a,o,h,d){switch(a){case"style":ro(t,o,d);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof o=="string"?mn(t,o):(typeof o=="number"||typeof o=="bigint")&&mn(t,""+o);break;case"onScroll":o!=null&&Ne("scroll",t);break;case"onScrollEnd":o!=null&&Ne("scrollend",t);break;case"onClick":o!=null&&(t.onclick=Hu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ns.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),d=t[dt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(n,d,h),typeof o=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,o,h);break e}a in t?t[a]=o:o===!0?t.setAttribute(a,""):Ki(t,a,o)}}}function Pt(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ne("error",t),Ne("load",t);var o=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Ye(t,n,d,v,a,null)}}h&&Ye(t,n,"srcSet",a.srcSet,a,null),o&&Ye(t,n,"src",a.src,a,null);return;case"input":Ne("invalid",t);var T=d=v=h=null,w=null,z=null;for(o in a)if(a.hasOwnProperty(o)){var Q=a[o];if(Q!=null)switch(o){case"name":h=Q;break;case"type":v=Q;break;case"checked":w=Q;break;case"defaultChecked":z=Q;break;case"value":d=Q;break;case"defaultValue":T=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,n));break;default:Ye(t,n,o,Q,a,null)}}Gr(t,d,T,w,z,v,h,!1),xs(t);return;case"select":Ne("invalid",t),o=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":v=T;break;case"multiple":o=T;default:Ye(t,n,h,T,a,null)}n=d,a=v,t.multiple=!!o,n!=null?hi(t,!!o,n,!1):a!=null&&hi(t,!!o,a,!0);return;case"textarea":Ne("invalid",t),d=h=o=null;for(v in a)if(a.hasOwnProperty(v)&&(T=a[v],T!=null))switch(v){case"value":o=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Ye(t,n,v,T,a,null)}Fr(t,o,h,d),xs(t);return;case"option":for(w in a)if(a.hasOwnProperty(w)&&(o=a[w],o!=null))switch(w){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Ye(t,n,w,o,a,null)}return;case"dialog":Ne("beforetoggle",t),Ne("toggle",t),Ne("cancel",t),Ne("close",t);break;case"iframe":case"object":Ne("load",t);break;case"video":case"audio":for(o=0;o<Ho.length;o++)Ne(Ho[o],t);break;case"image":Ne("error",t),Ne("load",t);break;case"details":Ne("toggle",t);break;case"embed":case"source":case"link":Ne("error",t),Ne("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(o=a[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Ye(t,n,z,o,a,null)}return;default:if(so(n)){for(Q in a)a.hasOwnProperty(Q)&&(o=a[Q],o!==void 0&&zf(t,n,Q,o,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(o=a[T],o!=null&&Ye(t,n,T,o,a,null))}function zT(t,n,a,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,T=null,w=null,z=null,Q=null;for(G in a){var $=a[G];if(a.hasOwnProperty(G)&&$!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":w=$;default:o.hasOwnProperty(G)||Ye(t,n,G,null,o,$)}}for(var q in o){var G=o[q];if($=a[q],o.hasOwnProperty(q)&&(G!=null||$!=null))switch(q){case"type":d=G;break;case"name":h=G;break;case"checked":z=G;break;case"defaultChecked":Q=G;break;case"value":v=G;break;case"defaultValue":T=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,n));break;default:G!==$&&Ye(t,n,q,G,o,$)}}rn(t,v,T,w,z,Q,d,h);return;case"select":G=v=T=q=null;for(d in a)if(w=a[d],a.hasOwnProperty(d)&&w!=null)switch(d){case"value":break;case"multiple":G=w;default:o.hasOwnProperty(d)||Ye(t,n,d,null,o,w)}for(h in o)if(d=o[h],w=a[h],o.hasOwnProperty(h)&&(d!=null||w!=null))switch(h){case"value":q=d;break;case"defaultValue":T=d;break;case"multiple":v=d;default:d!==w&&Ye(t,n,h,d,o,w)}n=T,a=v,o=G,q!=null?hi(t,!!a,q,!1):!!o!=!!a&&(n!=null?hi(t,!!a,n,!0):hi(t,!!a,a?[]:"",!1));return;case"textarea":G=q=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!o.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Ye(t,n,T,null,o,h)}for(v in o)if(h=o[v],d=a[v],o.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":q=h;break;case"defaultValue":G=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Ye(t,n,v,h,o,d)}Ke(t,q,G);return;case"option":for(var ye in a)if(q=a[ye],a.hasOwnProperty(ye)&&q!=null&&!o.hasOwnProperty(ye))switch(ye){case"selected":t.selected=!1;break;default:Ye(t,n,ye,null,o,q)}for(w in o)if(q=o[w],G=a[w],o.hasOwnProperty(w)&&q!==G&&(q!=null||G!=null))switch(w){case"selected":t.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:Ye(t,n,w,q,o,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ge in a)q=a[ge],a.hasOwnProperty(ge)&&q!=null&&!o.hasOwnProperty(ge)&&Ye(t,n,ge,null,o,q);for(z in o)if(q=o[z],G=a[z],o.hasOwnProperty(z)&&q!==G&&(q!=null||G!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,n));break;default:Ye(t,n,z,q,o,G)}return;default:if(so(n)){for(var Xe in a)q=a[Xe],a.hasOwnProperty(Xe)&&q!==void 0&&!o.hasOwnProperty(Xe)&&zf(t,n,Xe,void 0,o,q);for(Q in o)q=o[Q],G=a[Q],!o.hasOwnProperty(Q)||q===G||q===void 0&&G===void 0||zf(t,n,Q,q,o,G);return}}for(var x in a)q=a[x],a.hasOwnProperty(x)&&q!=null&&!o.hasOwnProperty(x)&&Ye(t,n,x,null,o,q);for($ in o)q=o[$],G=a[$],!o.hasOwnProperty($)||q===G||q==null&&G==null||Ye(t,n,$,q,o,G)}var jf=null,Bf=null;function Gu(t){return t.nodeType===9?t:t.ownerDocument}function Cy(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Dy(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function qf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Hf=null;function jT(){var t=window.event;return t&&t.type==="popstate"?t===Hf?!1:(Hf=t,!0):(Hf=null,!1)}var Ny=typeof setTimeout=="function"?setTimeout:void 0,BT=typeof clearTimeout=="function"?clearTimeout:void 0,Oy=typeof Promise=="function"?Promise:void 0,qT=typeof queueMicrotask=="function"?queueMicrotask:typeof Oy<"u"?function(t){return Oy.resolve(null).then(t).catch(HT)}:Ny;function HT(t){setTimeout(function(){throw t})}function cr(t){return t==="head"}function My(t,n){var a=n,o=0,h=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<o&&8>o){a=o;var v=t.ownerDocument;if(a&1&&Fo(v.documentElement),a&2&&Fo(v.body),a&4)for(a=v.head,Fo(a),v=a.firstChild;v;){var T=v.nextSibling,w=v.nodeName;v[jr]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=T}}if(h===0){t.removeChild(d),Jo(n);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:o=a.charCodeAt(0)-48;else o=0;a=d}while(a);Jo(n)}function Gf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Gf(a),Fi(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function GT(t,n,a,o){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[jr])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Vn(t.nextSibling),t===null)break}return null}function FT(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Vn(t.nextSibling),t===null))return null;return t}function Ff(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function KT(t,n){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")n();else{var o=function(){n(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function Vn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var Kf=null;function Vy(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return t;n--}else a==="/$"&&n++}t=t.previousSibling}return null}function xy(t,n,a){switch(n=Gu(a),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Fo(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Fi(t)}var bn=new Map,Uy=new Set;function Fu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ni=ie.d;ie.d={f:QT,r:YT,D:XT,C:$T,L:ZT,m:WT,X:eS,S:JT,M:tS};function QT(){var t=Ni.f(),n=ku();return t||n}function YT(t){var n=Ln(t);n!==null&&n.tag===5&&n.type==="form"?tp(n):Ni.r(t)}var ga=typeof document>"u"?null:document;function ky(t,n,a){var o=ga;if(o&&typeof n=="string"&&n){var h=mt(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Uy.has(h)||(Uy.add(h),t={rel:t,crossOrigin:a,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Pt(n,"link",t),ut(n),o.head.appendChild(n)))}}function XT(t){Ni.D(t),ky("dns-prefetch",t,null)}function $T(t,n){Ni.C(t,n),ky("preconnect",t,n)}function ZT(t,n,a){Ni.L(t,n,a);var o=ga;if(o&&t&&n){var h='link[rel="preload"][as="'+mt(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+mt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+mt(a.imageSizes)+'"]')):h+='[href="'+mt(t)+'"]';var d=h;switch(n){case"style":d=pa(t);break;case"script":d=ya(t)}bn.has(d)||(t=E({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),bn.set(d,t),o.querySelector(h)!==null||n==="style"&&o.querySelector(Ko(d))||n==="script"&&o.querySelector(Qo(d))||(n=o.createElement("link"),Pt(n,"link",t),ut(n),o.head.appendChild(n)))}}function WT(t,n){Ni.m(t,n);var a=ga;if(a&&t){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+mt(o)+'"][href="'+mt(t)+'"]',d=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=ya(t)}if(!bn.has(d)&&(t=E({rel:"modulepreload",href:t},n),bn.set(d,t),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Qo(d)))return}o=a.createElement("link"),Pt(o,"link",t),ut(o),a.head.appendChild(o)}}}function JT(t,n,a){Ni.S(t,n,a);var o=ga;if(o&&t){var h=Xt(o).hoistableStyles,d=pa(t);n=n||"default";var v=h.get(d);if(!v){var T={loading:0,preload:null};if(v=o.querySelector(Ko(d)))T.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":n},a),(a=bn.get(d))&&Qf(t,a);var w=v=o.createElement("link");ut(w),Pt(w,"link",t),w._p=new Promise(function(z,Q){w.onload=z,w.onerror=Q}),w.addEventListener("load",function(){T.loading|=1}),w.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Ku(v,n,o)}v={type:"stylesheet",instance:v,count:1,state:T},h.set(d,v)}}}function eS(t,n){Ni.X(t,n);var a=ga;if(a&&t){var o=Xt(a).hoistableScripts,h=ya(t),d=o.get(h);d||(d=a.querySelector(Qo(h)),d||(t=E({src:t,async:!0},n),(n=bn.get(h))&&Yf(t,n),d=a.createElement("script"),ut(d),Pt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(h,d))}}function tS(t,n){Ni.M(t,n);var a=ga;if(a&&t){var o=Xt(a).hoistableScripts,h=ya(t),d=o.get(h);d||(d=a.querySelector(Qo(h)),d||(t=E({src:t,async:!0,type:"module"},n),(n=bn.get(h))&&Yf(t,n),d=a.createElement("script"),ut(d),Pt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(h,d))}}function Py(t,n,a,o){var h=(h=_e.current)?Fu(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=pa(a.href),a=Xt(h).hoistableStyles,o=a.get(n),o||(o={type:"style",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=pa(a.href);var d=Xt(h).hoistableStyles,v=d.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=h.querySelector(Ko(t)))&&!d._p&&(v.instance=d,v.state.loading=5),bn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},bn.set(t,a),d||nS(h,t,a,v.state))),n&&o===null)throw Error(s(528,""));return v}if(n&&o!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ya(a),a=Xt(h).hoistableScripts,o=a.get(n),o||(o={type:"script",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function pa(t){return'href="'+mt(t)+'"'}function Ko(t){return'link[rel="stylesheet"]['+t+"]"}function Ly(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function nS(t,n,a,o){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=t.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Pt(n,"link",a),ut(n),t.head.appendChild(n))}function ya(t){return'[src="'+mt(t)+'"]'}function Qo(t){return"script[async]"+t}function zy(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var o=t.querySelector('style[data-href~="'+mt(a.href)+'"]');if(o)return n.instance=o,ut(o),o;var h=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),ut(o),Pt(o,"style",h),Ku(o,a.precedence,t),n.instance=o;case"stylesheet":h=pa(a.href);var d=t.querySelector(Ko(h));if(d)return n.state.loading|=4,n.instance=d,ut(d),d;o=Ly(a),(h=bn.get(h))&&Qf(o,h),d=(t.ownerDocument||t).createElement("link"),ut(d);var v=d;return v._p=new Promise(function(T,w){v.onload=T,v.onerror=w}),Pt(d,"link",o),n.state.loading|=4,Ku(d,a.precedence,t),n.instance=d;case"script":return d=ya(a.src),(h=t.querySelector(Qo(d)))?(n.instance=h,ut(h),h):(o=a,(h=bn.get(d))&&(o=E({},a),Yf(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),ut(h),Pt(h,"link",o),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,Ku(o,a.precedence,t));return n.instance}function Ku(t,n,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,d=h,v=0;v<o.length;v++){var T=o[v];if(T.dataset.precedence===n)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function Qf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Yf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Qu=null;function jy(t,n,a){if(Qu===null){var o=new Map,h=Qu=new Map;h.set(a,o)}else h=Qu,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(t))return o;for(o.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[jr]||d[vt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(n)||"";v=t+v;var T=o.get(v);T?T.push(d):o.set(v,[d])}}return o}function By(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function iS(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function qy(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Yo=null;function rS(){}function sS(t,n,a){if(Yo===null)throw Error(s(475));var o=Yo;if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var h=pa(a.href),d=t.querySelector(Ko(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(o.count++,o=Yu.bind(o),t.then(o,o)),n.state.loading|=4,n.instance=d,ut(d);return}d=t.ownerDocument||t,a=Ly(a),(h=bn.get(h))&&Qf(a,h),d=d.createElement("link"),ut(d);var v=d;v._p=new Promise(function(T,w){v.onload=T,v.onerror=w}),Pt(d,"link",a),n.instance=d}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(o.count++,n=Yu.bind(o),t.addEventListener("load",n),t.addEventListener("error",n))}}function aS(){if(Yo===null)throw Error(s(475));var t=Yo;return t.stylesheets&&t.count===0&&Xf(t,t.stylesheets),0<t.count?function(n){var a=setTimeout(function(){if(t.stylesheets&&Xf(t,t.stylesheets),t.unsuspend){var o=t.unsuspend;t.unsuspend=null,o()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(a)}}:null}function Yu(){if(this.count--,this.count===0){if(this.stylesheets)Xf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Xu=null;function Xf(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Xu=new Map,n.forEach(oS,t),Xu=null,Yu.call(t))}function oS(t,n){if(!(n.state.loading&4)){var a=Xu.get(t);if(a)var o=a.get(null);else{a=new Map,Xu.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),o=v)}o&&a.set(null,o)}h=n.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||o,d===o&&a.set(null,h),a.set(v,h),this.count++,o=Yu.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var Xo={$$typeof:ae,Provider:null,Consumer:null,_currentValue:he,_currentValue2:he,_threadCount:0};function lS(t,n,a,o,h,d,v,T){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ai(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ai(0),this.hiddenUpdates=ai(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function Hy(t,n,a,o,h,d,v,T,w,z,Q,$){return t=new lS(t,n,a,v,T,w,z,$),n=1,d===!0&&(n|=24),d=an(3,null,null,n),t.current=d,d.stateNode=t,n=Dh(),n.refCount++,t.pooledCache=n,n.refCount++,d.memoizedState={element:o,isDehydrated:a,cache:n},Vh(d),t}function Gy(t){return t?(t=Ys,t):Ys}function Fy(t,n,a,o,h,d){h=Gy(h),o.context===null?o.context=h:o.pendingContext=h,o=Zi(n),o.payload={element:a},d=d===void 0?null:d,d!==null&&(o.callback=d),a=Wi(t,o,n),a!==null&&(hn(a,t,n),wo(a,t,n))}function Ky(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function $f(t,n){Ky(t,n),(t=t.alternate)&&Ky(t,n)}function Qy(t){if(t.tag===13){var n=Qs(t,67108864);n!==null&&hn(n,t,67108864),$f(t,67108864)}}var $u=!0;function uS(t,n,a,o){var h=K.T;K.T=null;var d=ie.p;try{ie.p=2,Zf(t,n,a,o)}finally{ie.p=d,K.T=h}}function cS(t,n,a,o){var h=K.T;K.T=null;var d=ie.p;try{ie.p=8,Zf(t,n,a,o)}finally{ie.p=d,K.T=h}}function Zf(t,n,a,o){if($u){var h=Wf(o);if(h===null)Lf(t,n,o,Zu,a),Xy(t,o);else if(fS(h,t,n,a,o))o.stopPropagation();else if(Xy(t,o),n&4&&-1<hS.indexOf(t)){for(;h!==null;){var d=Ln(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=Cn(d.pendingLanes);if(v!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var w=1<<31-qt(v);T.entanglements[1]|=w,v&=~w}Wn(d),(He&6)===0&&(xu=fn()+500,qo(0))}}break;case 13:T=Qs(d,2),T!==null&&hn(T,d,2),ku(),$f(d,2)}if(d=Wf(o),d===null&&Lf(t,n,o,Zu,a),d===h)break;h=d}h!==null&&o.stopPropagation()}else Lf(t,n,o,null,a)}}function Wf(t){return t=gn(t),Jf(t)}var Zu=null;function Jf(t){if(Zu=null,t=li(t),t!==null){var n=c(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=f(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Zu=t,null}function Yy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(th()){case Ka:return 2;case Rs:return 8;case Ur:case nh:return 32;case Is:return 268435456;default:return 32}default:return 32}}var ed=!1,hr=null,fr=null,dr=null,$o=new Map,Zo=new Map,mr=[],hS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Xy(t,n){switch(t){case"focusin":case"focusout":hr=null;break;case"dragenter":case"dragleave":fr=null;break;case"mouseover":case"mouseout":dr=null;break;case"pointerover":case"pointerout":$o.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zo.delete(n.pointerId)}}function Wo(t,n,a,o,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:n,domEventName:a,eventSystemFlags:o,nativeEvent:d,targetContainers:[h]},n!==null&&(n=Ln(n),n!==null&&Qy(n)),t):(t.eventSystemFlags|=o,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function fS(t,n,a,o,h){switch(n){case"focusin":return hr=Wo(hr,t,n,a,o,h),!0;case"dragenter":return fr=Wo(fr,t,n,a,o,h),!0;case"mouseover":return dr=Wo(dr,t,n,a,o,h),!0;case"pointerover":var d=h.pointerId;return $o.set(d,Wo($o.get(d)||null,t,n,a,o,h)),!0;case"gotpointercapture":return d=h.pointerId,Zo.set(d,Wo(Zo.get(d)||null,t,n,a,o,h)),!0}return!1}function $y(t){var n=li(t.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=f(a),n!==null){t.blockedOn=n,kl(t.priority,function(){if(a.tag===13){var o=cn();o=qi(o);var h=Qs(a,o);h!==null&&hn(h,a,o),$f(a,o)}});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Wu(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=Wf(t.nativeEvent);if(a===null){a=t.nativeEvent;var o=new a.constructor(a.type,a);fi=o,a.target.dispatchEvent(o),fi=null}else return n=Ln(a),n!==null&&Qy(n),t.blockedOn=a,!1;n.shift()}return!0}function Zy(t,n,a){Wu(t)&&a.delete(n)}function dS(){ed=!1,hr!==null&&Wu(hr)&&(hr=null),fr!==null&&Wu(fr)&&(fr=null),dr!==null&&Wu(dr)&&(dr=null),$o.forEach(Zy),Zo.forEach(Zy)}function Ju(t,n){t.blockedOn===n&&(t.blockedOn=null,ed||(ed=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,dS)))}var ec=null;function Wy(t){ec!==t&&(ec=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){ec===t&&(ec=null);for(var n=0;n<t.length;n+=3){var a=t[n],o=t[n+1],h=t[n+2];if(typeof o!="function"){if(Jf(o||a)===null)continue;break}var d=Ln(a);d!==null&&(t.splice(n,3),n-=3,Wh(d,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function Jo(t){function n(w){return Ju(w,t)}hr!==null&&Ju(hr,t),fr!==null&&Ju(fr,t),dr!==null&&Ju(dr,t),$o.forEach(n),Zo.forEach(n);for(var a=0;a<mr.length;a++){var o=mr[a];o.blockedOn===t&&(o.blockedOn=null)}for(;0<mr.length&&(a=mr[0],a.blockedOn===null);)$y(a),a.blockedOn===null&&mr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],d=a[o+1],v=h[dt]||null;if(typeof d=="function")v||Wy(a);else if(v){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[dt]||null)T=v.formAction;else if(Jf(h)!==null)continue}else T=v.action;typeof T=="function"?a[o+1]=T:(a.splice(o,3),o-=3),Wy(a)}}}function td(t){this._internalRoot=t}tc.prototype.render=td.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,o=cn();Fy(a,o,t,n,null,null)},tc.prototype.unmount=td.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Fy(t.current,2,null,t,null,null),ku(),n[dn]=null}};function tc(t){this._internalRoot=t}tc.prototype.unstable_scheduleHydration=function(t){if(t){var n=Hi();t={blockedOn:null,target:t,priority:n};for(var a=0;a<mr.length&&n!==0&&n<mr[a].priority;a++);mr.splice(a,0,t),a===0&&$y(t)}};var Jy=e.version;if(Jy!=="19.1.1")throw Error(s(527,Jy,"19.1.1"));ie.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=p(n),t=t!==null?y(t):null,t=t===null?null:t.stateNode,t};var mS={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nc.isDisabled&&nc.supportsFiber)try{st=nc.inject(mS),qe=nc}catch{}}return tl.createRoot=function(t,n){if(!l(t))throw Error(s(299));var a=!1,o="",h=gp,d=pp,v=yp,T=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(d=n.onCaughtError),n.onRecoverableError!==void 0&&(v=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(T=n.unstable_transitionCallbacks)),n=Hy(t,1,!1,null,null,a,o,h,d,v,T,null),t[dn]=n.current,Pf(t),new td(n)},tl.hydrateRoot=function(t,n,a){if(!l(t))throw Error(s(299));var o=!1,h="",d=gp,v=pp,T=yp,w=null,z=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(w=a.unstable_transitionCallbacks),a.formState!==void 0&&(z=a.formState)),n=Hy(t,1,!0,n,a??null,o,h,d,v,T,w,z),n.context=Gy(null),a=n.current,o=cn(),o=qi(o),h=Zi(o),h.callback=null,Wi(a,h,o),a=o,n.current.lanes=a,oi(n,a),Wn(n),t[dn]=n.current,Pf(t),new tc(n)},tl.version="19.1.1",tl}var u_;function wS(){if(u_)return rd.exports;u_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),rd.exports=bS(),rd.exports}var RS=wS();const IS={},c_=r=>{let e;const i=new Set,s=(E,A)=>{const D=typeof E=="function"?E(e):E;if(!Object.is(D,e)){const B=e;e=A??(typeof D!="object"||D===null)?D:Object.assign({},e,D),i.forEach(X=>X(e,B))}},l=()=>e,p={setState:s,getState:l,getInitialState:()=>y,subscribe:E=>(i.add(E),()=>i.delete(E)),destroy:()=>{(IS?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),i.clear()}},y=e=r(s,l,p);return p},CS=r=>r?c_(r):c_;var ld={exports:{}},ud={},cd={exports:{}},hd={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h_;function DS(){if(h_)return hd;h_=1;var r=Tl();function e(A,D){return A===D&&(A!==0||1/A===1/D)||A!==A&&D!==D}var i=typeof Object.is=="function"?Object.is:e,s=r.useState,l=r.useEffect,c=r.useLayoutEffect,f=r.useDebugValue;function g(A,D){var B=D(),X=s({inst:{value:B,getSnapshot:D}}),j=X[0].inst,H=X[1];return c(function(){j.value=B,j.getSnapshot=D,p(j)&&H({inst:j})},[A,B,D]),l(function(){return p(j)&&H({inst:j}),A(function(){p(j)&&H({inst:j})})},[A]),f(B),B}function p(A){var D=A.getSnapshot;A=A.value;try{var B=D();return!i(A,B)}catch{return!0}}function y(A,D){return D()}var E=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?y:g;return hd.useSyncExternalStore=r.useSyncExternalStore!==void 0?r.useSyncExternalStore:E,hd}var f_;function NS(){return f_||(f_=1,cd.exports=DS()),cd.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d_;function OS(){if(d_)return ud;d_=1;var r=Tl(),e=NS();function i(y,E){return y===E&&(y!==0||1/y===1/E)||y!==y&&E!==E}var s=typeof Object.is=="function"?Object.is:i,l=e.useSyncExternalStore,c=r.useRef,f=r.useEffect,g=r.useMemo,p=r.useDebugValue;return ud.useSyncExternalStoreWithSelector=function(y,E,A,D,B){var X=c(null);if(X.current===null){var j={hasValue:!1,value:null};X.current=j}else j=X.current;X=g(function(){function se(Te){if(!ee){if(ee=!0,ae=Te,Te=D(Te),B!==void 0&&j.hasValue){var O=j.value;if(B(O,Te))return Se=O}return Se=Te}if(O=Se,s(ae,Te))return O;var b=D(Te);return B!==void 0&&B(O,b)?(ae=Te,O):(ae=Te,Se=b)}var ee=!1,ae,Se,fe=A===void 0?null:A;return[function(){return se(E())},fe===null?void 0:function(){return se(fe())}]},[E,A,D,B]);var H=l(y,X[0],X[1]);return f(function(){j.hasValue=!0,j.value=H},[H]),p(H),H},ud}var m_;function MS(){return m_||(m_=1,ld.exports=OS()),ld.exports}var VS=MS();const xS=Mv(VS),Vv={},{useDebugValue:US}=vS,{useSyncExternalStoreWithSelector:kS}=xS;let g_=!1;const PS=r=>r;function LS(r,e=PS,i){(Vv?"production":void 0)!=="production"&&i&&!g_&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),g_=!0);const s=kS(r.subscribe,r.getState,r.getServerState||r.getInitialState,e,i);return US(s),s}const zS=r=>{(Vv?"production":void 0)!=="production"&&typeof r!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof r=="function"?CS(r):r,i=(s,l)=>LS(e,s,l);return Object.assign(i,e),i},jS=r=>zS,BS={};function qS(r,e){let i;try{i=r()}catch{return}return{getItem:l=>{var c;const f=p=>p===null?null:JSON.parse(p,void 0),g=(c=i.getItem(l))!=null?c:null;return g instanceof Promise?g.then(f):f(g)},setItem:(l,c)=>i.setItem(l,JSON.stringify(c,void 0)),removeItem:l=>i.removeItem(l)}}const hl=r=>e=>{try{const i=r(e);return i instanceof Promise?i:{then(s){return hl(s)(i)},catch(s){return this}}}catch(i){return{then(s){return this},catch(s){return hl(s)(i)}}}},HS=(r,e)=>(i,s,l)=>{let c={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:H=>H,version:0,merge:(H,se)=>({...se,...H}),...e},f=!1;const g=new Set,p=new Set;let y;try{y=c.getStorage()}catch{}if(!y)return r((...H)=>{console.warn(`[zustand persist middleware] Unable to update item '${c.name}', the given storage is currently unavailable.`),i(...H)},s,l);const E=hl(c.serialize),A=()=>{const H=c.partialize({...s()});let se;const ee=E({state:H,version:c.version}).then(ae=>y.setItem(c.name,ae)).catch(ae=>{se=ae});if(se)throw se;return ee},D=l.setState;l.setState=(H,se)=>{D(H,se),A()};const B=r((...H)=>{i(...H),A()},s,l);let X;const j=()=>{var H;if(!y)return;f=!1,g.forEach(ee=>ee(s()));const se=((H=c.onRehydrateStorage)==null?void 0:H.call(c,s()))||void 0;return hl(y.getItem.bind(y))(c.name).then(ee=>{if(ee)return c.deserialize(ee)}).then(ee=>{if(ee)if(typeof ee.version=="number"&&ee.version!==c.version){if(c.migrate)return c.migrate(ee.state,ee.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return ee.state}).then(ee=>{var ae;return X=c.merge(ee,(ae=s())!=null?ae:B),i(X,!0),A()}).then(()=>{se?.(X,void 0),f=!0,p.forEach(ee=>ee(X))}).catch(ee=>{se?.(void 0,ee)})};return l.persist={setOptions:H=>{c={...c,...H},H.getStorage&&(y=H.getStorage())},clearStorage:()=>{y?.removeItem(c.name)},getOptions:()=>c,rehydrate:()=>j(),hasHydrated:()=>f,onHydrate:H=>(g.add(H),()=>{g.delete(H)}),onFinishHydration:H=>(p.add(H),()=>{p.delete(H)})},j(),X||B},GS=(r,e)=>(i,s,l)=>{let c={storage:qS(()=>localStorage),partialize:j=>j,version:0,merge:(j,H)=>({...H,...j}),...e},f=!1;const g=new Set,p=new Set;let y=c.storage;if(!y)return r((...j)=>{console.warn(`[zustand persist middleware] Unable to update item '${c.name}', the given storage is currently unavailable.`),i(...j)},s,l);const E=()=>{const j=c.partialize({...s()});return y.setItem(c.name,{state:j,version:c.version})},A=l.setState;l.setState=(j,H)=>{A(j,H),E()};const D=r((...j)=>{i(...j),E()},s,l);l.getInitialState=()=>D;let B;const X=()=>{var j,H;if(!y)return;f=!1,g.forEach(ee=>{var ae;return ee((ae=s())!=null?ae:D)});const se=((H=c.onRehydrateStorage)==null?void 0:H.call(c,(j=s())!=null?j:D))||void 0;return hl(y.getItem.bind(y))(c.name).then(ee=>{if(ee)if(typeof ee.version=="number"&&ee.version!==c.version){if(c.migrate)return[!0,c.migrate(ee.state,ee.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,ee.state];return[!1,void 0]}).then(ee=>{var ae;const[Se,fe]=ee;if(B=c.merge(fe,(ae=s())!=null?ae:D),i(B,!0),Se)return E()}).then(()=>{se?.(B,void 0),B=s(),f=!0,p.forEach(ee=>ee(B))}).catch(ee=>{se?.(void 0,ee)})};return l.persist={setOptions:j=>{c={...c,...j},j.storage&&(y=j.storage)},clearStorage:()=>{y?.removeItem(c.name)},getOptions:()=>c,rehydrate:()=>X(),hasHydrated:()=>f,onHydrate:j=>(g.add(j),()=>{g.delete(j)}),onFinishHydration:j=>(p.add(j),()=>{p.delete(j)})},c.skipHydration||X(),B||D},FS=(r,e)=>"getStorage"in e||"serialize"in e||"deserialize"in e?((BS?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),HS(r,e)):GS(r,e),KS=FS;var p_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xv=function(r){const e=[];let i=0;for(let s=0;s<r.length;s++){let l=r.charCodeAt(s);l<128?e[i++]=l:l<2048?(e[i++]=l>>6|192,e[i++]=l&63|128):(l&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++s)&1023),e[i++]=l>>18|240,e[i++]=l>>12&63|128,e[i++]=l>>6&63|128,e[i++]=l&63|128):(e[i++]=l>>12|224,e[i++]=l>>6&63|128,e[i++]=l&63|128)}return e},QS=function(r){const e=[];let i=0,s=0;for(;i<r.length;){const l=r[i++];if(l<128)e[s++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[i++];e[s++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[i++],f=r[i++],g=r[i++],p=((l&7)<<18|(c&63)<<12|(f&63)<<6|g&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const c=r[i++],f=r[i++];e[s++]=String.fromCharCode((l&15)<<12|(c&63)<<6|f&63)}}return e.join("")},Uv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<r.length;l+=3){const c=r[l],f=l+1<r.length,g=f?r[l+1]:0,p=l+2<r.length,y=p?r[l+2]:0,E=c>>2,A=(c&3)<<4|g>>4;let D=(g&15)<<2|y>>6,B=y&63;p||(B=64,f||(D=64)),s.push(i[E],i[A],i[D],i[B])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(xv(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):QS(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<r.length;){const c=i[r.charAt(l++)],g=l<r.length?i[r.charAt(l)]:0;++l;const y=l<r.length?i[r.charAt(l)]:64;++l;const A=l<r.length?i[r.charAt(l)]:64;if(++l,c==null||g==null||y==null||A==null)throw new YS;const D=c<<2|g>>4;if(s.push(D),y!==64){const B=g<<4&240|y>>2;if(s.push(B),A!==64){const X=y<<6&192|A;s.push(X)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class YS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const XS=function(r){const e=xv(r);return Uv.encodeByteArray(e,!0)},vc=function(r){return XS(r).replace(/\./g,"")},kv=function(r){try{return Uv.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $S(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZS=()=>$S().__FIREBASE_DEFAULTS__,WS=()=>{if(typeof process>"u"||typeof p_>"u")return;const r=p_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},JS=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&kv(r[1]);return e&&JSON.parse(e)},Pc=()=>{try{return ZS()||WS()||JS()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},Pv=r=>{var e,i;return(i=(e=Pc())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[r]},eA=r=>{const e=Pv(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},Lv=()=>{var r;return(r=Pc())===null||r===void 0?void 0:r.config},zv=r=>{var e;return(e=Pc())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nA(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},r);return[vc(JSON.stringify(i)),vc(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function iA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Yt())}function rA(){var r;const e=(r=Pc())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function sA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function aA(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function oA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function lA(){const r=Yt();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function uA(){return!rA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function cA(){try{return typeof indexedDB=="object"}catch{return!1}}function hA(){return new Promise((r,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(s),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{var c;e(((c=l.error)===null||c===void 0?void 0:c.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fA="FirebaseError";class ji extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=fA,Object.setPrototypeOf(this,ji.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Sl.prototype.create)}}class Sl{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},l=`${this.service}/${e}`,c=this.errors[e],f=c?dA(c,s):"Error",g=`${this.serviceName}: ${f} (${l}).`;return new ji(l,g,s)}}function dA(r,e){return r.replace(mA,(i,s)=>{const l=e[s];return l!=null?String(l):`<${s}?>`})}const mA=/\{\$([^}]+)}/g;function gA(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Ec(r,e){if(r===e)return!0;const i=Object.keys(r),s=Object.keys(e);for(const l of i){if(!s.includes(l))return!1;const c=r[l],f=e[l];if(y_(c)&&y_(f)){if(!Ec(c,f))return!1}else if(c!==f)return!1}for(const l of s)if(!i.includes(l))return!1;return!0}function y_(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Al(r){const e=[];for(const[i,s]of Object.entries(r))Array.isArray(s)?s.forEach(l=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function pA(r,e){const i=new yA(r,e);return i.subscribe.bind(i)}class yA{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,s){let l;if(e===void 0&&i===void 0&&s===void 0)throw new Error("Missing Observer.");_A(e,["next","error","complete"])?l=e:l={next:e,error:i,complete:s},l.next===void 0&&(l.next=fd),l.error===void 0&&(l.error=fd),l.complete===void 0&&(l.complete=fd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function _A(r,e){if(typeof r!="object"||r===null)return!1;for(const i of e)if(i in r&&typeof r[i]=="function")return!0;return!1}function fd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function In(r){return r&&r._delegate?r._delegate:r}class vs{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new tA;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const s=this.normalizeInstanceIdentifier(e?.identifier),l=(i=e?.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(c){if(l)return null;throw c}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(TA(e))try{this.getOrInitializeService({instanceIdentifier:gs})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});s.resolve(c)}catch{}}}}clearInstance(e=gs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=gs){return this.instances.has(e)}getOptions(e=gs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[c,f]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);s===g&&f.resolve(l)}return l}onInit(e,i){var s;const l=this.normalizeInstanceIdentifier(i),c=(s=this.onInitCallbacks.get(l))!==null&&s!==void 0?s:new Set;c.add(e),this.onInitCallbacks.set(l,c);const f=this.instances.get(l);return f&&e(f,l),()=>{c.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const l of s)try{l(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:EA(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=gs){return this.component?this.component.multipleInstances?e:gs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function EA(r){return r===gs?void 0:r}function TA(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new vA(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Me||(Me={}));const AA={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},bA=Me.INFO,wA={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},RA=(r,e,...i)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),l=wA[e];if(l)console[l](`[${s}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Yd{constructor(e){this.name=e,this._logLevel=bA,this._logHandler=RA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?AA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const IA=(r,e)=>e.some(i=>r instanceof i);let __,v_;function CA(){return __||(__=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function DA(){return v_||(v_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const jv=new WeakMap,Rd=new WeakMap,Bv=new WeakMap,dd=new WeakMap,Xd=new WeakMap;function NA(r){const e=new Promise((i,s)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",f)},c=()=>{i(Ar(r.result)),l()},f=()=>{s(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",f)});return e.then(i=>{i instanceof IDBCursor&&jv.set(i,r)}).catch(()=>{}),Xd.set(e,r),e}function OA(r){if(Rd.has(r))return;const e=new Promise((i,s)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",f),r.removeEventListener("abort",f)},c=()=>{i(),l()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",f),r.addEventListener("abort",f)});Rd.set(r,e)}let Id={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return Rd.get(r);if(e==="objectStoreNames")return r.objectStoreNames||Bv.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Ar(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function MA(r){Id=r(Id)}function VA(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=r.call(md(this),e,...i);return Bv.set(s,e.sort?e.sort():[e]),Ar(s)}:DA().includes(r)?function(...e){return r.apply(md(this),e),Ar(jv.get(this))}:function(...e){return Ar(r.apply(md(this),e))}}function xA(r){return typeof r=="function"?VA(r):(r instanceof IDBTransaction&&OA(r),IA(r,CA())?new Proxy(r,Id):r)}function Ar(r){if(r instanceof IDBRequest)return NA(r);if(dd.has(r))return dd.get(r);const e=xA(r);return e!==r&&(dd.set(r,e),Xd.set(e,r)),e}const md=r=>Xd.get(r);function UA(r,e,{blocked:i,upgrade:s,blocking:l,terminated:c}={}){const f=indexedDB.open(r,e),g=Ar(f);return s&&f.addEventListener("upgradeneeded",p=>{s(Ar(f.result),p.oldVersion,p.newVersion,Ar(f.transaction),p)}),i&&f.addEventListener("blocked",p=>i(p.oldVersion,p.newVersion,p)),g.then(p=>{c&&p.addEventListener("close",()=>c()),l&&p.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),g}const kA=["get","getKey","getAll","getAllKeys","count"],PA=["put","add","delete","clear"],gd=new Map;function E_(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(gd.get(e))return gd.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,l=PA.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(l||kA.includes(i)))return;const c=async function(f,...g){const p=this.transaction(f,l?"readwrite":"readonly");let y=p.store;return s&&(y=y.index(g.shift())),(await Promise.all([y[i](...g),l&&p.done]))[0]};return gd.set(e,c),c}MA(r=>({...r,get:(e,i,s)=>E_(e,i)||r.get(e,i,s),has:(e,i)=>!!E_(e,i)||r.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(zA(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function zA(r){const e=r.getComponent();return e?.type==="VERSION"}const Cd="@firebase/app",T_="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ui=new Yd("@firebase/app"),jA="@firebase/app-compat",BA="@firebase/analytics-compat",qA="@firebase/analytics",HA="@firebase/app-check-compat",GA="@firebase/app-check",FA="@firebase/auth",KA="@firebase/auth-compat",QA="@firebase/database",YA="@firebase/data-connect",XA="@firebase/database-compat",$A="@firebase/functions",ZA="@firebase/functions-compat",WA="@firebase/installations",JA="@firebase/installations-compat",eb="@firebase/messaging",tb="@firebase/messaging-compat",nb="@firebase/performance",ib="@firebase/performance-compat",rb="@firebase/remote-config",sb="@firebase/remote-config-compat",ab="@firebase/storage",ob="@firebase/storage-compat",lb="@firebase/firestore",ub="@firebase/vertexai-preview",cb="@firebase/firestore-compat",hb="firebase",fb="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dd="[DEFAULT]",db={[Cd]:"fire-core",[jA]:"fire-core-compat",[qA]:"fire-analytics",[BA]:"fire-analytics-compat",[GA]:"fire-app-check",[HA]:"fire-app-check-compat",[FA]:"fire-auth",[KA]:"fire-auth-compat",[QA]:"fire-rtdb",[YA]:"fire-data-connect",[XA]:"fire-rtdb-compat",[$A]:"fire-fn",[ZA]:"fire-fn-compat",[WA]:"fire-iid",[JA]:"fire-iid-compat",[eb]:"fire-fcm",[tb]:"fire-fcm-compat",[nb]:"fire-perf",[ib]:"fire-perf-compat",[rb]:"fire-rc",[sb]:"fire-rc-compat",[ab]:"fire-gcs",[ob]:"fire-gcs-compat",[lb]:"fire-fst",[cb]:"fire-fst-compat",[ub]:"fire-vertex","fire-js":"fire-js",[hb]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tc=new Map,mb=new Map,Nd=new Map;function S_(r,e){try{r.container.addComponent(e)}catch(i){Ui.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function Ra(r){const e=r.name;if(Nd.has(e))return Ui.debug(`There were multiple attempts to register component ${e}.`),!1;Nd.set(e,r);for(const i of Tc.values())S_(i,r);for(const i of mb.values())S_(i,r);return!0}function $d(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function Tr(r){return r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},br=new Sl("app","Firebase",gb);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{constructor(e,i,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new vs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw br.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ka=fb;function qv(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Dd,automaticDataCollectionEnabled:!1},e),l=s.name;if(typeof l!="string"||!l)throw br.create("bad-app-name",{appName:String(l)});if(i||(i=Lv()),!i)throw br.create("no-options");const c=Tc.get(l);if(c){if(Ec(i,c.options)&&Ec(s,c.config))return c;throw br.create("duplicate-app",{appName:l})}const f=new SA(l);for(const p of Nd.values())f.addComponent(p);const g=new pb(i,s,f);return Tc.set(l,g),g}function Hv(r=Dd){const e=Tc.get(r);if(!e&&r===Dd&&Lv())return qv();if(!e)throw br.create("no-app",{appName:r});return e}function wr(r,e,i){var s;let l=(s=db[r])!==null&&s!==void 0?s:r;i&&(l+=`-${i}`);const c=l.match(/\s|\//),f=e.match(/\s|\//);if(c||f){const g=[`Unable to register library "${l}" with version "${e}":`];c&&g.push(`library name "${l}" contains illegal characters (whitespace or "/")`),c&&f&&g.push("and"),f&&g.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ui.warn(g.join(" "));return}Ra(new vs(`${l}-version`,()=>({library:l,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yb="firebase-heartbeat-database",_b=1,fl="firebase-heartbeat-store";let pd=null;function Gv(){return pd||(pd=UA(yb,_b,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(fl)}catch(i){console.warn(i)}}}}).catch(r=>{throw br.create("idb-open",{originalErrorMessage:r.message})})),pd}async function vb(r){try{const i=(await Gv()).transaction(fl),s=await i.objectStore(fl).get(Fv(r));return await i.done,s}catch(e){if(e instanceof ji)Ui.warn(e.message);else{const i=br.create("idb-get",{originalErrorMessage:e?.message});Ui.warn(i.message)}}}async function A_(r,e){try{const s=(await Gv()).transaction(fl,"readwrite");await s.objectStore(fl).put(e,Fv(r)),await s.done}catch(i){if(i instanceof ji)Ui.warn(i.message);else{const s=br.create("idb-set",{originalErrorMessage:i?.message});Ui.warn(s.message)}}}function Fv(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eb=1024,Tb=720*60*60*1e3;class Sb{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new bb(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,i;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=b_();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(f=>f.date===c)?void 0:(this._heartbeatsCache.heartbeats.push({date:c,agent:l}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(f=>{const g=new Date(f.date).valueOf();return Date.now()-g<=Tb}),this._storage.overwrite(this._heartbeatsCache))}catch(s){Ui.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=b_(),{heartbeatsToSend:s,unsentEntries:l}=Ab(this._heartbeatsCache.heartbeats),c=vc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=i,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(i){return Ui.warn(i),""}}}function b_(){return new Date().toISOString().substring(0,10)}function Ab(r,e=Eb){const i=[];let s=r.slice();for(const l of r){const c=i.find(f=>f.agent===l.agent);if(c){if(c.dates.push(l.date),w_(i)>e){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),w_(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class bb{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return cA()?hA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await vb(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const l=await this.read();return A_(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:l.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const l=await this.read();return A_(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...e.heartbeats]})}else return}}function w_(r){return vc(JSON.stringify({version:2,heartbeats:r})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wb(r){Ra(new vs("platform-logger",e=>new LA(e),"PRIVATE")),Ra(new vs("heartbeat",e=>new Sb(e),"PRIVATE")),wr(Cd,T_,r),wr(Cd,T_,"esm2017"),wr("fire-js","")}wb("");var R_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ys,Kv;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,b){function R(){}R.prototype=b.prototype,O.D=b.prototype,O.prototype=new R,O.prototype.constructor=O,O.C=function(M,V,U){for(var I=Array(arguments.length-2),Mt=2;Mt<arguments.length;Mt++)I[Mt-2]=arguments[Mt];return b.prototype[V].apply(M,I)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,i),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(O,b,R){R||(R=0);var M=Array(16);if(typeof b=="string")for(var V=0;16>V;++V)M[V]=b.charCodeAt(R++)|b.charCodeAt(R++)<<8|b.charCodeAt(R++)<<16|b.charCodeAt(R++)<<24;else for(V=0;16>V;++V)M[V]=b[R++]|b[R++]<<8|b[R++]<<16|b[R++]<<24;b=O.g[0],R=O.g[1],V=O.g[2];var U=O.g[3],I=b+(U^R&(V^U))+M[0]+3614090360&4294967295;b=R+(I<<7&4294967295|I>>>25),I=U+(V^b&(R^V))+M[1]+3905402710&4294967295,U=b+(I<<12&4294967295|I>>>20),I=V+(R^U&(b^R))+M[2]+606105819&4294967295,V=U+(I<<17&4294967295|I>>>15),I=R+(b^V&(U^b))+M[3]+3250441966&4294967295,R=V+(I<<22&4294967295|I>>>10),I=b+(U^R&(V^U))+M[4]+4118548399&4294967295,b=R+(I<<7&4294967295|I>>>25),I=U+(V^b&(R^V))+M[5]+1200080426&4294967295,U=b+(I<<12&4294967295|I>>>20),I=V+(R^U&(b^R))+M[6]+2821735955&4294967295,V=U+(I<<17&4294967295|I>>>15),I=R+(b^V&(U^b))+M[7]+4249261313&4294967295,R=V+(I<<22&4294967295|I>>>10),I=b+(U^R&(V^U))+M[8]+1770035416&4294967295,b=R+(I<<7&4294967295|I>>>25),I=U+(V^b&(R^V))+M[9]+2336552879&4294967295,U=b+(I<<12&4294967295|I>>>20),I=V+(R^U&(b^R))+M[10]+4294925233&4294967295,V=U+(I<<17&4294967295|I>>>15),I=R+(b^V&(U^b))+M[11]+2304563134&4294967295,R=V+(I<<22&4294967295|I>>>10),I=b+(U^R&(V^U))+M[12]+1804603682&4294967295,b=R+(I<<7&4294967295|I>>>25),I=U+(V^b&(R^V))+M[13]+4254626195&4294967295,U=b+(I<<12&4294967295|I>>>20),I=V+(R^U&(b^R))+M[14]+2792965006&4294967295,V=U+(I<<17&4294967295|I>>>15),I=R+(b^V&(U^b))+M[15]+1236535329&4294967295,R=V+(I<<22&4294967295|I>>>10),I=b+(V^U&(R^V))+M[1]+4129170786&4294967295,b=R+(I<<5&4294967295|I>>>27),I=U+(R^V&(b^R))+M[6]+3225465664&4294967295,U=b+(I<<9&4294967295|I>>>23),I=V+(b^R&(U^b))+M[11]+643717713&4294967295,V=U+(I<<14&4294967295|I>>>18),I=R+(U^b&(V^U))+M[0]+3921069994&4294967295,R=V+(I<<20&4294967295|I>>>12),I=b+(V^U&(R^V))+M[5]+3593408605&4294967295,b=R+(I<<5&4294967295|I>>>27),I=U+(R^V&(b^R))+M[10]+38016083&4294967295,U=b+(I<<9&4294967295|I>>>23),I=V+(b^R&(U^b))+M[15]+3634488961&4294967295,V=U+(I<<14&4294967295|I>>>18),I=R+(U^b&(V^U))+M[4]+3889429448&4294967295,R=V+(I<<20&4294967295|I>>>12),I=b+(V^U&(R^V))+M[9]+568446438&4294967295,b=R+(I<<5&4294967295|I>>>27),I=U+(R^V&(b^R))+M[14]+3275163606&4294967295,U=b+(I<<9&4294967295|I>>>23),I=V+(b^R&(U^b))+M[3]+4107603335&4294967295,V=U+(I<<14&4294967295|I>>>18),I=R+(U^b&(V^U))+M[8]+1163531501&4294967295,R=V+(I<<20&4294967295|I>>>12),I=b+(V^U&(R^V))+M[13]+2850285829&4294967295,b=R+(I<<5&4294967295|I>>>27),I=U+(R^V&(b^R))+M[2]+4243563512&4294967295,U=b+(I<<9&4294967295|I>>>23),I=V+(b^R&(U^b))+M[7]+1735328473&4294967295,V=U+(I<<14&4294967295|I>>>18),I=R+(U^b&(V^U))+M[12]+2368359562&4294967295,R=V+(I<<20&4294967295|I>>>12),I=b+(R^V^U)+M[5]+4294588738&4294967295,b=R+(I<<4&4294967295|I>>>28),I=U+(b^R^V)+M[8]+2272392833&4294967295,U=b+(I<<11&4294967295|I>>>21),I=V+(U^b^R)+M[11]+1839030562&4294967295,V=U+(I<<16&4294967295|I>>>16),I=R+(V^U^b)+M[14]+4259657740&4294967295,R=V+(I<<23&4294967295|I>>>9),I=b+(R^V^U)+M[1]+2763975236&4294967295,b=R+(I<<4&4294967295|I>>>28),I=U+(b^R^V)+M[4]+1272893353&4294967295,U=b+(I<<11&4294967295|I>>>21),I=V+(U^b^R)+M[7]+4139469664&4294967295,V=U+(I<<16&4294967295|I>>>16),I=R+(V^U^b)+M[10]+3200236656&4294967295,R=V+(I<<23&4294967295|I>>>9),I=b+(R^V^U)+M[13]+681279174&4294967295,b=R+(I<<4&4294967295|I>>>28),I=U+(b^R^V)+M[0]+3936430074&4294967295,U=b+(I<<11&4294967295|I>>>21),I=V+(U^b^R)+M[3]+3572445317&4294967295,V=U+(I<<16&4294967295|I>>>16),I=R+(V^U^b)+M[6]+76029189&4294967295,R=V+(I<<23&4294967295|I>>>9),I=b+(R^V^U)+M[9]+3654602809&4294967295,b=R+(I<<4&4294967295|I>>>28),I=U+(b^R^V)+M[12]+3873151461&4294967295,U=b+(I<<11&4294967295|I>>>21),I=V+(U^b^R)+M[15]+530742520&4294967295,V=U+(I<<16&4294967295|I>>>16),I=R+(V^U^b)+M[2]+3299628645&4294967295,R=V+(I<<23&4294967295|I>>>9),I=b+(V^(R|~U))+M[0]+4096336452&4294967295,b=R+(I<<6&4294967295|I>>>26),I=U+(R^(b|~V))+M[7]+1126891415&4294967295,U=b+(I<<10&4294967295|I>>>22),I=V+(b^(U|~R))+M[14]+2878612391&4294967295,V=U+(I<<15&4294967295|I>>>17),I=R+(U^(V|~b))+M[5]+4237533241&4294967295,R=V+(I<<21&4294967295|I>>>11),I=b+(V^(R|~U))+M[12]+1700485571&4294967295,b=R+(I<<6&4294967295|I>>>26),I=U+(R^(b|~V))+M[3]+2399980690&4294967295,U=b+(I<<10&4294967295|I>>>22),I=V+(b^(U|~R))+M[10]+4293915773&4294967295,V=U+(I<<15&4294967295|I>>>17),I=R+(U^(V|~b))+M[1]+2240044497&4294967295,R=V+(I<<21&4294967295|I>>>11),I=b+(V^(R|~U))+M[8]+1873313359&4294967295,b=R+(I<<6&4294967295|I>>>26),I=U+(R^(b|~V))+M[15]+4264355552&4294967295,U=b+(I<<10&4294967295|I>>>22),I=V+(b^(U|~R))+M[6]+2734768916&4294967295,V=U+(I<<15&4294967295|I>>>17),I=R+(U^(V|~b))+M[13]+1309151649&4294967295,R=V+(I<<21&4294967295|I>>>11),I=b+(V^(R|~U))+M[4]+4149444226&4294967295,b=R+(I<<6&4294967295|I>>>26),I=U+(R^(b|~V))+M[11]+3174756917&4294967295,U=b+(I<<10&4294967295|I>>>22),I=V+(b^(U|~R))+M[2]+718787259&4294967295,V=U+(I<<15&4294967295|I>>>17),I=R+(U^(V|~b))+M[9]+3951481745&4294967295,O.g[0]=O.g[0]+b&4294967295,O.g[1]=O.g[1]+(V+(I<<21&4294967295|I>>>11))&4294967295,O.g[2]=O.g[2]+V&4294967295,O.g[3]=O.g[3]+U&4294967295}s.prototype.u=function(O,b){b===void 0&&(b=O.length);for(var R=b-this.blockSize,M=this.B,V=this.h,U=0;U<b;){if(V==0)for(;U<=R;)l(this,O,U),U+=this.blockSize;if(typeof O=="string"){for(;U<b;)if(M[V++]=O.charCodeAt(U++),V==this.blockSize){l(this,M),V=0;break}}else for(;U<b;)if(M[V++]=O[U++],V==this.blockSize){l(this,M),V=0;break}}this.h=V,this.o+=b},s.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var b=1;b<O.length-8;++b)O[b]=0;var R=8*this.o;for(b=O.length-8;b<O.length;++b)O[b]=R&255,R/=256;for(this.u(O),O=Array(16),b=R=0;4>b;++b)for(var M=0;32>M;M+=8)O[R++]=this.g[b]>>>M&255;return O};function c(O,b){var R=g;return Object.prototype.hasOwnProperty.call(R,O)?R[O]:R[O]=b(O)}function f(O,b){this.h=b;for(var R=[],M=!0,V=O.length-1;0<=V;V--){var U=O[V]|0;M&&U==b||(R[V]=U,M=!1)}this.g=R}var g={};function p(O){return-128<=O&&128>O?c(O,function(b){return new f([b|0],0>b?-1:0)}):new f([O|0],0>O?-1:0)}function y(O){if(isNaN(O)||!isFinite(O))return A;if(0>O)return H(y(-O));for(var b=[],R=1,M=0;O>=R;M++)b[M]=O/R|0,R*=4294967296;return new f(b,0)}function E(O,b){if(O.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(O.charAt(0)=="-")return H(E(O.substring(1),b));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=y(Math.pow(b,8)),M=A,V=0;V<O.length;V+=8){var U=Math.min(8,O.length-V),I=parseInt(O.substring(V,V+U),b);8>U?(U=y(Math.pow(b,U)),M=M.j(U).add(y(I))):(M=M.j(R),M=M.add(y(I)))}return M}var A=p(0),D=p(1),B=p(16777216);r=f.prototype,r.m=function(){if(j(this))return-H(this).m();for(var O=0,b=1,R=0;R<this.g.length;R++){var M=this.i(R);O+=(0<=M?M:4294967296+M)*b,b*=4294967296}return O},r.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(X(this))return"0";if(j(this))return"-"+H(this).toString(O);for(var b=y(Math.pow(O,6)),R=this,M="";;){var V=Se(R,b).g;R=se(R,V.j(b));var U=((0<R.g.length?R.g[0]:R.h)>>>0).toString(O);if(R=V,X(R))return U+M;for(;6>U.length;)U="0"+U;M=U+M}},r.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function X(O){if(O.h!=0)return!1;for(var b=0;b<O.g.length;b++)if(O.g[b]!=0)return!1;return!0}function j(O){return O.h==-1}r.l=function(O){return O=se(this,O),j(O)?-1:X(O)?0:1};function H(O){for(var b=O.g.length,R=[],M=0;M<b;M++)R[M]=~O.g[M];return new f(R,~O.h).add(D)}r.abs=function(){return j(this)?H(this):this},r.add=function(O){for(var b=Math.max(this.g.length,O.g.length),R=[],M=0,V=0;V<=b;V++){var U=M+(this.i(V)&65535)+(O.i(V)&65535),I=(U>>>16)+(this.i(V)>>>16)+(O.i(V)>>>16);M=I>>>16,U&=65535,I&=65535,R[V]=I<<16|U}return new f(R,R[R.length-1]&-2147483648?-1:0)};function se(O,b){return O.add(H(b))}r.j=function(O){if(X(this)||X(O))return A;if(j(this))return j(O)?H(this).j(H(O)):H(H(this).j(O));if(j(O))return H(this.j(H(O)));if(0>this.l(B)&&0>O.l(B))return y(this.m()*O.m());for(var b=this.g.length+O.g.length,R=[],M=0;M<2*b;M++)R[M]=0;for(M=0;M<this.g.length;M++)for(var V=0;V<O.g.length;V++){var U=this.i(M)>>>16,I=this.i(M)&65535,Mt=O.i(V)>>>16,rt=O.i(V)&65535;R[2*M+2*V]+=I*rt,ee(R,2*M+2*V),R[2*M+2*V+1]+=U*rt,ee(R,2*M+2*V+1),R[2*M+2*V+1]+=I*Mt,ee(R,2*M+2*V+1),R[2*M+2*V+2]+=U*Mt,ee(R,2*M+2*V+2)}for(M=0;M<b;M++)R[M]=R[2*M+1]<<16|R[2*M];for(M=b;M<2*b;M++)R[M]=0;return new f(R,0)};function ee(O,b){for(;(O[b]&65535)!=O[b];)O[b+1]+=O[b]>>>16,O[b]&=65535,b++}function ae(O,b){this.g=O,this.h=b}function Se(O,b){if(X(b))throw Error("division by zero");if(X(O))return new ae(A,A);if(j(O))return b=Se(H(O),b),new ae(H(b.g),H(b.h));if(j(b))return b=Se(O,H(b)),new ae(H(b.g),b.h);if(30<O.g.length){if(j(O)||j(b))throw Error("slowDivide_ only works with positive integers.");for(var R=D,M=b;0>=M.l(O);)R=fe(R),M=fe(M);var V=Te(R,1),U=Te(M,1);for(M=Te(M,2),R=Te(R,2);!X(M);){var I=U.add(M);0>=I.l(O)&&(V=V.add(R),U=I),M=Te(M,1),R=Te(R,1)}return b=se(O,V.j(b)),new ae(V,b)}for(V=A;0<=O.l(b);){for(R=Math.max(1,Math.floor(O.m()/b.m())),M=Math.ceil(Math.log(R)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),U=y(R),I=U.j(b);j(I)||0<I.l(O);)R-=M,U=y(R),I=U.j(b);X(U)&&(U=D),V=V.add(U),O=se(O,I)}return new ae(V,O)}r.A=function(O){return Se(this,O).h},r.and=function(O){for(var b=Math.max(this.g.length,O.g.length),R=[],M=0;M<b;M++)R[M]=this.i(M)&O.i(M);return new f(R,this.h&O.h)},r.or=function(O){for(var b=Math.max(this.g.length,O.g.length),R=[],M=0;M<b;M++)R[M]=this.i(M)|O.i(M);return new f(R,this.h|O.h)},r.xor=function(O){for(var b=Math.max(this.g.length,O.g.length),R=[],M=0;M<b;M++)R[M]=this.i(M)^O.i(M);return new f(R,this.h^O.h)};function fe(O){for(var b=O.g.length+1,R=[],M=0;M<b;M++)R[M]=O.i(M)<<1|O.i(M-1)>>>31;return new f(R,O.h)}function Te(O,b){var R=b>>5;b%=32;for(var M=O.g.length-R,V=[],U=0;U<M;U++)V[U]=0<b?O.i(U+R)>>>b|O.i(U+R+1)<<32-b:O.i(U+R);return new f(V,O.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,Kv=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=E,ys=f}).apply(typeof R_<"u"?R_:typeof self<"u"?self:typeof window<"u"?window:{});var ic=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Qv,il,Yv,cc,Od,Xv,$v,Zv;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,_){return u==Array.prototype||u==Object.prototype||(u[m]=_.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof ic=="object"&&ic];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=i(this);function l(u,m){if(m)e:{var _=s;u=u.split(".");for(var S=0;S<u.length-1;S++){var k=u[S];if(!(k in _))break e;_=_[k]}u=u[u.length-1],S=_[u],m=m(S),m!=S&&m!=null&&e(_,u,{configurable:!0,writable:!0,value:m})}}function c(u,m){u instanceof String&&(u+="");var _=0,S=!1,k={next:function(){if(!S&&_<u.length){var F=_++;return{value:m(F,u[F]),done:!1}}return S=!0,{done:!0,value:void 0}}};return k[Symbol.iterator]=function(){return k},k}l("Array.prototype.values",function(u){return u||function(){return c(this,function(m,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},g=this||self;function p(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function E(u,m,_){return u.call.apply(u.bind,arguments)}function A(u,m,_){if(!u)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var k=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(k,S),u.apply(m,k)}}return function(){return u.apply(m,arguments)}}function D(u,m,_){return D=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:A,D.apply(null,arguments)}function B(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var S=_.slice();return S.push.apply(S,arguments),u.apply(this,S)}}function X(u,m){function _(){}_.prototype=m.prototype,u.aa=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Qb=function(S,k,F){for(var ne=Array(arguments.length-2),Ve=2;Ve<arguments.length;Ve++)ne[Ve-2]=arguments[Ve];return m.prototype[k].apply(S,ne)}}function j(u){const m=u.length;if(0<m){const _=Array(m);for(let S=0;S<m;S++)_[S]=u[S];return _}return[]}function H(u,m){for(let _=1;_<arguments.length;_++){const S=arguments[_];if(p(S)){const k=u.length||0,F=S.length||0;u.length=k+F;for(let ne=0;ne<F;ne++)u[k+ne]=S[ne]}else u.push(S)}}class se{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function ee(u){return/^[\s\xa0]*$/.test(u)}function ae(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function Se(u){return Se[" "](u),u}Se[" "]=function(){};var fe=ae().indexOf("Gecko")!=-1&&!(ae().toLowerCase().indexOf("webkit")!=-1&&ae().indexOf("Edge")==-1)&&!(ae().indexOf("Trident")!=-1||ae().indexOf("MSIE")!=-1)&&ae().indexOf("Edge")==-1;function Te(u,m,_){for(const S in u)m.call(_,u[S],S,u)}function O(u,m){for(const _ in u)m.call(void 0,u[_],_,u)}function b(u){const m={};for(const _ in u)m[_]=u[_];return m}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(u,m){let _,S;for(let k=1;k<arguments.length;k++){S=arguments[k];for(_ in S)u[_]=S[_];for(let F=0;F<R.length;F++)_=R[F],Object.prototype.hasOwnProperty.call(S,_)&&(u[_]=S[_])}}function V(u){var m=1;u=u.split(":");const _=[];for(;0<m&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function U(u){g.setTimeout(()=>{throw u},0)}function I(){var u=ze;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Mt{constructor(){this.h=this.g=null}add(m,_){const S=rt.get();S.set(m,_),this.h?this.h.next=S:this.g=S,this.h=S}}var rt=new se(()=>new K,u=>u.reset());class K{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ie,he=!1,ze=new Mt,C=()=>{const u=g.Promise.resolve(void 0);ie=()=>{u.then(W)}};var W=()=>{for(var u;u=I();){try{u.h.call(u.g)}catch(_){U(_)}var m=rt;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}he=!1};function re(){this.s=this.s,this.C=this.C}re.prototype.s=!1,re.prototype.ma=function(){this.s||(this.s=!0,this.N())},re.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function te(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}te.prototype.h=function(){this.defaultPrevented=!0};var me=(function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};g.addEventListener("test",_,m),g.removeEventListener("test",_,m)}catch{}return u})();function Ie(u,m){if(te.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var _=this.type=u.type,S=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(fe){e:{try{Se(m.nodeName);var k=!0;break e}catch{}k=!1}k||(m=null)}}else _=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement);this.relatedTarget=m,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:_e[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Ie.aa.h.call(this)}}X(Ie,te);var _e={2:"touch",3:"pen",4:"mouse"};Ie.prototype.h=function(){Ie.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var bt="closure_listenable_"+(1e6*Math.random()|0),Ze=0;function kn(u,m,_,S,k){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!S,this.ha=k,this.key=++Ze,this.da=this.fa=!1}function Bi(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function si(u){this.src=u,this.g={},this.h=0}si.prototype.add=function(u,m,_,S,k){var F=u.toString();u=this.g[F],u||(u=this.g[F]=[],this.h++);var ne=Vr(u,m,S,k);return-1<ne?(m=u[ne],_||(m.fa=!1)):(m=new kn(m,this.src,F,!!S,k),m.fa=_,u.push(m)),m};function Mr(u,m){var _=m.type;if(_ in u.g){var S=u.g[_],k=Array.prototype.indexOf.call(S,m,void 0),F;(F=0<=k)&&Array.prototype.splice.call(S,k,1),F&&(Bi(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function Vr(u,m,_,S){for(var k=0;k<u.length;++k){var F=u[k];if(!F.da&&F.listener==m&&F.capture==!!_&&F.ha==S)return k}return-1}var xr="closure_lm_"+(1e6*Math.random()|0),Fa={};function Vl(u,m,_,S,k){if(Array.isArray(m)){for(var F=0;F<m.length;F++)Vl(u,m[F],_,S,k);return null}return _=xl(_),u&&u[bt]?u.K(m,_,y(S)?!!S.capture:!1,k):fn(u,m,_,!1,S,k)}function fn(u,m,_,S,k,F){if(!m)throw Error("Invalid event type");var ne=y(k)?!!k.capture:!!k,Ve=Is(u);if(Ve||(u[xr]=Ve=new si(u)),_=Ve.add(m,_,S,ne,F),_.proxy)return _;if(S=th(),_.proxy=S,S.src=u,S.listener=_,u.addEventListener)me||(k=ne),k===void 0&&(k=!1),u.addEventListener(m.toString(),S,k);else if(u.attachEvent)u.attachEvent(Ur(m.toString()),S);else if(u.addListener&&u.removeListener)u.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return _}function th(){function u(_){return m.call(u.src,u.listener,_)}const m=nh;return u}function Ka(u,m,_,S,k){if(Array.isArray(m))for(var F=0;F<m.length;F++)Ka(u,m[F],_,S,k);else S=y(S)?!!S.capture:!!S,_=xl(_),u&&u[bt]?(u=u.i,m=String(m).toString(),m in u.g&&(F=u.g[m],_=Vr(F,_,S,k),-1<_&&(Bi(F[_]),Array.prototype.splice.call(F,_,1),F.length==0&&(delete u.g[m],u.h--)))):u&&(u=Is(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Vr(m,_,S,k)),(_=-1<u?m[u]:null)&&Rs(_))}function Rs(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[bt])Mr(m.i,u);else{var _=u.type,S=u.proxy;m.removeEventListener?m.removeEventListener(_,S,u.capture):m.detachEvent?m.detachEvent(Ur(_),S):m.addListener&&m.removeListener&&m.removeListener(S),(_=Is(m))?(Mr(_,u),_.h==0&&(_.src=null,m[xr]=null)):Bi(u)}}}function Ur(u){return u in Fa?Fa[u]:Fa[u]="on"+u}function nh(u,m){if(u.da)u=!0;else{m=new Ie(m,this);var _=u.listener,S=u.ha||u.src;u.fa&&Rs(u),u=_.call(S,m)}return u}function Is(u){return u=u[xr],u instanceof si?u:null}var Qa="__closure_events_fn_"+(1e9*Math.random()>>>0);function xl(u){return typeof u=="function"?u:(u[Qa]||(u[Qa]=function(m){return u.handleEvent(m)}),u[Qa])}function st(){re.call(this),this.i=new si(this),this.M=this,this.F=null}X(st,re),st.prototype[bt]=!0,st.prototype.removeEventListener=function(u,m,_,S){Ka(this,u,m,_,S)};function qe(u,m){var _,S=u.F;if(S)for(_=[];S;S=S.F)_.push(S);if(u=u.M,S=m.type||m,typeof m=="string")m=new te(m,u);else if(m instanceof te)m.target=m.target||u;else{var k=m;m=new te(S,u),M(m,k)}if(k=!0,_)for(var F=_.length-1;0<=F;F--){var ne=m.g=_[F];k=nn(ne,S,!0,m)&&k}if(ne=m.g=u,k=nn(ne,S,!0,m)&&k,k=nn(ne,S,!1,m)&&k,_)for(F=0;F<_.length;F++)ne=m.g=_[F],k=nn(ne,S,!1,m)&&k}st.prototype.N=function(){if(st.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var _=u.g[m],S=0;S<_.length;S++)Bi(_[S]);delete u.g[m],u.h--}}this.F=null},st.prototype.K=function(u,m,_,S){return this.i.add(String(u),m,!1,_,S)},st.prototype.L=function(u,m,_,S){return this.i.add(String(u),m,!0,_,S)};function nn(u,m,_,S){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var k=!0,F=0;F<m.length;++F){var ne=m[F];if(ne&&!ne.da&&ne.capture==_){var Ve=ne.listener,Et=ne.ha||ne.src;ne.fa&&Mr(u.i,ne),k=Ve.call(Et,S)!==!1&&k}}return k&&!S.defaultPrevented}function qt(u,m,_){if(typeof u=="function")_&&(u=D(u,_));else if(u&&typeof u.handleEvent=="function")u=D(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(u,m||0)}function Ul(u){u.g=qt(()=>{u.g=null,u.i&&(u.i=!1,Ul(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class ih extends re{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Ul(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function kr(u){re.call(this),this.h=u,this.g={}}X(kr,re);var Pr=[];function Lr(u){Te(u.g,function(m,_){this.g.hasOwnProperty(_)&&Rs(m)},u),u.g={}}kr.prototype.N=function(){kr.aa.N.call(this),Lr(this)},kr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Cn=g.JSON.stringify,Cs=g.JSON.parse,zr=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function Ya(){}Ya.prototype.h=null;function Xa(u){return u.h||(u.h=u.i())}function $a(){}var ai={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function oi(){te.call(this,"d")}X(oi,te);function Za(){te.call(this,"c")}X(Za,te);var Pn={},Wa=null;function qi(){return Wa=Wa||new st}Pn.La="serverreachability";function Ds(u){te.call(this,Pn.La,u)}X(Ds,te);function Hi(u){const m=qi();qe(m,new Ds(m))}Pn.STAT_EVENT="statevent";function kl(u,m){te.call(this,Pn.STAT_EVENT,u),this.stat=m}X(kl,te);function et(u){const m=qi();qe(m,new kl(m,u))}Pn.Ma="timingevent";function vt(u,m){te.call(this,Pn.Ma,u),this.size=m}X(vt,te);function dt(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},m)}function dn(){this.g=!0}dn.prototype.xa=function(){this.g=!1};function Ja(u,m,_,S,k,F){u.info(function(){if(u.g)if(F)for(var ne="",Ve=F.split("&"),Et=0;Et<Ve.length;Et++){var xe=Ve[Et].split("=");if(1<xe.length){var Rt=xe[0];xe=xe[1];var Tt=Rt.split("_");ne=2<=Tt.length&&Tt[1]=="type"?ne+(Rt+"="+xe+"&"):ne+(Rt+"=redacted&")}}else ne=null;else ne=F;return"XMLHTTP REQ ("+S+") [attempt "+k+"]: "+m+`
`+_+`
`+ne})}function rh(u,m,_,S,k,F,ne){u.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+k+"]: "+m+`
`+_+`
`+F+" "+ne})}function Gi(u,m,_,S){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+jr(u,_)+(S?" "+S:"")})}function Pl(u,m){u.info(function(){return"TIMEOUT: "+m})}dn.prototype.info=function(){};function jr(u,m){if(!u.g)return m;if(!m)return null;try{var _=JSON.parse(m);if(_){for(u=0;u<_.length;u++)if(Array.isArray(_[u])){var S=_[u];if(!(2>S.length)){var k=S[1];if(Array.isArray(k)&&!(1>k.length)){var F=k[0];if(F!="noop"&&F!="stop"&&F!="close")for(var ne=1;ne<k.length;ne++)k[ne]=""}}}}return Cn(_)}catch{return m}}var Fi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},li={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ln;function zn(){}X(zn,Ya),zn.prototype.g=function(){return new XMLHttpRequest},zn.prototype.i=function(){return{}},Ln=new zn;function Xt(u,m,_,S){this.j=u,this.i=m,this.l=_,this.R=S||1,this.U=new kr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ut}function ut(){this.i=null,this.g="",this.h=!1}var eo={},Ns={};function Dn(u,m,_){u.L=1,u.v=Fr(rn(m)),u.m=_,u.P=!0,ui(u,null)}function ui(u,m){u.F=Date.now(),Br(u),u.A=rn(u.v);var _=u.A,S=u.R;Array.isArray(S)||(S=[String(S)]),ao(_.i,"t",S),u.C=0,_=u.j.J,u.h=new ut,u.g=Jl(u.j,_?m:null,!u.m),0<u.O&&(u.M=new ih(D(u.Y,u,u.g),u.O)),m=u.U,_=u.g,S=u.ca;var k="readystatechange";Array.isArray(k)||(k&&(Pr[0]=k.toString()),k=Pr);for(var F=0;F<k.length;F++){var ne=Vl(_,k[F],S||m.handleEvent,!1,m.h||m);if(!ne)break;m.g[ne.key]=ne}m=u.H?b(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),Hi(),Ja(u.i,u.u,u.A,u.l,u.R,u.m)}Xt.prototype.ca=function(u){u=u.target;const m=this.M;m&&yn(u)==3?m.j():this.Y(u)},Xt.prototype.Y=function(u){try{if(u==this.g)e:{const Tt=yn(this.g);var m=this.g.Ba();const yi=this.g.Z();if(!(3>Tt)&&(Tt!=3||this.g&&(this.h.h||this.g.oa()||Fl(this.g)))){this.J||Tt!=4||m==7||(m==8||0>=yi?Hi(3):Hi(2)),Ki(this);var _=this.g.Z();this.X=_;t:if(Ll(this)){var S=Fl(this.g);u="";var k=S.length,F=yn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Vt(this),jn(this);var ne="";break t}this.h.i=new g.TextDecoder}for(m=0;m<k;m++)this.h.h=!0,u+=this.h.i.decode(S[m],{stream:!(F&&m==k-1)});S.length=0,this.h.g+=u,this.C=0,ne=this.h.g}else ne=this.g.oa();if(this.o=_==200,rh(this.i,this.u,this.A,this.l,this.R,Tt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Ve,Et=this.g;if((Ve=Et.g?Et.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ee(Ve)){var xe=Ve;break t}}xe=null}if(_=xe)Gi(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,qr(this,_);else{this.o=!1,this.s=3,et(12),Vt(this),jn(this);break e}}if(this.P){_=!0;let xt;for(;!this.J&&this.C<ne.length;)if(xt=zl(this,ne),xt==Ns){Tt==4&&(this.s=4,et(14),_=!1),Gi(this.i,this.l,null,"[Incomplete Response]");break}else if(xt==eo){this.s=4,et(15),Gi(this.i,this.l,ne,"[Invalid Chunk]"),_=!1;break}else Gi(this.i,this.l,xt,null),qr(this,xt);if(Ll(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Tt!=4||ne.length!=0||this.h.h||(this.s=1,et(16),_=!1),this.o=this.o&&_,!_)Gi(this.i,this.l,ne,"[Invalid Chunked Response]"),Vt(this),jn(this);else if(0<ne.length&&!this.W){this.W=!0;var Rt=this.j;Rt.g==this&&Rt.ba&&!Rt.M&&(Rt.j.info("Great, no buffering proxy detected. Bytes received: "+ne.length),Jr(Rt),Rt.M=!0,et(11))}}else Gi(this.i,this.l,ne,null),qr(this,ne);Tt==4&&Vt(this),this.o&&!this.J&&(Tt==4?$l(this.j,this):(this.o=!1,Br(this)))}else uh(this.g),_==400&&0<ne.indexOf("Unknown SID")?(this.s=3,et(12)):(this.s=0,et(13)),Vt(this),jn(this)}}}catch{}finally{}};function Ll(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function zl(u,m){var _=u.C,S=m.indexOf(`
`,_);return S==-1?Ns:(_=Number(m.substring(_,S)),isNaN(_)?eo:(S+=1,S+_>m.length?Ns:(m=m.slice(S,S+_),u.C=S+_,m)))}Xt.prototype.cancel=function(){this.J=!0,Vt(this)};function Br(u){u.S=Date.now()+u.I,jl(u,u.I)}function jl(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=dt(D(u.ba,u),m)}function Ki(u){u.B&&(g.clearTimeout(u.B),u.B=null)}Xt.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Pl(this.i,this.A),this.L!=2&&(Hi(),et(17)),Vt(this),this.s=2,jn(this)):jl(this,this.S-u)};function jn(u){u.j.G==0||u.J||$l(u.j,u)}function Vt(u){Ki(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Lr(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function qr(u,m){try{var _=u.j;if(_.G!=0&&(_.g==u||to(_.h,u))){if(!u.K&&to(_.h,u)&&_.G==3){try{var S=_.Da.g.parse(m)}catch{S=null}if(Array.isArray(S)&&S.length==3){var k=S;if(k[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<u.F)qs(_),js(_);else break e;ho(_),et(18)}}else _.za=k[1],0<_.za-_.T&&37500>k[2]&&_.F&&_.v==0&&!_.C&&(_.C=dt(D(_.Za,_),6e3));if(1>=Ms(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else pi(_,11)}else if((u.K||_.g==u)&&qs(_),!ee(m))for(k=_.Da.g.parse(m),m=0;m<k.length;m++){let xe=k[m];if(_.T=xe[0],xe=xe[1],_.G==2)if(xe[0]=="c"){_.K=xe[1],_.ia=xe[2];const Rt=xe[3];Rt!=null&&(_.la=Rt,_.j.info("VER="+_.la));const Tt=xe[4];Tt!=null&&(_.Aa=Tt,_.j.info("SVER="+_.Aa));const yi=xe[5];yi!=null&&typeof yi=="number"&&0<yi&&(S=1.5*yi,_.L=S,_.j.info("backChannelRequestTimeoutMs_="+S)),S=_;const xt=u.g;if(xt){const Qn=xt.g?xt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Qn){var F=S.h;F.g||Qn.indexOf("spdy")==-1&&Qn.indexOf("quic")==-1&&Qn.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(Vs(F,F.h),F.h=null))}if(S.D){const mo=xt.g?xt.g.getResponseHeader("X-HTTP-Session-Id"):null;mo&&(S.ya=mo,Ke(S.I,S.D,mo))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-u.F,_.j.info("Handshake RTT: "+_.R+"ms")),S=_;var ne=u;if(S.qa=Wl(S,S.J?S.ia:null,S.W),ne.K){$t(S.h,ne);var Ve=ne,Et=S.L;Et&&(Ve.I=Et),Ve.B&&(Ki(Ve),Br(Ve)),S.g=ne}else Yl(S);0<_.i.length&&Bs(_)}else xe[0]!="stop"&&xe[0]!="close"||pi(_,7);else _.G==3&&(xe[0]=="stop"||xe[0]=="close"?xe[0]=="stop"?pi(_,7):uo(_):xe[0]!="noop"&&_.l&&_.l.ta(xe),_.v=0)}}Hi(4)}catch{}}var Bl=class{constructor(u,m){this.g=u,this.map=m}};function ci(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Os(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ms(u){return u.h?1:u.g?u.g.size:0}function to(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Vs(u,m){u.g?u.g.add(m):u.h=m}function $t(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}ci.prototype.cancel=function(){if(this.i=no(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function no(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const _ of u.g.values())m=m.concat(_.D);return m}return j(u.i)}function sh(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var m=[],_=u.length,S=0;S<_;S++)m.push(u[S]);return m}m=[],_=0;for(S in u)m[_++]=u[S];return m}function xs(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var m=[];u=u.length;for(var _=0;_<u;_++)m.push(_);return m}m=[],_=0;for(const S in u)m[_++]=S;return m}}}function io(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var _=xs(u),S=sh(u),k=S.length,F=0;F<k;F++)m.call(void 0,S[F],_&&_[F],u)}var Hr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ah(u,m){if(u){u=u.split("&");for(var _=0;_<u.length;_++){var S=u[_].indexOf("="),k=null;if(0<=S){var F=u[_].substring(0,S);k=u[_].substring(S+1)}else F=u[_];m(F,k?decodeURIComponent(k.replace(/\+/g," ")):"")}}}function mt(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof mt){this.h=u.h,Gr(this,u.j),this.o=u.o,this.g=u.g,Qi(this,u.s),this.l=u.l;var m=u.i,_=new fi;_.i=m.i,m.g&&(_.g=new Map(m.g),_.h=m.h),hi(this,_),this.m=u.m}else u&&(m=String(u).match(Hr))?(this.h=!1,Gr(this,m[1]||"",!0),this.o=mn(m[2]||""),this.g=mn(m[3]||"",!0),Qi(this,m[4]),this.l=mn(m[5]||"",!0),hi(this,m[6]||"",!0),this.m=mn(m[7]||"")):(this.h=!1,this.i=new fi(null,this.h))}mt.prototype.toString=function(){var u=[],m=this.j;m&&u.push(Kr(m,ro,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Kr(m,ro,!0),"@"),u.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&u.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(Kr(_,_.charAt(0)=="/"?oh:so,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",Kr(_,Us)),u.join("")};function rn(u){return new mt(u)}function Gr(u,m,_){u.j=_?mn(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Qi(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function hi(u,m,_){m instanceof fi?(u.i=m,Hl(u.i,u.h)):(_||(m=Kr(m,lh)),u.i=new fi(m,u.h))}function Ke(u,m,_){u.i.set(m,_)}function Fr(u){return Ke(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function mn(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Kr(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,ql),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function ql(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ro=/[#\/\?@]/g,so=/[#\?:]/g,oh=/[#\?]/g,lh=/[#\?@]/g,Us=/#/g;function fi(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function gn(u){u.g||(u.g=new Map,u.h=0,u.i&&ah(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}r=fi.prototype,r.add=function(u,m){gn(this),this.i=null,u=Bn(this,u);var _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function di(u,m){gn(u),m=Bn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function mi(u,m){return gn(u),m=Bn(u,m),u.g.has(m)}r.forEach=function(u,m){gn(this),this.g.forEach(function(_,S){_.forEach(function(k){u.call(m,k,S,this)},this)},this)},r.na=function(){gn(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),_=[];for(let S=0;S<m.length;S++){const k=u[S];for(let F=0;F<k.length;F++)_.push(m[S])}return _},r.V=function(u){gn(this);let m=[];if(typeof u=="string")mi(this,u)&&(m=m.concat(this.g.get(Bn(this,u))));else{u=Array.from(this.g.values());for(let _=0;_<u.length;_++)m=m.concat(u[_])}return m},r.set=function(u,m){return gn(this),this.i=null,u=Bn(this,u),mi(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function ao(u,m,_){di(u,m),0<_.length&&(u.i=null,u.g.set(Bn(u,m),j(_)),u.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var _=0;_<m.length;_++){var S=m[_];const F=encodeURIComponent(String(S)),ne=this.V(S);for(S=0;S<ne.length;S++){var k=F;ne[S]!==""&&(k+="="+encodeURIComponent(String(ne[S]))),u.push(k)}}return this.i=u.join("&")};function Bn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Hl(u,m){m&&!u.j&&(gn(u),u.i=null,u.g.forEach(function(_,S){var k=S.toLowerCase();S!=k&&(di(this,S),ao(this,k,_))},u)),u.j=m}function Qr(u,m){const _=new dn;if(g.Image){const S=new Image;S.onload=B(pn,_,"TestLoadImage: loaded",!0,m,S),S.onerror=B(pn,_,"TestLoadImage: error",!1,m,S),S.onabort=B(pn,_,"TestLoadImage: abort",!1,m,S),S.ontimeout=B(pn,_,"TestLoadImage: timeout",!1,m,S),g.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=u}else m(!1)}function Nn(u,m){const _=new dn,S=new AbortController,k=setTimeout(()=>{S.abort(),pn(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:S.signal}).then(F=>{clearTimeout(k),F.ok?pn(_,"TestPingServer: ok",!0,m):pn(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(k),pn(_,"TestPingServer: error",!1,m)})}function pn(u,m,_,S,k){try{k&&(k.onload=null,k.onerror=null,k.onabort=null,k.ontimeout=null),S(_)}catch{}}function Yr(){this.g=new zr}function qn(u,m,_){const S=_||"";try{io(u,function(k,F){let ne=k;y(k)&&(ne=Cn(k)),m.push(S+F+"="+encodeURIComponent(ne))})}catch(k){throw m.push(S+"type="+encodeURIComponent("_badmap")),k}}function Yi(u){this.l=u.Ub||null,this.j=u.eb||!1}X(Yi,Ya),Yi.prototype.g=function(){return new gi(this.l,this.j)},Yi.prototype.i=(function(u){return function(){return u}})({});function gi(u,m){st.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}X(gi,st),r=gi.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Gn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Hn(this)),this.readyState=0},r.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Gn(this)),this.g&&(this.readyState=3,Gn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;oo(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function oo(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}r.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Hn(this):Gn(this),this.readyState==3&&oo(this)}},r.Ra=function(u){this.g&&(this.response=this.responseText=u,Hn(this))},r.Qa=function(u){this.g&&(this.response=u,Hn(this))},r.ga=function(){this.g&&Hn(this)};function Hn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Gn(u)}r.setRequestHeader=function(u,m){this.u.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function Gn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(gi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function lo(u){let m="";return Te(u,function(_,S){m+=S,m+=":",m+=_,m+=`\r
`}),m}function wt(u,m,_){e:{for(S in _){var S=!1;break e}S=!0}S||(_=lo(_),typeof u=="string"?_!=null&&encodeURIComponent(String(_)):Ke(u,m,_))}function Be(u){st.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}X(Be,st);var ks=/^https?$/i,Xr=["POST","PUT"];r=Be.prototype,r.Ha=function(u){this.J=u},r.ea=function(u,m,_,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ln.g(),this.v=this.o?Xa(this.o):Xa(Ln),this.g.onreadystatechange=D(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(F){Gl(this,F);return}if(u=_||"",_=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var k in S)_.set(k,S[k]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const F of S.keys())_.set(F,S.get(F));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(_.keys()).find(F=>F.toLowerCase()=="content-type"),k=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call(Xr,m,void 0))||S||k||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,ne]of _)this.g.setRequestHeader(F,ne);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{$r(this),this.u=!0,this.g.send(u),this.u=!1}catch(F){Gl(this,F)}};function Gl(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,Ps(u),Fn(u)}function Ps(u){u.A||(u.A=!0,qe(u,"complete"),qe(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,qe(this,"complete"),qe(this,"abort"),Fn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Fn(this,!0)),Be.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Ls(this):this.bb())},r.bb=function(){Ls(this)};function Ls(u){if(u.h&&typeof f<"u"&&(!u.v[1]||yn(u)!=4||u.Z()!=2)){if(u.u&&yn(u)==4)qt(u.Ea,0,u);else if(qe(u,"readystatechange"),yn(u)==4){u.h=!1;try{const ne=u.Z();e:switch(ne){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var _;if(!(_=m)){var S;if(S=ne===0){var k=String(u.D).match(Hr)[1]||null;!k&&g.self&&g.self.location&&(k=g.self.location.protocol.slice(0,-1)),S=!ks.test(k?k.toLowerCase():"")}_=S}if(_)qe(u,"complete"),qe(u,"success");else{u.m=6;try{var F=2<yn(u)?u.g.statusText:""}catch{F=""}u.l=F+" ["+u.Z()+"]",Ps(u)}}finally{Fn(u)}}}}function Fn(u,m){if(u.g){$r(u);const _=u.g,S=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||qe(u,"ready");try{_.onreadystatechange=S}catch{}}}function $r(u){u.I&&(g.clearTimeout(u.I),u.I=null)}r.isActive=function(){return!!this.g};function yn(u){return u.g?u.g.readyState:0}r.Z=function(){try{return 2<yn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Cs(m)}};function Fl(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function uh(u){const m={};u=(u.g&&2<=yn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<u.length;S++){if(ee(u[S]))continue;var _=V(u[S]);const k=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const F=m[k]||[];m[k]=F,F.push(_)}O(m,function(S){return S.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Zr(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function zs(u){this.Aa=0,this.i=[],this.j=new dn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Zr("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Zr("baseRetryDelayMs",5e3,u),this.cb=Zr("retryDelaySeedMs",1e4,u),this.Wa=Zr("forwardChannelMaxRetries",2,u),this.wa=Zr("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new ci(u&&u.concurrentRequestLimit),this.Da=new Yr,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=zs.prototype,r.la=8,r.G=1,r.connect=function(u,m,_,S){et(0),this.W=u,this.H=m||{},_&&S!==void 0&&(this.H.OSID=_,this.H.OAID=S),this.F=this.X,this.I=Wl(this,null,this.W),Bs(this)};function uo(u){if(Kl(u),u.G==3){var m=u.U++,_=rn(u.I);if(Ke(_,"SID",u.K),Ke(_,"RID",m),Ke(_,"TYPE","terminate"),Wr(u,_),m=new Xt(u,u.j,m),m.L=2,m.v=Fr(rn(_)),_=!1,g.navigator&&g.navigator.sendBeacon)try{_=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!_&&g.Image&&(new Image().src=m.v,_=!0),_||(m.g=Jl(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Br(m)}Zl(u)}function js(u){u.g&&(Jr(u),u.g.cancel(),u.g=null)}function Kl(u){js(u),u.u&&(g.clearTimeout(u.u),u.u=null),qs(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function Bs(u){if(!Os(u.h)&&!u.s){u.s=!0;var m=u.Ga;ie||C(),he||(ie(),he=!0),ze.add(m,u),u.B=0}}function ch(u,m){return Ms(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=dt(D(u.Ga,u,m),fo(u,u.B)),u.B++,!0)}r.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const k=new Xt(this,this.j,u);let F=this.o;if(this.S&&(F?(F=b(F),M(F,this.S)):F=this.S),this.m!==null||this.O||(k.H=F,F=null),this.P)e:{for(var m=0,_=0;_<this.i.length;_++){t:{var S=this.i[_];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(m+=S,4096<m){m=_;break e}if(m===4096||_===this.i.length-1){m=_+1;break e}}m=1e3}else m=1e3;m=Ql(this,k,m),_=rn(this.I),Ke(_,"RID",u),Ke(_,"CVER",22),this.D&&Ke(_,"X-HTTP-Session-Id",this.D),Wr(this,_),F&&(this.O?m="headers="+encodeURIComponent(String(lo(F)))+"&"+m:this.m&&wt(_,this.m,F)),Vs(this.h,k),this.Ua&&Ke(_,"TYPE","init"),this.P?(Ke(_,"$req",m),Ke(_,"SID","null"),k.T=!0,Dn(k,_,null)):Dn(k,_,m),this.G=2}}else this.G==3&&(u?co(this,u):this.i.length==0||Os(this.h)||co(this))};function co(u,m){var _;m?_=m.l:_=u.U++;const S=rn(u.I);Ke(S,"SID",u.K),Ke(S,"RID",_),Ke(S,"AID",u.T),Wr(u,S),u.m&&u.o&&wt(S,u.m,u.o),_=new Xt(u,u.j,_,u.B+1),u.m===null&&(_.H=u.o),m&&(u.i=m.D.concat(u.i)),m=Ql(u,_,1e3),_.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Vs(u.h,_),Dn(_,S,m)}function Wr(u,m){u.H&&Te(u.H,function(_,S){Ke(m,S,_)}),u.l&&io({},function(_,S){Ke(m,S,_)})}function Ql(u,m,_){_=Math.min(u.i.length,_);var S=u.l?D(u.l.Na,u.l,u):null;e:{var k=u.i;let F=-1;for(;;){const ne=["count="+_];F==-1?0<_?(F=k[0].g,ne.push("ofs="+F)):F=0:ne.push("ofs="+F);let Ve=!0;for(let Et=0;Et<_;Et++){let xe=k[Et].g;const Rt=k[Et].map;if(xe-=F,0>xe)F=Math.max(0,k[Et].g-100),Ve=!1;else try{qn(Rt,ne,"req"+xe+"_")}catch{S&&S(Rt)}}if(Ve){S=ne.join("&");break e}}}return u=u.i.splice(0,_),m.D=u,S}function Yl(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;ie||C(),he||(ie(),he=!0),ze.add(m,u),u.v=0}}function ho(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=dt(D(u.Fa,u),fo(u,u.v)),u.v++,!0)}r.Fa=function(){if(this.u=null,Xl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=dt(D(this.ab,this),u)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,et(10),js(this),Xl(this))};function Jr(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function Xl(u){u.g=new Xt(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=rn(u.qa);Ke(m,"RID","rpc"),Ke(m,"SID",u.K),Ke(m,"AID",u.T),Ke(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Ke(m,"TO",u.ja),Ke(m,"TYPE","xmlhttp"),Wr(u,m),u.m&&u.o&&wt(m,u.m,u.o),u.L&&(u.g.I=u.L);var _=u.g;u=u.ia,_.L=1,_.v=Fr(rn(m)),_.m=null,_.P=!0,ui(_,u)}r.Za=function(){this.C!=null&&(this.C=null,js(this),ho(this),et(19))};function qs(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function $l(u,m){var _=null;if(u.g==m){qs(u),Jr(u),u.g=null;var S=2}else if(to(u.h,m))_=m.D,$t(u.h,m),S=1;else return;if(u.G!=0){if(m.o)if(S==1){_=m.m?m.m.length:0,m=Date.now()-m.F;var k=u.B;S=qi(),qe(S,new vt(S,_)),Bs(u)}else Yl(u);else if(k=m.s,k==3||k==0&&0<m.X||!(S==1&&ch(u,m)||S==2&&ho(u)))switch(_&&0<_.length&&(m=u.h,m.i=m.i.concat(_)),k){case 1:pi(u,5);break;case 4:pi(u,10);break;case 3:pi(u,6);break;default:pi(u,2)}}}function fo(u,m){let _=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(_*=2),_*m}function pi(u,m){if(u.j.info("Error code "+m),m==2){var _=D(u.fb,u),S=u.Xa;const k=!S;S=new mt(S||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||Gr(S,"https"),Fr(S),k?Qr(S.toString(),_):Nn(S.toString(),_)}else et(2);u.G=0,u.l&&u.l.sa(m),Zl(u),Kl(u)}r.fb=function(u){u?(this.j.info("Successfully pinged google.com"),et(2)):(this.j.info("Failed to ping google.com"),et(1))};function Zl(u){if(u.G=0,u.ka=[],u.l){const m=no(u.h);(m.length!=0||u.i.length!=0)&&(H(u.ka,m),H(u.ka,u.i),u.h.i.length=0,j(u.i),u.i.length=0),u.l.ra()}}function Wl(u,m,_){var S=_ instanceof mt?rn(_):new mt(_);if(S.g!="")m&&(S.g=m+"."+S.g),Qi(S,S.s);else{var k=g.location;S=k.protocol,m=m?m+"."+k.hostname:k.hostname,k=+k.port;var F=new mt(null);S&&Gr(F,S),m&&(F.g=m),k&&Qi(F,k),_&&(F.l=_),S=F}return _=u.D,m=u.ya,_&&m&&Ke(S,_,m),Ke(S,"VER",u.la),Wr(u,S),S}function Jl(u,m,_){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new Be(new Yi({eb:_})):new Be(u.pa),m.Ha(u.J),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function eu(){}r=eu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Hs(){}Hs.prototype.g=function(u,m){return new Zt(u,m)};function Zt(u,m){st.call(this),this.g=new zs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!ee(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!ee(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Kn(this)}X(Zt,st),Zt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Zt.prototype.close=function(){uo(this.g)},Zt.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.u&&(_={},_.__data__=Cn(u),u=_);m.i.push(new Bl(m.Ya++,u)),m.G==3&&Bs(m)},Zt.prototype.N=function(){this.g.l=null,delete this.j,uo(this.g),delete this.g,Zt.aa.N.call(this)};function tu(u){oi.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const _ in m){u=_;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}X(tu,oi);function nu(){Za.call(this),this.status=1}X(nu,Za);function Kn(u){this.g=u}X(Kn,eu),Kn.prototype.ua=function(){qe(this.g,"a")},Kn.prototype.ta=function(u){qe(this.g,new tu(u))},Kn.prototype.sa=function(u){qe(this.g,new nu)},Kn.prototype.ra=function(){qe(this.g,"b")},Hs.prototype.createWebChannel=Hs.prototype.g,Zt.prototype.send=Zt.prototype.o,Zt.prototype.open=Zt.prototype.m,Zt.prototype.close=Zt.prototype.close,Zv=function(){return new Hs},$v=function(){return qi()},Xv=Pn,Od={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Fi.NO_ERROR=0,Fi.TIMEOUT=8,Fi.HTTP_ERROR=6,cc=Fi,li.COMPLETE="complete",Yv=li,$a.EventType=ai,ai.OPEN="a",ai.CLOSE="b",ai.ERROR="c",ai.MESSAGE="d",st.prototype.listen=st.prototype.K,il=$a,Be.prototype.listenOnce=Be.prototype.L,Be.prototype.getLastError=Be.prototype.Ka,Be.prototype.getLastErrorCode=Be.prototype.Ba,Be.prototype.getStatus=Be.prototype.Z,Be.prototype.getResponseJson=Be.prototype.Oa,Be.prototype.getResponseText=Be.prototype.oa,Be.prototype.send=Be.prototype.ea,Be.prototype.setWithCredentials=Be.prototype.Ha,Qv=Be}).apply(typeof ic<"u"?ic:typeof self<"u"?self:typeof window<"u"?window:{});const I_="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Kt.UNAUTHENTICATED=new Kt(null),Kt.GOOGLE_CREDENTIALS=new Kt("google-credentials-uid"),Kt.FIRST_PARTY=new Kt("first-party-uid"),Kt.MOCK_USER=new Kt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pa="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Es=new Yd("@firebase/firestore");function nl(){return Es.logLevel}function ue(r,...e){if(Es.logLevel<=Me.DEBUG){const i=e.map(Zd);Es.debug(`Firestore (${Pa}): ${r}`,...i)}}function ki(r,...e){if(Es.logLevel<=Me.ERROR){const i=e.map(Zd);Es.error(`Firestore (${Pa}): ${r}`,...i)}}function Ia(r,...e){if(Es.logLevel<=Me.WARN){const i=e.map(Zd);Es.warn(`Firestore (${Pa}): ${r}`,...i)}}function Zd(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(i){return JSON.stringify(i)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(r="Unexpected state"){const e=`FIRESTORE (${Pa}) INTERNAL ASSERTION FAILED: `+r;throw ki(e),new Error(e)}function Fe(r,e){r||Ee()}function be(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class oe extends ji{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wv{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Rb{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(Kt.UNAUTHENTICATED)))}shutdown(){}}class Ib{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class Cb{constructor(e){this.t=e,this.currentUser=Kt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Fe(this.o===void 0);let s=this.i;const l=p=>this.i!==s?(s=this.i,i(p)):Promise.resolve();let c=new Rr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Rr,e.enqueueRetryable((()=>l(this.currentUser)))};const f=()=>{const p=c;e.enqueueRetryable((async()=>{await p.promise,await l(this.currentUser)}))},g=p=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((p=>g(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?g(p):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Rr)}}),0),f()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((s=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Fe(typeof s.accessToken=="string"),new Wv(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Fe(e===null||typeof e=="string"),new Kt(e)}}class Db{constructor(e,i,s){this.l=e,this.h=i,this.P=s,this.type="FirstParty",this.user=Kt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Nb{constructor(e,i,s){this.l=e,this.h=i,this.P=s}getToken(){return Promise.resolve(new Db(this.l,this.h,this.P))}start(e,i){e.enqueueRetryable((()=>i(Kt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Ob{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Mb{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,i){Fe(this.o===void 0);const s=c=>{c.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const f=c.token!==this.R;return this.R=c.token,ue("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>s(c)))};const l=c=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.A.getImmediate({optional:!0});c?l(c):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(Fe(typeof i.token=="string"),this.R=i.token,new Ob(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vb(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<r;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const l=Vb(40);for(let c=0;c<l.length;++c)s.length<20&&l[c]<i&&(s+=e.charAt(l[c]%e.length))}return s}}function Le(r,e){return r<e?-1:r>e?1:0}function Ca(r,e,i){return r.length===e.length&&r.every(((s,l)=>i(s,e[l])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new oe(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new oe(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<-62135596800)throw new oe(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new oe(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return lt.fromMillis(Date.now())}static fromDate(e){return lt.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*i));return new lt(i,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Le(this.nanoseconds,e.nanoseconds):Le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new lt(0,0))}static max(){return new Ae(new lt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(e,i,s){i===void 0?i=0:i>e.length&&Ee(),s===void 0?s=e.length-i:s>e.length-i&&Ee(),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return dl.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof dl?e.forEach((s=>{i.push(s)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let l=0;l<s;l++){const c=e.get(l),f=i.get(l);if(c<f)return-1;if(c>f)return 1}return e.length<i.length?-1:e.length>i.length?1:0}}class Je extends dl{construct(e,i,s){return new Je(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new oe(Z.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter((l=>l.length>0)))}return new Je(i)}static emptyPath(){return new Je([])}}const xb=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class zt extends dl{construct(e,i,s){return new zt(e,i,s)}static isValidIdentifier(e){return xb.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),zt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new zt(["__name__"])}static fromServerFormat(e){const i=[];let s="",l=0;const c=()=>{if(s.length===0)throw new oe(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let f=!1;for(;l<e.length;){const g=e[l];if(g==="\\"){if(l+1===e.length)throw new oe(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[l+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new oe(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,l+=2}else g==="`"?(f=!f,l++):g!=="."||f?(s+=g,l++):(c(),l++)}if(c(),f)throw new oe(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new zt(i)}static emptyPath(){return new zt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(e){this.path=e}static fromPath(e){return new de(Je.fromString(e))}static fromName(e){return new de(Je.fromString(e).popFirst(5))}static empty(){return new de(Je.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Je.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return Je.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new de(new Je(e.slice()))}}function Ub(r,e){const i=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,l=Ae.fromTimestamp(s===1e9?new lt(i+1,0):new lt(i,s));return new Cr(l,de.empty(),e)}function kb(r){return new Cr(r.readTime,r.key,-1)}class Cr{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new Cr(Ae.min(),de.empty(),-1)}static max(){return new Cr(Ae.max(),de.empty(),-1)}}function Pb(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=de.comparator(r.documentKey,e.documentKey),i!==0?i:Le(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class zb{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bl(r){if(r.code!==Z.FAILED_PRECONDITION||r.message!==Lb)throw r;ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Ee(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new J(((s,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(s,l)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof J?i:J.resolve(i)}catch(i){return J.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):J.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):J.reject(i)}static resolve(e){return new J(((i,s)=>{i(e)}))}static reject(e){return new J(((i,s)=>{s(e)}))}static waitFor(e){return new J(((i,s)=>{let l=0,c=0,f=!1;e.forEach((g=>{++l,g.next((()=>{++c,f&&c===l&&i()}),(p=>s(p)))})),f=!0,c===l&&i()}))}static or(e){let i=J.resolve(!1);for(const s of e)i=i.next((l=>l?J.resolve(l):s()));return i}static forEach(e,i){const s=[];return e.forEach(((l,c)=>{s.push(i.call(this,l,c))})),this.waitFor(s)}static mapArray(e,i){return new J(((s,l)=>{const c=e.length,f=new Array(c);let g=0;for(let p=0;p<c;p++){const y=p;i(e[y]).next((E=>{f[y]=E,++g,g===c&&s(f)}),(E=>l(E)))}}))}static doWhile(e,i){return new J(((s,l)=>{const c=()=>{e()===!0?i().next((()=>{c()}),l):s()};c()}))}}function jb(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function wl(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this.ie(s),this.se=s=>i.writeSequenceNumber(s))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Wd.oe=-1;function Lc(r){return r==null}function Sc(r){return r===0&&1/r==-1/0}function Bb(r){return typeof r=="number"&&Number.isInteger(r)&&!Sc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C_(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function La(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function eE(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(e,i){this.comparator=e,this.root=i||Lt.EMPTY}insert(e,i){return new it(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Lt.BLACK,null,null))}remove(e){return new it(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Lt.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(e,s.key);if(l===0)return i+s.left.size;l<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,s)=>(e(i,s),!1)))}toString(){const e=[];return this.inorderTraversal(((i,s)=>(e.push(`${i}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new rc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new rc(this.root,e,this.comparator,!1)}getReverseIterator(){return new rc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new rc(this.root,e,this.comparator,!0)}}class rc{constructor(e,i,s,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?s(e.key,i):1,i&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Lt{constructor(e,i,s,l,c){this.key=e,this.value=i,this.color=s??Lt.RED,this.left=l??Lt.EMPTY,this.right=c??Lt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,l,c){return new Lt(e??this.key,i??this.value,s??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let l=this;const c=s(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,i,s),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(e,i,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Lt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,l=this;if(i(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(e,l.key)===0){if(l.right.isEmpty())return Lt.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Lt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Lt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ee();const e=this.left.check();if(e!==this.right.check())throw Ee();return e+(this.isRed()?0:1)}}Lt.EMPTY=null,Lt.RED=!0,Lt.BLACK=!1;Lt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee()}get value(){throw Ee()}get color(){throw Ee()}get left(){throw Ee()}get right(){throw Ee()}copy(e,i,s,l,c){return this}insert(e,i,s){return new Lt(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this.comparator=e,this.data=new it(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,s)=>(e(i),!1)))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,e[1])>=0)return;i(l.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new D_(this.data.getIterator())}getIteratorFrom(e){return new D_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((s=>{i=i.add(s)})),i}isEqual(e){if(!(e instanceof jt)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=s.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new jt(this.comparator);return i.data=e,i}}class D_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.fields=e,e.sort(zt.comparator)}static empty(){return new xn([])}unionWith(e){let i=new jt(zt.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new xn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Ca(this.fields,e.fields,((i,s)=>i.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new tE("Invalid base64 string: "+c):c}})(e);return new Bt(i)}static fromUint8Array(e){const i=(function(l){let c="";for(let f=0;f<l.length;++f)c+=String.fromCharCode(l[f]);return c})(e);return new Bt(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const s=new Uint8Array(i.length);for(let l=0;l<i.length;l++)s[l]=i.charCodeAt(l);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Bt.EMPTY_BYTE_STRING=new Bt("");const qb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Dr(r){if(Fe(!!r),typeof r=="string"){let e=0;const i=qb.exec(r);if(Fe(!!i),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),e=Number(l)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:ft(r.seconds),nanos:ft(r.nanos)}}function ft(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Ts(r){return typeof r=="string"?Bt.fromBase64String(r):Bt.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jd(r){var e,i;return((i=(((e=r?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||i===void 0?void 0:i.stringValue)==="server_timestamp"}function em(r){const e=r.mapValue.fields.__previous_value__;return Jd(e)?em(e):e}function ml(r){const e=Dr(r.mapValue.fields.__local_write_time__.timestampValue);return new lt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hb{constructor(e,i,s,l,c,f,g,p,y){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=l,this.ssl=c,this.forceLongPolling=f,this.autoDetectLongPolling=g,this.longPollingOptions=p,this.useFetchStreams=y}}class gl{constructor(e,i){this.projectId=e,this.database=i||"(default)"}static empty(){return new gl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof gl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sc={mapValue:{}};function Ss(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Jd(r)?4:Fb(r)?9007199254740991:Gb(r)?10:11:Ee()}function ri(r,e){if(r===e)return!0;const i=Ss(r);if(i!==Ss(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return ml(r).isEqual(ml(e));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const f=Dr(l.timestampValue),g=Dr(c.timestampValue);return f.seconds===g.seconds&&f.nanos===g.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(l,c){return Ts(l.bytesValue).isEqual(Ts(c.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(l,c){return ft(l.geoPointValue.latitude)===ft(c.geoPointValue.latitude)&&ft(l.geoPointValue.longitude)===ft(c.geoPointValue.longitude)})(r,e);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return ft(l.integerValue)===ft(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const f=ft(l.doubleValue),g=ft(c.doubleValue);return f===g?Sc(f)===Sc(g):isNaN(f)&&isNaN(g)}return!1})(r,e);case 9:return Ca(r.arrayValue.values||[],e.arrayValue.values||[],ri);case 10:case 11:return(function(l,c){const f=l.mapValue.fields||{},g=c.mapValue.fields||{};if(C_(f)!==C_(g))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(g[p]===void 0||!ri(f[p],g[p])))return!1;return!0})(r,e);default:return Ee()}}function pl(r,e){return(r.values||[]).find((i=>ri(i,e)))!==void 0}function Da(r,e){if(r===e)return 0;const i=Ss(r),s=Ss(e);if(i!==s)return Le(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Le(r.booleanValue,e.booleanValue);case 2:return(function(c,f){const g=ft(c.integerValue||c.doubleValue),p=ft(f.integerValue||f.doubleValue);return g<p?-1:g>p?1:g===p?0:isNaN(g)?isNaN(p)?0:-1:1})(r,e);case 3:return N_(r.timestampValue,e.timestampValue);case 4:return N_(ml(r),ml(e));case 5:return Le(r.stringValue,e.stringValue);case 6:return(function(c,f){const g=Ts(c),p=Ts(f);return g.compareTo(p)})(r.bytesValue,e.bytesValue);case 7:return(function(c,f){const g=c.split("/"),p=f.split("/");for(let y=0;y<g.length&&y<p.length;y++){const E=Le(g[y],p[y]);if(E!==0)return E}return Le(g.length,p.length)})(r.referenceValue,e.referenceValue);case 8:return(function(c,f){const g=Le(ft(c.latitude),ft(f.latitude));return g!==0?g:Le(ft(c.longitude),ft(f.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return O_(r.arrayValue,e.arrayValue);case 10:return(function(c,f){var g,p,y,E;const A=c.fields||{},D=f.fields||{},B=(g=A.value)===null||g===void 0?void 0:g.arrayValue,X=(p=D.value)===null||p===void 0?void 0:p.arrayValue,j=Le(((y=B?.values)===null||y===void 0?void 0:y.length)||0,((E=X?.values)===null||E===void 0?void 0:E.length)||0);return j!==0?j:O_(B,X)})(r.mapValue,e.mapValue);case 11:return(function(c,f){if(c===sc.mapValue&&f===sc.mapValue)return 0;if(c===sc.mapValue)return 1;if(f===sc.mapValue)return-1;const g=c.fields||{},p=Object.keys(g),y=f.fields||{},E=Object.keys(y);p.sort(),E.sort();for(let A=0;A<p.length&&A<E.length;++A){const D=Le(p[A],E[A]);if(D!==0)return D;const B=Da(g[p[A]],y[E[A]]);if(B!==0)return B}return Le(p.length,E.length)})(r.mapValue,e.mapValue);default:throw Ee()}}function N_(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Le(r,e);const i=Dr(r),s=Dr(e),l=Le(i.seconds,s.seconds);return l!==0?l:Le(i.nanos,s.nanos)}function O_(r,e){const i=r.values||[],s=e.values||[];for(let l=0;l<i.length&&l<s.length;++l){const c=Da(i[l],s[l]);if(c)return c}return Le(i.length,s.length)}function Na(r){return Md(r)}function Md(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const s=Dr(i);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return Ts(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return de.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let s="[",l=!0;for(const c of i.values||[])l?l=!1:s+=",",s+=Md(c);return s+"]"})(r.arrayValue):"mapValue"in r?(function(i){const s=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const f of s)c?c=!1:l+=",",l+=`${f}:${Md(i.fields[f])}`;return l+"}"})(r.mapValue):Ee()}function M_(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Vd(r){return!!r&&"integerValue"in r}function tm(r){return!!r&&"arrayValue"in r}function V_(r){return!!r&&"nullValue"in r}function x_(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function hc(r){return!!r&&"mapValue"in r}function Gb(r){var e,i;return((i=(((e=r?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||i===void 0?void 0:i.stringValue)==="__vector__"}function al(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return La(r.mapValue.fields,((i,s)=>e.mapValue.fields[i]=al(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=al(r.arrayValue.values[i]);return e}return Object.assign({},r)}function Fb(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.value=e}static empty(){return new wn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!hc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=al(i)}setAll(e){let i=zt.emptyPath(),s={},l=[];e.forEach(((f,g)=>{if(!i.isImmediateParentOf(g)){const p=this.getFieldsMap(i);this.applyChanges(p,s,l),s={},l=[],i=g.popLast()}f?s[g.lastSegment()]=al(f):l.push(g.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,s,l)}delete(e){const i=this.field(e.popLast());hc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return ri(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let l=i.mapValue.fields[e.get(s)];hc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=l),i=l}return i.mapValue.fields}applyChanges(e,i,s){La(i,((l,c)=>e[l]=c));for(const l of s)delete e[l]}clone(){return new wn(al(this.value))}}function nE(r){const e=[];return La(r.fields,((i,s)=>{const l=new zt([i]);if(hc(s)){const c=nE(s.mapValue).fields;if(c.length===0)e.push(l);else for(const f of c)e.push(l.child(f))}else e.push(l)})),new xn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e,i,s,l,c,f,g){this.key=e,this.documentType=i,this.version=s,this.readTime=l,this.createTime=c,this.data=f,this.documentState=g}static newInvalidDocument(e){return new Qt(e,0,Ae.min(),Ae.min(),Ae.min(),wn.empty(),0)}static newFoundDocument(e,i,s,l){return new Qt(e,1,i,Ae.min(),s,l,0)}static newNoDocument(e,i){return new Qt(e,2,i,Ae.min(),Ae.min(),wn.empty(),0)}static newUnknownDocument(e,i){return new Qt(e,3,i,Ae.min(),Ae.min(),wn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Qt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Qt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(e,i){this.position=e,this.inclusive=i}}function U_(r,e,i){let s=0;for(let l=0;l<r.position.length;l++){const c=e[l],f=r.position[l];if(c.field.isKeyField()?s=de.comparator(de.fromName(f.referenceValue),i.key):s=Da(f,i.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function k_(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!ri(r.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(e,i="asc"){this.field=e,this.dir=i}}function Kb(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iE{}class _t extends iE{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new Yb(e,i,s):i==="array-contains"?new Zb(e,s):i==="in"?new Wb(e,s):i==="not-in"?new Jb(e,s):i==="array-contains-any"?new ew(e,s):new _t(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new Xb(e,s):new $b(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&this.matchesComparison(Da(i,this.value)):i!==null&&Ss(this.value)===Ss(i)&&this.matchesComparison(Da(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Un extends iE{constructor(e,i){super(),this.filters=e,this.op=i,this.ae=null}static create(e,i){return new Un(e,i)}matches(e){return rE(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function rE(r){return r.op==="and"}function sE(r){return Qb(r)&&rE(r)}function Qb(r){for(const e of r.filters)if(e instanceof Un)return!1;return!0}function xd(r){if(r instanceof _t)return r.field.canonicalString()+r.op.toString()+Na(r.value);if(sE(r))return r.filters.map((e=>xd(e))).join(",");{const e=r.filters.map((i=>xd(i))).join(",");return`${r.op}(${e})`}}function aE(r,e){return r instanceof _t?(function(s,l){return l instanceof _t&&s.op===l.op&&s.field.isEqual(l.field)&&ri(s.value,l.value)})(r,e):r instanceof Un?(function(s,l){return l instanceof Un&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce(((c,f,g)=>c&&aE(f,l.filters[g])),!0):!1})(r,e):void Ee()}function oE(r){return r instanceof _t?(function(i){return`${i.field.canonicalString()} ${i.op} ${Na(i.value)}`})(r):r instanceof Un?(function(i){return i.op.toString()+" {"+i.getFilters().map(oE).join(" ,")+"}"})(r):"Filter"}class Yb extends _t{constructor(e,i,s){super(e,i,s),this.key=de.fromName(s.referenceValue)}matches(e){const i=de.comparator(e.key,this.key);return this.matchesComparison(i)}}class Xb extends _t{constructor(e,i){super(e,"in",i),this.keys=lE("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class $b extends _t{constructor(e,i){super(e,"not-in",i),this.keys=lE("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function lE(r,e){var i;return(((i=e.arrayValue)===null||i===void 0?void 0:i.values)||[]).map((s=>de.fromName(s.referenceValue)))}class Zb extends _t{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return tm(i)&&pl(i.arrayValue,this.value)}}class Wb extends _t{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&pl(this.value.arrayValue,i)}}class Jb extends _t{constructor(e,i){super(e,"not-in",i)}matches(e){if(pl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&!pl(this.value.arrayValue,i)}}class ew extends _t{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!tm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((s=>pl(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw{constructor(e,i=null,s=[],l=[],c=null,f=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=l,this.limit=c,this.startAt=f,this.endAt=g,this.ue=null}}function P_(r,e=null,i=[],s=[],l=null,c=null,f=null){return new tw(r,e,i,s,l,c,f)}function nm(r){const e=be(r);if(e.ue===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((s=>xd(s))).join(","),i+="|ob:",i+=e.orderBy.map((s=>(function(c){return c.field.canonicalString()+c.dir})(s))).join(","),Lc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((s=>Na(s))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((s=>Na(s))).join(",")),e.ue=i}return e.ue}function im(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!Kb(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!aE(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!k_(r.startAt,e.startAt)&&k_(r.endAt,e.endAt)}function Ud(r){return de.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{constructor(e,i=null,s=[],l=[],c=null,f="F",g=null,p=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=l,this.limit=c,this.limitType=f,this.startAt=g,this.endAt=p,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function nw(r,e,i,s,l,c,f,g){return new za(r,e,i,s,l,c,f,g)}function uE(r){return new za(r)}function L_(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function cE(r){return r.collectionGroup!==null}function ol(r){const e=be(r);if(e.ce===null){e.ce=[];const i=new Set;for(const c of e.explicitOrderBy)e.ce.push(c),i.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let g=new jt(zt.comparator);return f.filters.forEach((p=>{p.getFlattenedFilters().forEach((y=>{y.isInequality()&&(g=g.add(y.field))}))})),g})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.ce.push(new yl(c,s))})),i.has(zt.keyField().canonicalString())||e.ce.push(new yl(zt.keyField(),s))}return e.ce}function ei(r){const e=be(r);return e.le||(e.le=iw(e,ol(r))),e.le}function iw(r,e){if(r.limitType==="F")return P_(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new yl(l.field,c)}));const i=r.endAt?new Ac(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Ac(r.startAt.position,r.startAt.inclusive):null;return P_(r.path,r.collectionGroup,e,r.filters,r.limit,i,s)}}function kd(r,e){const i=r.filters.concat([e]);return new za(r.path,r.collectionGroup,r.explicitOrderBy.slice(),i,r.limit,r.limitType,r.startAt,r.endAt)}function bc(r,e,i){return new za(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function zc(r,e){return im(ei(r),ei(e))&&r.limitType===e.limitType}function hE(r){return`${nm(ei(r))}|lt:${r.limitType}`}function _a(r){return`Query(target=${(function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map((l=>oE(l))).join(", ")}]`),Lc(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map((l=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(l))).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map((l=>Na(l))).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map((l=>Na(l))).join(",")),`Target(${s})`})(ei(r))}; limitType=${r.limitType})`}function jc(r,e){return e.isFoundDocument()&&(function(s,l){const c=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):de.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)})(r,e)&&(function(s,l){for(const c of ol(s))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(r,e)&&(function(s,l){for(const c of s.filters)if(!c.matches(l))return!1;return!0})(r,e)&&(function(s,l){return!(s.startAt&&!(function(f,g,p){const y=U_(f,g,p);return f.inclusive?y<=0:y<0})(s.startAt,ol(s),l)||s.endAt&&!(function(f,g,p){const y=U_(f,g,p);return f.inclusive?y>=0:y>0})(s.endAt,ol(s),l))})(r,e)}function rw(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function fE(r){return(e,i)=>{let s=!1;for(const l of ol(r)){const c=sw(l,e,i);if(c!==0)return c;s=s||l.field.isKeyField()}return 0}}function sw(r,e,i){const s=r.field.isKeyField()?de.comparator(e.key,i.key):(function(c,f,g){const p=f.data.field(c),y=g.data.field(c);return p!==null&&y!==null?Da(p,y):Ee()})(r.field,e,i);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Ee()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[l,c]of s)if(this.equalsFn(l,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),l=this.inner[s];if(l===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,i]);l.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],e))return s.length===1?delete this.inner[i]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(e){La(this.inner,((i,s)=>{for(const[l,c]of s)e(l,c)}))}isEmpty(){return eE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aw=new it(de.comparator);function Pi(){return aw}const dE=new it(de.comparator);function rl(...r){let e=dE;for(const i of r)e=e.insert(i.key,i);return e}function mE(r){let e=dE;return r.forEach(((i,s)=>e=e.insert(i,s.overlayedDocument))),e}function ps(){return ll()}function gE(){return ll()}function ll(){return new ja((r=>r.toString()),((r,e)=>r.isEqual(e)))}const ow=new it(de.comparator),lw=new jt(de.comparator);function Oe(...r){let e=lw;for(const i of r)e=e.add(i);return e}const uw=new jt(Le);function cw(){return uw}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rm(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Sc(e)?"-0":e}}function pE(r){return{integerValue:""+r}}function hw(r,e){return Bb(e)?pE(e):rm(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(){this._=void 0}}function fw(r,e,i){return r instanceof wc?(function(l,c){const f={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Jd(c)&&(c=em(c)),c&&(f.fields.__previous_value__=c),{mapValue:f}})(i,e):r instanceof _l?_E(r,e):r instanceof vl?vE(r,e):(function(l,c){const f=yE(l,c),g=z_(f)+z_(l.Pe);return Vd(f)&&Vd(l.Pe)?pE(g):rm(l.serializer,g)})(r,e)}function dw(r,e,i){return r instanceof _l?_E(r,e):r instanceof vl?vE(r,e):i}function yE(r,e){return r instanceof Rc?(function(s){return Vd(s)||(function(c){return!!c&&"doubleValue"in c})(s)})(e)?e:{integerValue:0}:null}class wc extends Bc{}class _l extends Bc{constructor(e){super(),this.elements=e}}function _E(r,e){const i=EE(e);for(const s of r.elements)i.some((l=>ri(l,s)))||i.push(s);return{arrayValue:{values:i}}}class vl extends Bc{constructor(e){super(),this.elements=e}}function vE(r,e){let i=EE(e);for(const s of r.elements)i=i.filter((l=>!ri(l,s)));return{arrayValue:{values:i}}}class Rc extends Bc{constructor(e,i){super(),this.serializer=e,this.Pe=i}}function z_(r){return ft(r.integerValue||r.doubleValue)}function EE(r){return tm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function mw(r,e){return r.field.isEqual(e.field)&&(function(s,l){return s instanceof _l&&l instanceof _l||s instanceof vl&&l instanceof vl?Ca(s.elements,l.elements,ri):s instanceof Rc&&l instanceof Rc?ri(s.Pe,l.Pe):s instanceof wc&&l instanceof wc})(r.transform,e.transform)}class gw{constructor(e,i){this.version=e,this.transformResults=i}}class xi{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new xi}static exists(e){return new xi(void 0,e)}static updateTime(e){return new xi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function fc(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class qc{}function TE(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new AE(r.key,xi.none()):new Rl(r.key,r.data,xi.none());{const i=r.data,s=wn.empty();let l=new jt(zt.comparator);for(let c of e.fields)if(!l.has(c)){let f=i.field(c);f===null&&c.length>1&&(c=c.popLast(),f=i.field(c)),f===null?s.delete(c):s.set(c,f),l=l.add(c)}return new bs(r.key,s,new xn(l.toArray()),xi.none())}}function pw(r,e,i){r instanceof Rl?(function(l,c,f){const g=l.value.clone(),p=B_(l.fieldTransforms,c,f.transformResults);g.setAll(p),c.convertToFoundDocument(f.version,g).setHasCommittedMutations()})(r,e,i):r instanceof bs?(function(l,c,f){if(!fc(l.precondition,c))return void c.convertToUnknownDocument(f.version);const g=B_(l.fieldTransforms,c,f.transformResults),p=c.data;p.setAll(SE(l)),p.setAll(g),c.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(r,e,i):(function(l,c,f){c.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,i)}function ul(r,e,i,s){return r instanceof Rl?(function(c,f,g,p){if(!fc(c.precondition,f))return g;const y=c.value.clone(),E=q_(c.fieldTransforms,p,f);return y.setAll(E),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null})(r,e,i,s):r instanceof bs?(function(c,f,g,p){if(!fc(c.precondition,f))return g;const y=q_(c.fieldTransforms,p,f),E=f.data;return E.setAll(SE(c)),E.setAll(y),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((A=>A.field)))})(r,e,i,s):(function(c,f,g){return fc(c.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):g})(r,e,i)}function yw(r,e){let i=null;for(const s of r.fieldTransforms){const l=e.data.field(s.field),c=yE(s.transform,l||null);c!=null&&(i===null&&(i=wn.empty()),i.set(s.field,c))}return i||null}function j_(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&Ca(s,l,((c,f)=>mw(c,f)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Rl extends qc{constructor(e,i,s,l=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class bs extends qc{constructor(e,i,s,l,c=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function SE(r){const e=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const s=r.data.field(i);e.set(i,s)}})),e}function B_(r,e,i){const s=new Map;Fe(r.length===i.length);for(let l=0;l<i.length;l++){const c=r[l],f=c.transform,g=e.data.field(c.field);s.set(c.field,dw(f,g,i[l]))}return s}function q_(r,e,i){const s=new Map;for(const l of r){const c=l.transform,f=i.data.field(l.field);s.set(l.field,fw(c,f,e))}return s}class AE extends qc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class _w extends qc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw{constructor(e,i,s,l){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&pw(c,e,s[l])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=ul(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=ul(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=gE();return this.mutations.forEach((l=>{const c=e.get(l.key),f=c.overlayedDocument;let g=this.applyToLocalView(f,c.mutatedFields);g=i.has(l.key)?null:g;const p=TE(f,g);p!==null&&s.set(l.key,p),f.isValidDocument()||f.convertToNoDocument(Ae.min())})),s}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Oe())}isEqual(e){return this.batchId===e.batchId&&Ca(this.mutations,e.mutations,((i,s)=>j_(i,s)))&&Ca(this.baseMutations,e.baseMutations,((i,s)=>j_(i,s)))}}class sm{constructor(e,i,s,l){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=l}static from(e,i,s){Fe(e.mutations.length===s.length);let l=(function(){return ow})();const c=e.mutations;for(let f=0;f<c.length;f++)l=l.insert(c[f].key,s[f].version);return new sm(e,i,s,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yt,ke;function Sw(r){switch(r){default:return Ee();case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0}}function bE(r){if(r===void 0)return ki("GRPC error has no .code"),Z.UNKNOWN;switch(r){case yt.OK:return Z.OK;case yt.CANCELLED:return Z.CANCELLED;case yt.UNKNOWN:return Z.UNKNOWN;case yt.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case yt.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case yt.INTERNAL:return Z.INTERNAL;case yt.UNAVAILABLE:return Z.UNAVAILABLE;case yt.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case yt.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case yt.NOT_FOUND:return Z.NOT_FOUND;case yt.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case yt.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case yt.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case yt.ABORTED:return Z.ABORTED;case yt.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case yt.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case yt.DATA_LOSS:return Z.DATA_LOSS;default:return Ee()}}(ke=yt||(yt={}))[ke.OK=0]="OK",ke[ke.CANCELLED=1]="CANCELLED",ke[ke.UNKNOWN=2]="UNKNOWN",ke[ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ke[ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ke[ke.NOT_FOUND=5]="NOT_FOUND",ke[ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",ke[ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",ke[ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",ke[ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ke[ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ke[ke.ABORTED=10]="ABORTED",ke[ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",ke[ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",ke[ke.INTERNAL=13]="INTERNAL",ke[ke.UNAVAILABLE=14]="UNAVAILABLE",ke[ke.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aw(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bw=new ys([4294967295,4294967295],0);function H_(r){const e=Aw().encode(r),i=new Kv;return i.update(e),new Uint8Array(i.digest())}function G_(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new ys([i,s],0),new ys([l,c],0)]}class am{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new sl(`Invalid padding: ${i}`);if(s<0)throw new sl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new sl(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new sl(`Invalid padding when bitmap length is 0: ${i}`);this.Ie=8*e.length-i,this.Te=ys.fromNumber(this.Ie)}Ee(e,i,s){let l=e.add(i.multiply(ys.fromNumber(s)));return l.compare(bw)===1&&(l=new ys([l.getBits(0),l.getBits(1)],0)),l.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const i=H_(e),[s,l]=G_(i);for(let c=0;c<this.hashCount;c++){const f=this.Ee(s,l,c);if(!this.de(f))return!1}return!0}static create(e,i,s){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),f=new am(c,l,i);return s.forEach((g=>f.insert(g))),f}insert(e){if(this.Ie===0)return;const i=H_(e),[s,l]=G_(i);for(let c=0;c<this.hashCount;c++){const f=this.Ee(s,l,c);this.Ae(f)}}Ae(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class sl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(e,i,s,l,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const l=new Map;return l.set(e,Il.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new Hc(Ae.min(),l,new it(Le),Pi(),Oe())}}class Il{constructor(e,i,s,l,c){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new Il(s,i,Oe(),Oe(),Oe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(e,i,s,l){this.Re=e,this.removedTargetIds=i,this.key=s,this.Ve=l}}class wE{constructor(e,i){this.targetId=e,this.me=i}}class RE{constructor(e,i,s=Bt.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=l}}class F_{constructor(){this.fe=0,this.ge=Q_(),this.pe=Bt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Oe(),i=Oe(),s=Oe();return this.ge.forEach(((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:i=i.add(l);break;case 1:s=s.add(l);break;default:Ee()}})),new Il(this.pe,this.ye,e,i,s)}Ce(){this.we=!1,this.ge=Q_()}Fe(e,i){this.we=!0,this.ge=this.ge.insert(e,i)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Fe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class ww{constructor(e){this.Le=e,this.Be=new Map,this.ke=Pi(),this.qe=K_(),this.Qe=new it(Le)}Ke(e){for(const i of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(i,e.Ve):this.Ue(i,e.key,e.Ve);for(const i of e.removedTargetIds)this.Ue(i,e.key,e.Ve)}We(e){this.forEachTarget(e,(i=>{const s=this.Ge(i);switch(e.state){case 0:this.ze(i)&&s.De(e.resumeToken);break;case 1:s.Oe(),s.Se||s.Ce(),s.De(e.resumeToken);break;case 2:s.Oe(),s.Se||this.removeTarget(i);break;case 3:this.ze(i)&&(s.Ne(),s.De(e.resumeToken));break;case 4:this.ze(i)&&(this.je(i),s.De(e.resumeToken));break;default:Ee()}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.Be.forEach(((s,l)=>{this.ze(l)&&i(l)}))}He(e){const i=e.targetId,s=e.me.count,l=this.Je(i);if(l){const c=l.target;if(Ud(c))if(s===0){const f=new de(c.path);this.Ue(i,f,Qt.newNoDocument(f,Ae.min()))}else Fe(s===1);else{const f=this.Ye(i);if(f!==s){const g=this.Ze(e),p=g?this.Xe(g,e,f):1;if(p!==0){this.je(i);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(i,y)}}}}}Ze(e){const i=e.me.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:c=0}=i;let f,g;try{f=Ts(s).toUint8Array()}catch(p){if(p instanceof tE)return Ia("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{g=new am(f,l,c)}catch(p){return Ia(p instanceof sl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return g.Ie===0?null:g}Xe(e,i,s){return i.me.count===s-this.nt(e,i.targetId)?0:2}nt(e,i){const s=this.Le.getRemoteKeysForTarget(i);let l=0;return s.forEach((c=>{const f=this.Le.tt(),g=`projects/${f.projectId}/databases/${f.database}/documents/${c.path.canonicalString()}`;e.mightContain(g)||(this.Ue(i,c,null),l++)})),l}rt(e){const i=new Map;this.Be.forEach(((c,f)=>{const g=this.Je(f);if(g){if(c.current&&Ud(g.target)){const p=new de(g.target.path);this.ke.get(p)!==null||this.it(f,p)||this.Ue(f,p,Qt.newNoDocument(p,e))}c.be&&(i.set(f,c.ve()),c.Ce())}}));let s=Oe();this.qe.forEach(((c,f)=>{let g=!0;f.forEachWhile((p=>{const y=this.Je(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(s=s.add(c))})),this.ke.forEach(((c,f)=>f.setReadTime(e)));const l=new Hc(e,i,this.Qe,this.ke,s);return this.ke=Pi(),this.qe=K_(),this.Qe=new it(Le),l}$e(e,i){if(!this.ze(e))return;const s=this.it(e,i.key)?2:0;this.Ge(e).Fe(i.key,s),this.ke=this.ke.insert(i.key,i),this.qe=this.qe.insert(i.key,this.st(i.key).add(e))}Ue(e,i,s){if(!this.ze(e))return;const l=this.Ge(e);this.it(e,i)?l.Fe(i,1):l.Me(i),this.qe=this.qe.insert(i,this.st(i).delete(e)),s&&(this.ke=this.ke.insert(i,s))}removeTarget(e){this.Be.delete(e)}Ye(e){const i=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let i=this.Be.get(e);return i||(i=new F_,this.Be.set(e,i)),i}st(e){let i=this.qe.get(e);return i||(i=new jt(Le),this.qe=this.qe.insert(e,i)),i}ze(e){const i=this.Je(e)!==null;return i||ue("WatchChangeAggregator","Detected inactive target",e),i}Je(e){const i=this.Be.get(e);return i&&i.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new F_),this.Le.getRemoteKeysForTarget(e).forEach((i=>{this.Ue(e,i,null)}))}it(e,i){return this.Le.getRemoteKeysForTarget(e).has(i)}}function K_(){return new it(de.comparator)}function Q_(){return new it(de.comparator)}const Rw={asc:"ASCENDING",desc:"DESCENDING"},Iw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Cw={and:"AND",or:"OR"};class Dw{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Pd(r,e){return r.useProto3Json||Lc(e)?e:{value:e}}function Ic(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function IE(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function Nw(r,e){return Ic(r,e.toTimestamp())}function ti(r){return Fe(!!r),Ae.fromTimestamp((function(i){const s=Dr(i);return new lt(s.seconds,s.nanos)})(r))}function om(r,e){return Ld(r,e).canonicalString()}function Ld(r,e){const i=(function(l){return new Je(["projects",l.projectId,"databases",l.database])})(r).child("documents");return e===void 0?i:i.child(e)}function CE(r){const e=Je.fromString(r);return Fe(VE(e)),e}function zd(r,e){return om(r.databaseId,e.path)}function yd(r,e){const i=CE(e);if(i.get(1)!==r.databaseId.projectId)throw new oe(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new oe(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new de(NE(i))}function DE(r,e){return om(r.databaseId,e)}function Ow(r){const e=CE(r);return e.length===4?Je.emptyPath():NE(e)}function jd(r){return new Je(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function NE(r){return Fe(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function Y_(r,e,i){return{name:zd(r,e),fields:i.value.mapValue.fields}}function Mw(r,e){let i;if("targetChange"in e){e.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Ee()})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],c=(function(y,E){return y.useProto3Json?(Fe(E===void 0||typeof E=="string"),Bt.fromBase64String(E||"")):(Fe(E===void 0||E instanceof Buffer||E instanceof Uint8Array),Bt.fromUint8Array(E||new Uint8Array))})(r,e.targetChange.resumeToken),f=e.targetChange.cause,g=f&&(function(y){const E=y.code===void 0?Z.UNKNOWN:bE(y.code);return new oe(E,y.message||"")})(f);i=new RE(s,l,c,g||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const l=yd(r,s.document.name),c=ti(s.document.updateTime),f=s.document.createTime?ti(s.document.createTime):Ae.min(),g=new wn({mapValue:{fields:s.document.fields}}),p=Qt.newFoundDocument(l,c,f,g),y=s.targetIds||[],E=s.removedTargetIds||[];i=new dc(y,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const l=yd(r,s.document),c=s.readTime?ti(s.readTime):Ae.min(),f=Qt.newNoDocument(l,c),g=s.removedTargetIds||[];i=new dc([],g,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const l=yd(r,s.document),c=s.removedTargetIds||[];i=new dc([],c,l,null)}else{if(!("filter"in e))return Ee();{e.filter;const s=e.filter;s.targetId;const{count:l=0,unchangedNames:c}=s,f=new Tw(l,c),g=s.targetId;i=new wE(g,f)}}return i}function Vw(r,e){let i;if(e instanceof Rl)i={update:Y_(r,e.key,e.value)};else if(e instanceof AE)i={delete:zd(r,e.key)};else if(e instanceof bs)i={update:Y_(r,e.key,e.data),updateMask:qw(e.fieldMask)};else{if(!(e instanceof _w))return Ee();i={verify:zd(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((s=>(function(c,f){const g=f.transform;if(g instanceof wc)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof _l)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof vl)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Rc)return{fieldPath:f.field.canonicalString(),increment:g.Pe};throw Ee()})(0,s)))),e.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:Nw(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Ee()})(r,e.precondition)),i}function xw(r,e){return r&&r.length>0?(Fe(e!==void 0),r.map((i=>(function(l,c){let f=l.updateTime?ti(l.updateTime):ti(c);return f.isEqual(Ae.min())&&(f=ti(c)),new gw(f,l.transformResults||[])})(i,e)))):[]}function Uw(r,e){return{documents:[DE(r,e.path)]}}function kw(r,e){const i={structuredQuery:{}},s=e.path;let l;e.collectionGroup!==null?(l=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=DE(r,l);const c=(function(y){if(y.length!==0)return ME(Un.create(y,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const f=(function(y){if(y.length!==0)return y.map((E=>(function(D){return{field:va(D.field),direction:zw(D.dir)}})(E)))})(e.orderBy);f&&(i.structuredQuery.orderBy=f);const g=Pd(r,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{_t:i,parent:l}}function Pw(r){let e=Ow(r.parent);const i=r.structuredQuery,s=i.from?i.from.length:0;let l=null;if(s>0){Fe(s===1);const E=i.from[0];E.allDescendants?l=E.collectionId:e=e.child(E.collectionId)}let c=[];i.where&&(c=(function(A){const D=OE(A);return D instanceof Un&&sE(D)?D.getFilters():[D]})(i.where));let f=[];i.orderBy&&(f=(function(A){return A.map((D=>(function(X){return new yl(Ea(X.field),(function(H){switch(H){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(X.direction))})(D)))})(i.orderBy));let g=null;i.limit&&(g=(function(A){let D;return D=typeof A=="object"?A.value:A,Lc(D)?null:D})(i.limit));let p=null;i.startAt&&(p=(function(A){const D=!!A.before,B=A.values||[];return new Ac(B,D)})(i.startAt));let y=null;return i.endAt&&(y=(function(A){const D=!A.before,B=A.values||[];return new Ac(B,D)})(i.endAt)),nw(e,l,f,c,g,"F",p,y)}function Lw(r,e){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee()}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function OE(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=Ea(i.unaryFilter.field);return _t.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=Ea(i.unaryFilter.field);return _t.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ea(i.unaryFilter.field);return _t.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Ea(i.unaryFilter.field);return _t.create(f,"!=",{nullValue:"NULL_VALUE"});default:return Ee()}})(r):r.fieldFilter!==void 0?(function(i){return _t.create(Ea(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ee()}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Un.create(i.compositeFilter.filters.map((s=>OE(s))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Ee()}})(i.compositeFilter.op))})(r):Ee()}function zw(r){return Rw[r]}function jw(r){return Iw[r]}function Bw(r){return Cw[r]}function va(r){return{fieldPath:r.canonicalString()}}function Ea(r){return zt.fromServerFormat(r.fieldPath)}function ME(r){return r instanceof _t?(function(i){if(i.op==="=="){if(x_(i.value))return{unaryFilter:{field:va(i.field),op:"IS_NAN"}};if(V_(i.value))return{unaryFilter:{field:va(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(x_(i.value))return{unaryFilter:{field:va(i.field),op:"IS_NOT_NAN"}};if(V_(i.value))return{unaryFilter:{field:va(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:va(i.field),op:jw(i.op),value:i.value}}})(r):r instanceof Un?(function(i){const s=i.getFilters().map((l=>ME(l)));return s.length===1?s[0]:{compositeFilter:{op:Bw(i.op),filters:s}}})(r):Ee()}function qw(r){const e=[];return r.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function VE(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(e,i,s,l,c=Ae.min(),f=Ae.min(),g=Bt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=g,this.expectedCount=p}withSequenceNumber(e){return new Sr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Sr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Sr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Sr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{constructor(e){this.ct=e}}function Gw(r){const e=Pw({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?bc(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(){this.un=new Kw}addToCollectionParentIndex(e,i){return this.un.add(i),J.resolve()}getCollectionParents(e,i){return J.resolve(this.un.getEntries(i))}addFieldIndex(e,i){return J.resolve()}deleteFieldIndex(e,i){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,i){return J.resolve()}getDocumentsMatchingTarget(e,i){return J.resolve(null)}getIndexType(e,i){return J.resolve(0)}getFieldIndexes(e,i){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,i){return J.resolve(Cr.min())}getMinOffsetFromCollectionGroup(e,i){return J.resolve(Cr.min())}updateCollectionGroup(e,i,s){return J.resolve()}updateIndexEntries(e,i){return J.resolve()}}class Kw{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),l=this.index[i]||new jt(Je.comparator),c=!l.has(s);return this.index[i]=l.add(s),c}has(e){const i=e.lastSegment(),s=e.popLast(),l=this.index[i];return l&&l.has(s)}getEntries(e){return(this.index[e]||new jt(Je.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Oa(0)}static kn(){return new Oa(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{constructor(){this.changes=new ja((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Qt.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?J.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{constructor(e,i,s,l){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=l}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next((l=>(s=l,this.remoteDocumentCache.getEntry(e,i)))).next((l=>(s!==null&&ul(s.mutation,l,xn.empty(),lt.now()),l)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.getLocalViewOfDocuments(e,s,Oe()).next((()=>s))))}getLocalViewOfDocuments(e,i,s=Oe()){const l=ps();return this.populateOverlays(e,l,i).next((()=>this.computeViews(e,i,l,s).next((c=>{let f=rl();return c.forEach(((g,p)=>{f=f.insert(g,p.overlayedDocument)})),f}))))}getOverlayedDocuments(e,i){const s=ps();return this.populateOverlays(e,s,i).next((()=>this.computeViews(e,i,s,Oe())))}populateOverlays(e,i,s){const l=[];return s.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(e,l).next((c=>{c.forEach(((f,g)=>{i.set(f,g)}))}))}computeViews(e,i,s,l){let c=Pi();const f=ll(),g=(function(){return ll()})();return i.forEach(((p,y)=>{const E=s.get(y.key);l.has(y.key)&&(E===void 0||E.mutation instanceof bs)?c=c.insert(y.key,y):E!==void 0?(f.set(y.key,E.mutation.getFieldMask()),ul(E.mutation,y,E.mutation.getFieldMask(),lt.now())):f.set(y.key,xn.empty())})),this.recalculateAndSaveOverlays(e,c).next((p=>(p.forEach(((y,E)=>f.set(y,E))),i.forEach(((y,E)=>{var A;return g.set(y,new Yw(E,(A=f.get(y))!==null&&A!==void 0?A:null))})),g)))}recalculateAndSaveOverlays(e,i){const s=ll();let l=new it(((f,g)=>f-g)),c=Oe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((f=>{for(const g of f)g.keys().forEach((p=>{const y=i.get(p);if(y===null)return;let E=s.get(p)||xn.empty();E=g.applyToLocalView(y,E),s.set(p,E);const A=(l.get(g.batchId)||Oe()).add(p);l=l.insert(g.batchId,A)}))})).next((()=>{const f=[],g=l.getReverseIterator();for(;g.hasNext();){const p=g.getNext(),y=p.key,E=p.value,A=gE();E.forEach((D=>{if(!c.has(D)){const B=TE(i.get(D),s.get(D));B!==null&&A.set(D,B),c=c.add(D)}})),f.push(this.documentOverlayCache.saveOverlays(e,y,A))}return J.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,i,s,l){return(function(f){return de.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):cE(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,l):this.getDocumentsMatchingCollectionQuery(e,i,s,l)}getNextDocuments(e,i,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,l).next((c=>{const f=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,l-c.size):J.resolve(ps());let g=-1,p=c;return f.next((y=>J.forEach(y,((E,A)=>(g<A.largestBatchId&&(g=A.largestBatchId),c.get(E)?J.resolve():this.remoteDocumentCache.getEntry(e,E).next((D=>{p=p.insert(E,D)}))))).next((()=>this.populateOverlays(e,y,c))).next((()=>this.computeViews(e,p,y,Oe()))).next((E=>({batchId:g,changes:mE(E)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new de(i)).next((s=>{let l=rl();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l}))}getDocumentsMatchingCollectionGroupQuery(e,i,s,l){const c=i.collectionGroup;let f=rl();return this.indexManager.getCollectionParents(e,c).next((g=>J.forEach(g,(p=>{const y=(function(A,D){return new za(D,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(i,p.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,s,l).next((E=>{E.forEach(((A,D)=>{f=f.insert(A,D)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,i,s,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next((f=>(c=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,c,l)))).next((f=>{c.forEach(((p,y)=>{const E=y.getKey();f.get(E)===null&&(f=f.insert(E,Qt.newInvalidDocument(E)))}));let g=rl();return f.forEach(((p,y)=>{const E=c.get(p);E!==void 0&&ul(E.mutation,y,xn.empty(),lt.now()),jc(i,y)&&(g=g.insert(p,y))})),g}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,i){return J.resolve(this.hr.get(i))}saveBundleMetadata(e,i){return this.hr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:ti(l.createTime)}})(i)),J.resolve()}getNamedQuery(e,i){return J.resolve(this.Pr.get(i))}saveNamedQuery(e,i){return this.Pr.set(i.name,(function(l){return{name:l.name,query:Gw(l.bundledQuery),readTime:ti(l.readTime)}})(i)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw{constructor(){this.overlays=new it(de.comparator),this.Ir=new Map}getOverlay(e,i){return J.resolve(this.overlays.get(i))}getOverlays(e,i){const s=ps();return J.forEach(i,(l=>this.getOverlay(e,l).next((c=>{c!==null&&s.set(l,c)})))).next((()=>s))}saveOverlays(e,i,s){return s.forEach(((l,c)=>{this.ht(e,i,c)})),J.resolve()}removeOverlaysForBatchId(e,i,s){const l=this.Ir.get(s);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.Ir.delete(s)),J.resolve()}getOverlaysForCollection(e,i,s){const l=ps(),c=i.length+1,f=new de(i.child("")),g=this.overlays.getIteratorFrom(f);for(;g.hasNext();){const p=g.getNext().value,y=p.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&p.largestBatchId>s&&l.set(p.getKey(),p)}return J.resolve(l)}getOverlaysForCollectionGroup(e,i,s,l){let c=new it(((y,E)=>y-E));const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>s){let E=c.get(y.largestBatchId);E===null&&(E=ps(),c=c.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const g=ps(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((y,E)=>g.set(y,E))),!(g.size()>=l)););return J.resolve(g)}ht(e,i,s){const l=this.overlays.get(s.key);if(l!==null){const f=this.Ir.get(l.largestBatchId).delete(s.key);this.Ir.set(l.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new Ew(i,s));let c=this.Ir.get(i);c===void 0&&(c=Oe(),this.Ir.set(i,c)),this.Ir.set(i,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww{constructor(){this.sessionToken=Bt.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{constructor(){this.Tr=new jt(Ot.Er),this.dr=new jt(Ot.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,i){const s=new Ot(e,i);this.Tr=this.Tr.add(s),this.dr=this.dr.add(s)}Rr(e,i){e.forEach((s=>this.addReference(s,i)))}removeReference(e,i){this.Vr(new Ot(e,i))}mr(e,i){e.forEach((s=>this.removeReference(s,i)))}gr(e){const i=new de(new Je([])),s=new Ot(i,e),l=new Ot(i,e+1),c=[];return this.dr.forEachInRange([s,l],(f=>{this.Vr(f),c.push(f.key)})),c}pr(){this.Tr.forEach((e=>this.Vr(e)))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const i=new de(new Je([])),s=new Ot(i,e),l=new Ot(i,e+1);let c=Oe();return this.dr.forEachInRange([s,l],(f=>{c=c.add(f.key)})),c}containsKey(e){const i=new Ot(e,0),s=this.Tr.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class Ot{constructor(e,i){this.key=e,this.wr=i}static Er(e,i){return de.comparator(e.key,i.key)||Le(e.wr,i.wr)}static Ar(e,i){return Le(e.wr,i.wr)||de.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Sr=1,this.br=new jt(Ot.Er)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,l){const c=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new vw(c,i,s,l);this.mutationQueue.push(f);for(const g of l)this.br=this.br.add(new Ot(g.key,c)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return J.resolve(f)}lookupMutationBatch(e,i){return J.resolve(this.Dr(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,l=this.vr(s),c=l<0?0:l;return J.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new Ot(i,0),l=new Ot(i,Number.POSITIVE_INFINITY),c=[];return this.br.forEachInRange([s,l],(f=>{const g=this.Dr(f.wr);c.push(g)})),J.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new jt(Le);return i.forEach((l=>{const c=new Ot(l,0),f=new Ot(l,Number.POSITIVE_INFINITY);this.br.forEachInRange([c,f],(g=>{s=s.add(g.wr)}))})),J.resolve(this.Cr(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,l=s.length+1;let c=s;de.isDocumentKey(c)||(c=c.child(""));const f=new Ot(new de(c),0);let g=new jt(Le);return this.br.forEachWhile((p=>{const y=p.key.path;return!!s.isPrefixOf(y)&&(y.length===l&&(g=g.add(p.wr)),!0)}),f),J.resolve(this.Cr(g))}Cr(e){const i=[];return e.forEach((s=>{const l=this.Dr(s);l!==null&&i.push(l)})),i}removeMutationBatch(e,i){Fe(this.Fr(i.batchId,"removed")===0),this.mutationQueue.shift();let s=this.br;return J.forEach(i.mutations,(l=>{const c=new Ot(l.key,i.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.br=s}))}On(e){}containsKey(e,i){const s=new Ot(i,0),l=this.br.firstAfterOrEqual(s);return J.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}Fr(e,i){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const i=this.vr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(e){this.Mr=e,this.docs=(function(){return new it(de.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,l=this.docs.get(s),c=l?l.size:0,f=this.Mr(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:f}),this.size+=f-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return J.resolve(s?s.document.mutableCopy():Qt.newInvalidDocument(i))}getEntries(e,i){let s=Pi();return i.forEach((l=>{const c=this.docs.get(l);s=s.insert(l,c?c.document.mutableCopy():Qt.newInvalidDocument(l))})),J.resolve(s)}getDocumentsMatchingQuery(e,i,s,l){let c=Pi();const f=i.path,g=new de(f.child("")),p=this.docs.getIteratorFrom(g);for(;p.hasNext();){const{key:y,value:{document:E}}=p.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||Pb(kb(E),s)<=0||(l.has(E.key)||jc(i,E))&&(c=c.insert(E.key,E.mutableCopy()))}return J.resolve(c)}getAllFromCollectionGroup(e,i,s,l){Ee()}Or(e,i){return J.forEach(this.docs,(s=>i(s)))}newChangeBuffer(e){return new tR(this)}getSize(e){return J.resolve(this.size)}}class tR extends Qw{constructor(e){super(),this.cr=e}applyChanges(e){const i=[];return this.changes.forEach(((s,l)=>{l.isValidDocument()?i.push(this.cr.addEntry(e,l)):this.cr.removeEntry(s)})),J.waitFor(i)}getFromCache(e,i){return this.cr.getEntry(e,i)}getAllFromCache(e,i){return this.cr.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR{constructor(e){this.persistence=e,this.Nr=new ja((i=>nm(i)),im),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.Lr=0,this.Br=new lm,this.targetCount=0,this.kr=Oa.Bn()}forEachTarget(e,i){return this.Nr.forEach(((s,l)=>i(l))),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.Lr&&(this.Lr=i),J.resolve()}Kn(e){this.Nr.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.kr=new Oa(i),this.highestTargetId=i),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,i){return this.Kn(i),this.targetCount+=1,J.resolve()}updateTargetData(e,i){return this.Kn(i),J.resolve()}removeTargetData(e,i){return this.Nr.delete(i.target),this.Br.gr(i.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,i,s){let l=0;const c=[];return this.Nr.forEach(((f,g)=>{g.sequenceNumber<=i&&s.get(g.targetId)===null&&(this.Nr.delete(f),c.push(this.removeMatchingKeysForTargetId(e,g.targetId)),l++)})),J.waitFor(c).next((()=>l))}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,i){const s=this.Nr.get(i)||null;return J.resolve(s)}addMatchingKeys(e,i,s){return this.Br.Rr(i,s),J.resolve()}removeMatchingKeys(e,i,s){this.Br.mr(i,s);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((f=>{c.push(l.markPotentiallyOrphaned(e,f))})),J.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this.Br.gr(i),J.resolve()}getMatchingKeysForTargetId(e,i){const s=this.Br.yr(i);return J.resolve(s)}containsKey(e,i){return J.resolve(this.Br.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(e,i){this.qr={},this.overlays={},this.Qr=new Wd(0),this.Kr=!1,this.Kr=!0,this.$r=new Ww,this.referenceDelegate=e(this),this.Ur=new nR(this),this.indexManager=new Fw,this.remoteDocumentCache=(function(l){return new eR(l)})((s=>this.referenceDelegate.Wr(s))),this.serializer=new Hw(i),this.Gr=new $w(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new Zw,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this.qr[e.toKey()];return s||(s=new Jw(i,this.referenceDelegate),this.qr[e.toKey()]=s),s}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,i,s){ue("MemoryPersistence","Starting transaction:",e);const l=new rR(this.Qr.next());return this.referenceDelegate.zr(),s(l).next((c=>this.referenceDelegate.jr(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Hr(e,i){return J.or(Object.values(this.qr).map((s=>()=>s.containsKey(e,i))))}}class rR extends zb{constructor(e){super(),this.currentSequenceNumber=e}}class um{constructor(e){this.persistence=e,this.Jr=new lm,this.Yr=null}static Zr(e){return new um(e)}get Xr(){if(this.Yr)return this.Yr;throw Ee()}addReference(e,i,s){return this.Jr.addReference(s,i),this.Xr.delete(s.toString()),J.resolve()}removeReference(e,i,s){return this.Jr.removeReference(s,i),this.Xr.add(s.toString()),J.resolve()}markPotentiallyOrphaned(e,i){return this.Xr.add(i.toString()),J.resolve()}removeTarget(e,i){this.Jr.gr(i.targetId).forEach((l=>this.Xr.add(l.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next((l=>{l.forEach((c=>this.Xr.add(c.toString())))})).next((()=>s.removeTargetData(e,i)))}zr(){this.Yr=new Set}jr(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.Xr,(s=>{const l=de.fromPath(s);return this.ei(e,l).next((c=>{c||i.removeEntry(l,Ae.min())}))})).next((()=>(this.Yr=null,i.apply(e))))}updateLimboDocument(e,i){return this.ei(e,i).next((s=>{s?this.Xr.delete(i.toString()):this.Xr.add(i.toString())}))}Wr(e){return 0}ei(e,i){return J.or([()=>J.resolve(this.Jr.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Hr(e,i)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm{constructor(e,i,s,l){this.targetId=e,this.fromCache=i,this.$i=s,this.Ui=l}static Wi(e,i){let s=Oe(),l=Oe();for(const c of i.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new cm(e,i.fromCache,s,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(function(){return uA()?8:jb(Yt())>0?6:4})()}initialize(e,i){this.Ji=e,this.indexManager=i,this.Gi=!0}getDocumentsMatchingQuery(e,i,s,l){const c={result:null};return this.Yi(e,i).next((f=>{c.result=f})).next((()=>{if(!c.result)return this.Zi(e,i,l,s).next((f=>{c.result=f}))})).next((()=>{if(c.result)return;const f=new sR;return this.Xi(e,i,f).next((g=>{if(c.result=g,this.zi)return this.es(e,i,f,g.size)}))})).next((()=>c.result))}es(e,i,s,l){return s.documentReadCount<this.ji?(nl()<=Me.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",_a(i),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),J.resolve()):(nl()<=Me.DEBUG&&ue("QueryEngine","Query:",_a(i),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.Hi*l?(nl()<=Me.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",_a(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ei(i))):J.resolve())}Yi(e,i){if(L_(i))return J.resolve(null);let s=ei(i);return this.indexManager.getIndexType(e,s).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=bc(i,null,"F"),s=ei(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next((c=>{const f=Oe(...c);return this.Ji.getDocuments(e,f).next((g=>this.indexManager.getMinOffset(e,s).next((p=>{const y=this.ts(i,g);return this.ns(i,y,f,p.readTime)?this.Yi(e,bc(i,null,"F")):this.rs(e,y,i,p)}))))})))))}Zi(e,i,s,l){return L_(i)||l.isEqual(Ae.min())?J.resolve(null):this.Ji.getDocuments(e,s).next((c=>{const f=this.ts(i,c);return this.ns(i,f,s,l)?J.resolve(null):(nl()<=Me.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),_a(i)),this.rs(e,f,i,Ub(l,-1)).next((g=>g)))}))}ts(e,i){let s=new jt(fE(e));return i.forEach(((l,c)=>{jc(e,c)&&(s=s.add(c))})),s}ns(e,i,s,l){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Xi(e,i,s){return nl()<=Me.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",_a(i)),this.Ji.getDocumentsMatchingQuery(e,i,Cr.min(),s)}rs(e,i,s,l){return this.Ji.getDocumentsMatchingQuery(e,s,l).next((c=>(i.forEach((f=>{c=c.insert(f.key,f)})),c)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(e,i,s,l){this.persistence=e,this.ss=i,this.serializer=l,this.os=new it(Le),this._s=new ja((c=>nm(c)),im),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(s)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Xw(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.os)))}}function lR(r,e,i,s){return new oR(r,e,i,s)}async function xE(r,e){const i=be(r);return await i.persistence.runTransaction("Handle user change","readonly",(s=>{let l;return i.mutationQueue.getAllMutationBatches(s).next((c=>(l=c,i.ls(e),i.mutationQueue.getAllMutationBatches(s)))).next((c=>{const f=[],g=[];let p=Oe();for(const y of l){f.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}for(const y of c){g.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}return i.localDocuments.getDocuments(s,p).next((y=>({hs:y,removedBatchIds:f,addedBatchIds:g})))}))}))}function uR(r,e){const i=be(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const l=e.batch.keys(),c=i.cs.newChangeBuffer({trackRemovals:!0});return(function(g,p,y,E){const A=y.batch,D=A.keys();let B=J.resolve();return D.forEach((X=>{B=B.next((()=>E.getEntry(p,X))).next((j=>{const H=y.docVersions.get(X);Fe(H!==null),j.version.compareTo(H)<0&&(A.applyToRemoteDocument(j,y),j.isValidDocument()&&(j.setReadTime(y.commitVersion),E.addEntry(j)))}))})),B.next((()=>g.mutationQueue.removeMutationBatch(p,A)))})(i,s,e,c).next((()=>c.apply(s))).next((()=>i.mutationQueue.performConsistencyCheck(s))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(s,l,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(g){let p=Oe();for(let y=0;y<g.mutationResults.length;++y)g.mutationResults[y].transformResults.length>0&&(p=p.add(g.batch.mutations[y].key));return p})(e)))).next((()=>i.localDocuments.getDocuments(s,l)))}))}function UE(r){const e=be(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Ur.getLastRemoteSnapshotVersion(i)))}function cR(r,e){const i=be(r),s=e.snapshotVersion;let l=i.os;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const f=i.cs.newChangeBuffer({trackRemovals:!0});l=i.os;const g=[];e.targetChanges.forEach(((E,A)=>{const D=l.get(A);if(!D)return;g.push(i.Ur.removeMatchingKeys(c,E.removedDocuments,A).next((()=>i.Ur.addMatchingKeys(c,E.addedDocuments,A))));let B=D.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(A)!==null?B=B.withResumeToken(Bt.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):E.resumeToken.approximateByteSize()>0&&(B=B.withResumeToken(E.resumeToken,s)),l=l.insert(A,B),(function(j,H,se){return j.resumeToken.approximateByteSize()===0||H.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=3e8?!0:se.addedDocuments.size+se.modifiedDocuments.size+se.removedDocuments.size>0})(D,B,E)&&g.push(i.Ur.updateTargetData(c,B))}));let p=Pi(),y=Oe();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,E))})),g.push(hR(c,f,e.documentUpdates).next((E=>{p=E.Ps,y=E.Is}))),!s.isEqual(Ae.min())){const E=i.Ur.getLastRemoteSnapshotVersion(c).next((A=>i.Ur.setTargetsMetadata(c,c.currentSequenceNumber,s)));g.push(E)}return J.waitFor(g).next((()=>f.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,p,y))).next((()=>p))})).then((c=>(i.os=l,c)))}function hR(r,e,i){let s=Oe(),l=Oe();return i.forEach((c=>s=s.add(c))),e.getEntries(r,s).next((c=>{let f=Pi();return i.forEach(((g,p)=>{const y=c.get(g);p.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(g)),p.isNoDocument()&&p.version.isEqual(Ae.min())?(e.removeEntry(g,p.readTime),f=f.insert(g,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),f=f.insert(g,p)):ue("LocalStore","Ignoring outdated watch update for ",g,". Current version:",y.version," Watch version:",p.version)})),{Ps:f,Is:l}}))}function fR(r,e){const i=be(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=-1),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function dR(r,e){const i=be(r);return i.persistence.runTransaction("Allocate target","readwrite",(s=>{let l;return i.Ur.getTargetData(s,e).next((c=>c?(l=c,J.resolve(l)):i.Ur.allocateTargetId(s).next((f=>(l=new Sr(e,f,"TargetPurposeListen",s.currentSequenceNumber),i.Ur.addTargetData(s,l).next((()=>l)))))))})).then((s=>{const l=i.os.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.os=i.os.insert(s.targetId,s),i._s.set(e,s.targetId)),s}))}async function Bd(r,e,i){const s=be(r),l=s.os.get(e),c=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",c,(f=>s.persistence.referenceDelegate.removeTarget(f,l)))}catch(f){if(!wl(f))throw f;ue("LocalStore",`Failed to update sequence numbers for target ${e}: ${f}`)}s.os=s.os.remove(e),s._s.delete(l.target)}function X_(r,e,i){const s=be(r);let l=Ae.min(),c=Oe();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(p,y,E){const A=be(p),D=A._s.get(E);return D!==void 0?J.resolve(A.os.get(D)):A.Ur.getTargetData(y,E)})(s,f,ei(e)).next((g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,s.Ur.getMatchingKeysForTargetId(f,g.targetId).next((p=>{c=p}))})).next((()=>s.ss.getDocumentsMatchingQuery(f,e,i?l:Ae.min(),i?c:Oe()))).next((g=>(mR(s,rw(e),g),{documents:g,Ts:c})))))}function mR(r,e,i){let s=r.us.get(e)||Ae.min();i.forEach(((l,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)})),r.us.set(e,s)}class $_{constructor(){this.activeTargetIds=cw()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class gR{constructor(){this.so=new $_,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,i,s){this.oo[e]=i}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new $_,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z_{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ue("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){ue("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ac=null;function _d(){return ac===null?ac=(function(){return 268435456+Math.round(2147483648*Math.random())})():ac++,"0x"+ac.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ft="WebChannelConnection";class vR extends class{constructor(i){this.databaseInfo=i,this.databaseId=i.databaseId;const s=i.ssl?"https":"http",l=encodeURIComponent(this.databaseId.projectId),c=encodeURIComponent(this.databaseId.database);this.Do=s+"://"+i.host,this.vo=`projects/${l}/databases/${c}`,this.Co=this.databaseId.database==="(default)"?`project_id=${l}`:`project_id=${l}&database_id=${c}`}get Fo(){return!1}Mo(i,s,l,c,f){const g=_d(),p=this.xo(i,s.toUriEncodedString());ue("RestConnection",`Sending RPC '${i}' ${g}:`,p,l);const y={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(y,c,f),this.No(i,p,y,l).then((E=>(ue("RestConnection",`Received RPC '${i}' ${g}: `,E),E)),(E=>{throw Ia("RestConnection",`RPC '${i}' ${g} failed with error: `,E,"url: ",p,"request:",l),E}))}Lo(i,s,l,c,f,g){return this.Mo(i,s,l,c,f)}Oo(i,s,l){i["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Pa})(),i["Content-Type"]="text/plain",this.databaseInfo.appId&&(i["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach(((c,f)=>i[f]=c)),l&&l.headers.forEach(((c,f)=>i[f]=c))}xo(i,s){const l=yR[i];return`${this.Do}/v1/${s}:${l}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,i,s,l){const c=_d();return new Promise(((f,g)=>{const p=new Qv;p.setWithCredentials(!0),p.listenOnce(Yv.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case cc.NO_ERROR:const E=p.getResponseJson();ue(Ft,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(E)),f(E);break;case cc.TIMEOUT:ue(Ft,`RPC '${e}' ${c} timed out`),g(new oe(Z.DEADLINE_EXCEEDED,"Request time out"));break;case cc.HTTP_ERROR:const A=p.getStatus();if(ue(Ft,`RPC '${e}' ${c} failed with status:`,A,"response text:",p.getResponseText()),A>0){let D=p.getResponseJson();Array.isArray(D)&&(D=D[0]);const B=D?.error;if(B&&B.status&&B.message){const X=(function(H){const se=H.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(se)>=0?se:Z.UNKNOWN})(B.status);g(new oe(X,B.message))}else g(new oe(Z.UNKNOWN,"Server responded with status "+p.getStatus()))}else g(new oe(Z.UNAVAILABLE,"Connection failed."));break;default:Ee()}}finally{ue(Ft,`RPC '${e}' ${c} completed.`)}}));const y=JSON.stringify(l);ue(Ft,`RPC '${e}' ${c} sending request:`,l),p.send(i,"POST",y,s,15)}))}Bo(e,i,s){const l=_d(),c=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=Zv(),g=$v(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Oo(p.initMessageHeaders,i,s),p.encodeInitMessageHeaders=!0;const E=c.join("");ue(Ft,`Creating RPC '${e}' stream ${l}: ${E}`,p);const A=f.createWebChannel(E,p);let D=!1,B=!1;const X=new _R({Io:H=>{B?ue(Ft,`Not sending because RPC '${e}' stream ${l} is closed:`,H):(D||(ue(Ft,`Opening RPC '${e}' stream ${l} transport.`),A.open(),D=!0),ue(Ft,`RPC '${e}' stream ${l} sending:`,H),A.send(H))},To:()=>A.close()}),j=(H,se,ee)=>{H.listen(se,(ae=>{try{ee(ae)}catch(Se){setTimeout((()=>{throw Se}),0)}}))};return j(A,il.EventType.OPEN,(()=>{B||(ue(Ft,`RPC '${e}' stream ${l} transport opened.`),X.yo())})),j(A,il.EventType.CLOSE,(()=>{B||(B=!0,ue(Ft,`RPC '${e}' stream ${l} transport closed`),X.So())})),j(A,il.EventType.ERROR,(H=>{B||(B=!0,Ia(Ft,`RPC '${e}' stream ${l} transport errored:`,H),X.So(new oe(Z.UNAVAILABLE,"The operation could not be completed")))})),j(A,il.EventType.MESSAGE,(H=>{var se;if(!B){const ee=H.data[0];Fe(!!ee);const ae=ee,Se=ae.error||((se=ae[0])===null||se===void 0?void 0:se.error);if(Se){ue(Ft,`RPC '${e}' stream ${l} received error:`,Se);const fe=Se.status;let Te=(function(R){const M=yt[R];if(M!==void 0)return bE(M)})(fe),O=Se.message;Te===void 0&&(Te=Z.INTERNAL,O="Unknown error status: "+fe+" with message "+Se.message),B=!0,X.So(new oe(Te,O)),A.close()}else ue(Ft,`RPC '${e}' stream ${l} received:`,ee),X.bo(ee)}})),j(g,Xv.STAT_EVENT,(H=>{H.stat===Od.PROXY?ue(Ft,`RPC '${e}' stream ${l} detected buffering proxy`):H.stat===Od.NOPROXY&&ue(Ft,`RPC '${e}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{X.wo()}),0),X}}function vd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gc(r){return new Dw(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kE{constructor(e,i,s=1e3,l=1.5,c=6e4){this.ui=e,this.timerId=i,this.ko=s,this.qo=l,this.Qo=c,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const i=Math.floor(this.Ko+this.zo()),s=Math.max(0,Date.now()-this.Uo),l=Math.max(0,i-s);l>0&&ue("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.Ko} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,l,(()=>(this.Uo=Date.now(),e()))),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{constructor(e,i,s,l,c,f,g,p){this.ui=e,this.Ho=s,this.Jo=l,this.connection=c,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=g,this.listener=p,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new kE(e,i)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,(()=>this.__())))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,i){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():i&&i.code===Z.RESOURCE_EXHAUSTED?(ki(i.toString()),ki("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):i&&i.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(i)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),i=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,l])=>{this.Yo===i&&this.P_(s,l)}),(s=>{e((()=>{const l=new oe(Z.UNKNOWN,"Fetching auth token failed: "+s.message);return this.I_(l)}))}))}P_(e,i){const s=this.h_(this.Yo);this.stream=this.T_(e,i),this.stream.Eo((()=>{s((()=>this.listener.Eo()))})),this.stream.Ro((()=>{s((()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,(()=>(this.r_()&&(this.state=3),Promise.resolve()))),this.listener.Ro())))})),this.stream.mo((l=>{s((()=>this.I_(l)))})),this.stream.onMessage((l=>{s((()=>++this.e_==1?this.E_(l):this.onNext(l)))}))}i_(){this.state=5,this.t_.Go((async()=>{this.state=0,this.start()}))}I_(e){return ue("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return i=>{this.ui.enqueueAndForget((()=>this.Yo===e?i():(ue("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class ER extends PE{constructor(e,i,s,l,c,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,l,f),this.serializer=c}T_(e,i){return this.connection.Bo("Listen",e,i)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const i=Mw(this.serializer,e),s=(function(c){if(!("targetChange"in c))return Ae.min();const f=c.targetChange;return f.targetIds&&f.targetIds.length?Ae.min():f.readTime?ti(f.readTime):Ae.min()})(e);return this.listener.d_(i,s)}A_(e){const i={};i.database=jd(this.serializer),i.addTarget=(function(c,f){let g;const p=f.target;if(g=Ud(p)?{documents:Uw(c,p)}:{query:kw(c,p)._t},g.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){g.resumeToken=IE(c,f.resumeToken);const y=Pd(c,f.expectedCount);y!==null&&(g.expectedCount=y)}else if(f.snapshotVersion.compareTo(Ae.min())>0){g.readTime=Ic(c,f.snapshotVersion.toTimestamp());const y=Pd(c,f.expectedCount);y!==null&&(g.expectedCount=y)}return g})(this.serializer,e);const s=Lw(this.serializer,e);s&&(i.labels=s),this.a_(i)}R_(e){const i={};i.database=jd(this.serializer),i.removeTarget=e,this.a_(i)}}class TR extends PE{constructor(e,i,s,l,c,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,l,f),this.serializer=c}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,i){return this.connection.Bo("Write",e,i)}E_(e){return Fe(!!e.streamToken),this.lastStreamToken=e.streamToken,Fe(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Fe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const i=xw(e.writeResults,e.commitTime),s=ti(e.commitTime);return this.listener.g_(s,i)}p_(){const e={};e.database=jd(this.serializer),this.a_(e)}m_(e){const i={streamToken:this.lastStreamToken,writes:e.map((s=>Vw(this.serializer,s)))};this.a_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR extends class{}{constructor(e,i,s,l){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=l,this.y_=!1}w_(){if(this.y_)throw new oe(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,i,s,l){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,f])=>this.connection.Mo(e,Ld(i,s),l,c,f))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new oe(Z.UNKNOWN,c.toString())}))}Lo(e,i,s,l,c){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,g])=>this.connection.Lo(e,Ld(i,s),l,f,g,c))).catch((f=>{throw f.name==="FirebaseError"?(f.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new oe(Z.UNKNOWN,f.toString())}))}terminate(){this.y_=!0,this.connection.terminate()}}class AR{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(ki(i),this.D_=!1):ue("OnlineStateTracker",i)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(e,i,s,l,c){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=c,this.k_._o((f=>{s.enqueueAndForget((async()=>{ws(this)&&(ue("RemoteStore","Restarting streams for network reachability change."),await(async function(p){const y=be(p);y.L_.add(4),await Cl(y),y.q_.set("Unknown"),y.L_.delete(4),await Fc(y)})(this))}))})),this.q_=new AR(s,l)}}async function Fc(r){if(ws(r))for(const e of r.B_)await e(!0)}async function Cl(r){for(const e of r.B_)await e(!1)}function LE(r,e){const i=be(r);i.N_.has(e.targetId)||(i.N_.set(e.targetId,e),mm(i)?dm(i):Ba(i).r_()&&fm(i,e))}function hm(r,e){const i=be(r),s=Ba(i);i.N_.delete(e),s.r_()&&zE(i,e),i.N_.size===0&&(s.r_()?s.o_():ws(i)&&i.q_.set("Unknown"))}function fm(r,e){if(r.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Ba(r).A_(e)}function zE(r,e){r.Q_.xe(e),Ba(r).R_(e)}function dm(r){r.Q_=new ww({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>r.N_.get(e)||null,tt:()=>r.datastore.serializer.databaseId}),Ba(r).start(),r.q_.v_()}function mm(r){return ws(r)&&!Ba(r).n_()&&r.N_.size>0}function ws(r){return be(r).L_.size===0}function jE(r){r.Q_=void 0}async function wR(r){r.q_.set("Online")}async function RR(r){r.N_.forEach(((e,i)=>{fm(r,e)}))}async function IR(r,e){jE(r),mm(r)?(r.q_.M_(e),dm(r)):r.q_.set("Unknown")}async function CR(r,e,i){if(r.q_.set("Online"),e instanceof RE&&e.state===2&&e.cause)try{await(async function(l,c){const f=c.cause;for(const g of c.targetIds)l.N_.has(g)&&(await l.remoteSyncer.rejectListen(g,f),l.N_.delete(g),l.Q_.removeTarget(g))})(r,e)}catch(s){ue("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Cc(r,s)}else if(e instanceof dc?r.Q_.Ke(e):e instanceof wE?r.Q_.He(e):r.Q_.We(e),!i.isEqual(Ae.min()))try{const s=await UE(r.localStore);i.compareTo(s)>=0&&await(function(c,f){const g=c.Q_.rt(f);return g.targetChanges.forEach(((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const E=c.N_.get(y);E&&c.N_.set(y,E.withResumeToken(p.resumeToken,f))}})),g.targetMismatches.forEach(((p,y)=>{const E=c.N_.get(p);if(!E)return;c.N_.set(p,E.withResumeToken(Bt.EMPTY_BYTE_STRING,E.snapshotVersion)),zE(c,p);const A=new Sr(E.target,p,y,E.sequenceNumber);fm(c,A)})),c.remoteSyncer.applyRemoteEvent(g)})(r,i)}catch(s){ue("RemoteStore","Failed to raise snapshot:",s),await Cc(r,s)}}async function Cc(r,e,i){if(!wl(e))throw e;r.L_.add(1),await Cl(r),r.q_.set("Offline"),i||(i=()=>UE(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ue("RemoteStore","Retrying IndexedDB access"),await i(),r.L_.delete(1),await Fc(r)}))}function BE(r,e){return e().catch((i=>Cc(r,i,e)))}async function Kc(r){const e=be(r),i=Nr(e);let s=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;DR(e);)try{const l=await fR(e.localStore,s);if(l===null){e.O_.length===0&&i.o_();break}s=l.batchId,NR(e,l)}catch(l){await Cc(e,l)}qE(e)&&HE(e)}function DR(r){return ws(r)&&r.O_.length<10}function NR(r,e){r.O_.push(e);const i=Nr(r);i.r_()&&i.V_&&i.m_(e.mutations)}function qE(r){return ws(r)&&!Nr(r).n_()&&r.O_.length>0}function HE(r){Nr(r).start()}async function OR(r){Nr(r).p_()}async function MR(r){const e=Nr(r);for(const i of r.O_)e.m_(i.mutations)}async function VR(r,e,i){const s=r.O_.shift(),l=sm.from(s,e,i);await BE(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await Kc(r)}async function xR(r,e){e&&Nr(r).V_&&await(async function(s,l){if((function(f){return Sw(f)&&f!==Z.ABORTED})(l.code)){const c=s.O_.shift();Nr(s).s_(),await BE(s,(()=>s.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Kc(s)}})(r,e),qE(r)&&HE(r)}async function W_(r,e){const i=be(r);i.asyncQueue.verifyOperationInProgress(),ue("RemoteStore","RemoteStore received new credentials");const s=ws(i);i.L_.add(3),await Cl(i),s&&i.q_.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.L_.delete(3),await Fc(i)}async function UR(r,e){const i=be(r);e?(i.L_.delete(2),await Fc(i)):e||(i.L_.add(2),await Cl(i),i.q_.set("Unknown"))}function Ba(r){return r.K_||(r.K_=(function(i,s,l){const c=be(i);return c.w_(),new ER(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Eo:wR.bind(null,r),Ro:RR.bind(null,r),mo:IR.bind(null,r),d_:CR.bind(null,r)}),r.B_.push((async e=>{e?(r.K_.s_(),mm(r)?dm(r):r.q_.set("Unknown")):(await r.K_.stop(),jE(r))}))),r.K_}function Nr(r){return r.U_||(r.U_=(function(i,s,l){const c=be(i);return c.w_(),new TR(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Eo:()=>Promise.resolve(),Ro:OR.bind(null,r),mo:xR.bind(null,r),f_:MR.bind(null,r),g_:VR.bind(null,r)}),r.B_.push((async e=>{e?(r.U_.s_(),await Kc(r)):(await r.U_.stop(),r.O_.length>0&&(ue("RemoteStore",`Stopping write stream with ${r.O_.length} pending writes`),r.O_=[]))}))),r.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm{constructor(e,i,s,l,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=l,this.removalCallback=c,this.deferred=new Rr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,l,c){const f=Date.now()+s,g=new gm(e,i,f,l,c);return g.start(s),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new oe(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function pm(r,e){if(ki("AsyncQueue",`${e}: ${r}`),wl(r))return new oe(Z.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(e){this.comparator=e?(i,s)=>e(i,s)||de.comparator(i.key,s.key):(i,s)=>de.comparator(i.key,s.key),this.keyedMap=rl(),this.sortedSet=new it(this.comparator)}static emptySet(e){return new Sa(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,s)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Sa)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=s.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new Sa;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J_{constructor(){this.W_=new it(de.comparator)}track(e){const i=e.doc.key,s=this.W_.get(i);s?e.type!==0&&s.type===3?this.W_=this.W_.insert(i,e):e.type===3&&s.type!==1?this.W_=this.W_.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.W_=this.W_.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.W_=this.W_.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.W_=this.W_.remove(i):e.type===1&&s.type===2?this.W_=this.W_.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.W_=this.W_.insert(i,{type:2,doc:e.doc}):Ee():this.W_=this.W_.insert(i,e)}G_(){const e=[];return this.W_.inorderTraversal(((i,s)=>{e.push(s)})),e}}class Ma{constructor(e,i,s,l,c,f,g,p,y){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=c,this.fromCache=f,this.syncStateChanged=g,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,i,s,l,c){const f=[];return i.forEach((g=>{f.push({type:0,doc:g})})),new Ma(e,i,Sa.emptySet(i),f,s,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&zc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==s[l].type||!i[l].doc.isEqual(s[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some((e=>e.J_()))}}class PR{constructor(){this.queries=ev(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(i,s){const l=be(i),c=l.queries;l.queries=ev(),c.forEach(((f,g)=>{for(const p of g.j_)p.onError(s)}))})(this,new oe(Z.ABORTED,"Firestore shutting down"))}}function ev(){return new ja((r=>hE(r)),zc)}async function LR(r,e){const i=be(r);let s=3;const l=e.query;let c=i.queries.get(l);c?!c.H_()&&e.J_()&&(s=2):(c=new kR,s=e.J_()?0:1);try{switch(s){case 0:c.z_=await i.onListen(l,!0);break;case 1:c.z_=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(f){const g=pm(f,`Initialization of query '${_a(e.query)}' failed`);return void e.onError(g)}i.queries.set(l,c),c.j_.push(e),e.Z_(i.onlineState),c.z_&&e.X_(c.z_)&&ym(i)}async function zR(r,e){const i=be(r),s=e.query;let l=3;const c=i.queries.get(s);if(c){const f=c.j_.indexOf(e);f>=0&&(c.j_.splice(f,1),c.j_.length===0?l=e.J_()?0:1:!c.H_()&&e.J_()&&(l=2))}switch(l){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function jR(r,e){const i=be(r);let s=!1;for(const l of e){const c=l.query,f=i.queries.get(c);if(f){for(const g of f.j_)g.X_(l)&&(s=!0);f.z_=l}}s&&ym(i)}function BR(r,e,i){const s=be(r),l=s.queries.get(e);if(l)for(const c of l.j_)c.onError(i);s.queries.delete(e)}function ym(r){r.Y_.forEach((e=>{e.next()}))}var qd,tv;(tv=qd||(qd={})).ea="default",tv.Cache="cache";class qR{constructor(e,i,s){this.query=e,this.ta=i,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=s||{}}X_(e){if(!this.options.includeMetadataChanges){const s=[];for(const l of e.docChanges)l.type!==3&&s.push(l);e=new Ma(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.na?this.ia(e)&&(this.ta.next(e),i=!0):this.sa(e,this.onlineState)&&(this.oa(e),i=!0),this.ra=e,i}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let i=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),i=!0),i}sa(e,i){if(!e.fromCache||!this.J_())return!0;const s=i!=="Offline";return(!this.options._a||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const i=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}oa(e){e=Ma.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==qd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{constructor(e){this.key=e}}class FE{constructor(e){this.key=e}}class HR{constructor(e,i){this.query=e,this.Ta=i,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Oe(),this.mutatedKeys=Oe(),this.Aa=fE(e),this.Ra=new Sa(this.Aa)}get Va(){return this.Ta}ma(e,i){const s=i?i.fa:new J_,l=i?i.Ra:this.Ra;let c=i?i.mutatedKeys:this.mutatedKeys,f=l,g=!1;const p=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((E,A)=>{const D=l.get(E),B=jc(this.query,A)?A:null,X=!!D&&this.mutatedKeys.has(D.key),j=!!B&&(B.hasLocalMutations||this.mutatedKeys.has(B.key)&&B.hasCommittedMutations);let H=!1;D&&B?D.data.isEqual(B.data)?X!==j&&(s.track({type:3,doc:B}),H=!0):this.ga(D,B)||(s.track({type:2,doc:B}),H=!0,(p&&this.Aa(B,p)>0||y&&this.Aa(B,y)<0)&&(g=!0)):!D&&B?(s.track({type:0,doc:B}),H=!0):D&&!B&&(s.track({type:1,doc:D}),H=!0,(p||y)&&(g=!0)),H&&(B?(f=f.add(B),c=j?c.add(E):c.delete(E)):(f=f.delete(E),c=c.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),c=c.delete(E.key),s.track({type:1,doc:E})}return{Ra:f,fa:s,ns:g,mutatedKeys:c}}ga(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,l){const c=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const f=e.fa.G_();f.sort(((E,A)=>(function(B,X){const j=H=>{switch(H){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee()}};return j(B)-j(X)})(E.type,A.type)||this.Aa(E.doc,A.doc))),this.pa(s),l=l!=null&&l;const g=i&&!l?this.ya():[],p=this.da.size===0&&this.current&&!l?1:0,y=p!==this.Ea;return this.Ea=p,f.length!==0||y?{snapshot:new Ma(this.query,e.Ra,c,f,e.mutatedKeys,p===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),wa:g}:{wa:g}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new J_,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach((i=>this.Ta=this.Ta.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ta=this.Ta.delete(i))),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Oe(),this.Ra.forEach((s=>{this.Sa(s.key)&&(this.da=this.da.add(s.key))}));const i=[];return e.forEach((s=>{this.da.has(s)||i.push(new FE(s))})),this.da.forEach((s=>{e.has(s)||i.push(new GE(s))})),i}ba(e){this.Ta=e.Ts,this.da=Oe();const i=this.ma(e.documents);return this.applyChanges(i,!0)}Da(){return Ma.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class GR{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class FR{constructor(e){this.key=e,this.va=!1}}class KR{constructor(e,i,s,l,c,f){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=f,this.Ca={},this.Fa=new ja((g=>hE(g)),zc),this.Ma=new Map,this.xa=new Set,this.Oa=new it(de.comparator),this.Na=new Map,this.La=new lm,this.Ba={},this.ka=new Map,this.qa=Oa.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function QR(r,e,i=!0){const s=ZE(r);let l;const c=s.Fa.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.Da()):l=await KE(s,e,i,!0),l}async function YR(r,e){const i=ZE(r);await KE(i,e,!0,!1)}async function KE(r,e,i,s){const l=await dR(r.localStore,ei(e)),c=l.targetId,f=r.sharedClientState.addLocalQueryTarget(c,i);let g;return s&&(g=await XR(r,e,c,f==="current",l.resumeToken)),r.isPrimaryClient&&i&&LE(r.remoteStore,l),g}async function XR(r,e,i,s,l){r.Ka=(A,D,B)=>(async function(j,H,se,ee){let ae=H.view.ma(se);ae.ns&&(ae=await X_(j.localStore,H.query,!1).then((({documents:O})=>H.view.ma(O,ae))));const Se=ee&&ee.targetChanges.get(H.targetId),fe=ee&&ee.targetMismatches.get(H.targetId)!=null,Te=H.view.applyChanges(ae,j.isPrimaryClient,Se,fe);return iv(j,H.targetId,Te.wa),Te.snapshot})(r,A,D,B);const c=await X_(r.localStore,e,!0),f=new HR(e,c.Ts),g=f.ma(c.documents),p=Il.createSynthesizedTargetChangeForCurrentChange(i,s&&r.onlineState!=="Offline",l),y=f.applyChanges(g,r.isPrimaryClient,p);iv(r,i,y.wa);const E=new GR(e,i,f);return r.Fa.set(e,E),r.Ma.has(i)?r.Ma.get(i).push(e):r.Ma.set(i,[e]),y.snapshot}async function $R(r,e,i){const s=be(r),l=s.Fa.get(e),c=s.Ma.get(l.targetId);if(c.length>1)return s.Ma.set(l.targetId,c.filter((f=>!zc(f,e)))),void s.Fa.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await Bd(s.localStore,l.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(l.targetId),i&&hm(s.remoteStore,l.targetId),Hd(s,l.targetId)})).catch(bl)):(Hd(s,l.targetId),await Bd(s.localStore,l.targetId,!0))}async function ZR(r,e){const i=be(r),s=i.Fa.get(e),l=i.Ma.get(s.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),hm(i.remoteStore,s.targetId))}async function WR(r,e,i){const s=s1(r);try{const l=await(function(f,g){const p=be(f),y=lt.now(),E=g.reduce(((B,X)=>B.add(X.key)),Oe());let A,D;return p.persistence.runTransaction("Locally write mutations","readwrite",(B=>{let X=Pi(),j=Oe();return p.cs.getEntries(B,E).next((H=>{X=H,X.forEach(((se,ee)=>{ee.isValidDocument()||(j=j.add(se))}))})).next((()=>p.localDocuments.getOverlayedDocuments(B,X))).next((H=>{A=H;const se=[];for(const ee of g){const ae=yw(ee,A.get(ee.key).overlayedDocument);ae!=null&&se.push(new bs(ee.key,ae,nE(ae.value.mapValue),xi.exists(!0)))}return p.mutationQueue.addMutationBatch(B,y,se,g)})).next((H=>{D=H;const se=H.applyToLocalDocumentSet(A,j);return p.documentOverlayCache.saveOverlays(B,H.batchId,se)}))})).then((()=>({batchId:D.batchId,changes:mE(A)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(l.batchId),(function(f,g,p){let y=f.Ba[f.currentUser.toKey()];y||(y=new it(Le)),y=y.insert(g,p),f.Ba[f.currentUser.toKey()]=y})(s,l.batchId,i),await Dl(s,l.changes),await Kc(s.remoteStore)}catch(l){const c=pm(l,"Failed to persist write");i.reject(c)}}async function QE(r,e){const i=be(r);try{const s=await cR(i.localStore,e);e.targetChanges.forEach(((l,c)=>{const f=i.Na.get(c);f&&(Fe(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?f.va=!0:l.modifiedDocuments.size>0?Fe(f.va):l.removedDocuments.size>0&&(Fe(f.va),f.va=!1))})),await Dl(i,s,e)}catch(s){await bl(s)}}function nv(r,e,i){const s=be(r);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const l=[];s.Fa.forEach(((c,f)=>{const g=f.view.Z_(e);g.snapshot&&l.push(g.snapshot)})),(function(f,g){const p=be(f);p.onlineState=g;let y=!1;p.queries.forEach(((E,A)=>{for(const D of A.j_)D.Z_(g)&&(y=!0)})),y&&ym(p)})(s.eventManager,e),l.length&&s.Ca.d_(l),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function JR(r,e,i){const s=be(r);s.sharedClientState.updateQueryState(e,"rejected",i);const l=s.Na.get(e),c=l&&l.key;if(c){let f=new it(de.comparator);f=f.insert(c,Qt.newNoDocument(c,Ae.min()));const g=Oe().add(c),p=new Hc(Ae.min(),new Map,new it(Le),f,g);await QE(s,p),s.Oa=s.Oa.remove(c),s.Na.delete(e),_m(s)}else await Bd(s.localStore,e,!1).then((()=>Hd(s,e,i))).catch(bl)}async function e1(r,e){const i=be(r),s=e.batch.batchId;try{const l=await uR(i.localStore,e);XE(i,s,null),YE(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await Dl(i,l)}catch(l){await bl(l)}}async function t1(r,e,i){const s=be(r);try{const l=await(function(f,g){const p=be(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let E;return p.mutationQueue.lookupMutationBatch(y,g).next((A=>(Fe(A!==null),E=A.keys(),p.mutationQueue.removeMutationBatch(y,A)))).next((()=>p.mutationQueue.performConsistencyCheck(y))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(y,E,g))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E))).next((()=>p.localDocuments.getDocuments(y,E)))}))})(s.localStore,e);XE(s,e,i),YE(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await Dl(s,l)}catch(l){await bl(l)}}function YE(r,e){(r.ka.get(e)||[]).forEach((i=>{i.resolve()})),r.ka.delete(e)}function XE(r,e,i){const s=be(r);let l=s.Ba[s.currentUser.toKey()];if(l){const c=l.get(e);c&&(i?c.reject(i):c.resolve(),l=l.remove(e)),s.Ba[s.currentUser.toKey()]=l}}function Hd(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Ma.get(e))r.Fa.delete(s),i&&r.Ca.$a(s,i);r.Ma.delete(e),r.isPrimaryClient&&r.La.gr(e).forEach((s=>{r.La.containsKey(s)||$E(r,s)}))}function $E(r,e){r.xa.delete(e.path.canonicalString());const i=r.Oa.get(e);i!==null&&(hm(r.remoteStore,i),r.Oa=r.Oa.remove(e),r.Na.delete(i),_m(r))}function iv(r,e,i){for(const s of i)s instanceof GE?(r.La.addReference(s.key,e),n1(r,s)):s instanceof FE?(ue("SyncEngine","Document no longer in limbo: "+s.key),r.La.removeReference(s.key,e),r.La.containsKey(s.key)||$E(r,s.key)):Ee()}function n1(r,e){const i=e.key,s=i.path.canonicalString();r.Oa.get(i)||r.xa.has(s)||(ue("SyncEngine","New document in limbo: "+i),r.xa.add(s),_m(r))}function _m(r){for(;r.xa.size>0&&r.Oa.size<r.maxConcurrentLimboResolutions;){const e=r.xa.values().next().value;r.xa.delete(e);const i=new de(Je.fromString(e)),s=r.qa.next();r.Na.set(s,new FR(i)),r.Oa=r.Oa.insert(i,s),LE(r.remoteStore,new Sr(ei(uE(i.path)),s,"TargetPurposeLimboResolution",Wd.oe))}}async function Dl(r,e,i){const s=be(r),l=[],c=[],f=[];s.Fa.isEmpty()||(s.Fa.forEach(((g,p)=>{f.push(s.Ka(p,e,i).then((y=>{var E;if((y||i)&&s.isPrimaryClient){const A=y?!y.fromCache:(E=i?.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(p.targetId,A?"current":"not-current")}if(y){l.push(y);const A=cm.Wi(p.targetId,y);c.push(A)}})))})),await Promise.all(f),s.Ca.d_(l),await(async function(p,y){const E=be(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>J.forEach(y,(D=>J.forEach(D.$i,(B=>E.persistence.referenceDelegate.addReference(A,D.targetId,B))).next((()=>J.forEach(D.Ui,(B=>E.persistence.referenceDelegate.removeReference(A,D.targetId,B)))))))))}catch(A){if(!wl(A))throw A;ue("LocalStore","Failed to update sequence numbers: "+A)}for(const A of y){const D=A.targetId;if(!A.fromCache){const B=E.os.get(D),X=B.snapshotVersion,j=B.withLastLimboFreeSnapshotVersion(X);E.os=E.os.insert(D,j)}}})(s.localStore,c))}async function i1(r,e){const i=be(r);if(!i.currentUser.isEqual(e)){ue("SyncEngine","User change. New user:",e.toKey());const s=await xE(i.localStore,e);i.currentUser=e,(function(c,f){c.ka.forEach((g=>{g.forEach((p=>{p.reject(new oe(Z.CANCELLED,f))}))})),c.ka.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Dl(i,s.hs)}}function r1(r,e){const i=be(r),s=i.Na.get(e);if(s&&s.va)return Oe().add(s.key);{let l=Oe();const c=i.Ma.get(e);if(!c)return l;for(const f of c){const g=i.Fa.get(f);l=l.unionWith(g.view.Va)}return l}}function ZE(r){const e=be(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=QE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=r1.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=JR.bind(null,e),e.Ca.d_=jR.bind(null,e.eventManager),e.Ca.$a=BR.bind(null,e.eventManager),e}function s1(r){const e=be(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=e1.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=t1.bind(null,e),e}class Dc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Gc(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,i){return null}Ha(e,i){return null}za(e){return lR(this.persistence,new aR,e.initialUser,this.serializer)}Ga(e){return new iR(um.Zr,this.serializer)}Wa(e){return new gR}async terminate(){var e,i;(e=this.gcScheduler)===null||e===void 0||e.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Dc.provider={build:()=>new Dc};class Gd{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>nv(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=i1.bind(null,this.syncEngine),await UR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new PR})()}createDatastore(e){const i=Gc(e.databaseInfo.databaseId),s=(function(c){return new vR(c)})(e.databaseInfo);return(function(c,f,g,p){return new SR(c,f,g,p)})(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return(function(s,l,c,f,g){return new bR(s,l,c,f,g)})(this.localStore,this.datastore,e.asyncQueue,(i=>nv(this.syncEngine,i,0)),(function(){return Z_.D()?new Z_:new pR})())}createSyncEngine(e,i){return(function(l,c,f,g,p,y,E){const A=new KR(l,c,f,g,p,y);return E&&(A.Qa=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await(async function(l){const c=be(l);ue("RemoteStore","RemoteStore shutting down."),c.L_.add(5),await Cl(c),c.k_.shutdown(),c.q_.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}Gd.provider={build:()=>new Gd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):ki("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{constructor(e,i,s,l,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=l,this.user=Kt.UNAUTHENTICATED,this.clientId=Jv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,(async f=>{ue("FirestoreClient","Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(ue("FirestoreClient","Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Rr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=pm(i,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Ed(r,e){r.asyncQueue.verifyOperationInProgress(),ue("FirestoreClient","Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let s=i.initialUser;r.setCredentialChangeListener((async l=>{s.isEqual(l)||(await xE(e.localStore,l),s=l)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function rv(r,e){r.asyncQueue.verifyOperationInProgress();const i=await l1(r);ue("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener((s=>W_(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,l)=>W_(e.remoteStore,l))),r._onlineComponents=e}async function l1(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ue("FirestoreClient","Using user provided OfflineComponentProvider");try{await Ed(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(l){return l.name==="FirebaseError"?l.code===Z.FAILED_PRECONDITION||l.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;Ia("Error using user provided cache. Falling back to memory cache: "+i),await Ed(r,new Dc)}}else ue("FirestoreClient","Using default OfflineComponentProvider"),await Ed(r,new Dc);return r._offlineComponents}async function WE(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ue("FirestoreClient","Using user provided OnlineComponentProvider"),await rv(r,r._uninitializedComponentsProvider._online)):(ue("FirestoreClient","Using default OnlineComponentProvider"),await rv(r,new Gd))),r._onlineComponents}function u1(r){return WE(r).then((e=>e.syncEngine))}async function c1(r){const e=await WE(r),i=e.eventManager;return i.onListen=QR.bind(null,e.syncEngine),i.onUnlisten=$R.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=YR.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=ZR.bind(null,e.syncEngine),i}function h1(r,e,i={}){const s=new Rr;return r.asyncQueue.enqueueAndForget((async()=>(function(c,f,g,p,y){const E=new a1({next:D=>{E.Za(),f.enqueueAndForget((()=>zR(c,A))),D.fromCache&&p.source==="server"?y.reject(new oe(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(D)},error:D=>y.reject(D)}),A=new qR(g,E,{includeMetadataChanges:!0,_a:!0});return LR(c,A)})(await c1(r),r.asyncQueue,e,i,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JE(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e0(r,e,i){if(!i)throw new oe(Z.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function f1(r,e,i,s){if(e===!0&&s===!0)throw new oe(Z.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function av(r){if(!de.isDocumentKey(r))throw new oe(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function ov(r){if(de.isDocumentKey(r))throw new oe(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Qc(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ee()}function Nc(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new oe(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Qc(r);throw new oe(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}function d1(r,e){if(e<=0)throw new oe(Z.INVALID_ARGUMENT,`Function ${r}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lv{constructor(e){var i,s;if(e.host===void 0){if(e.ssl!==void 0)throw new oe(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(i=e.ssl)===null||i===void 0||i;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new oe(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}f1("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=JE((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),(function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new oe(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new oe(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new oe(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,l){return s.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Yc{constructor(e,i,s,l){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new lv({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new oe(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new oe(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new lv(e),e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new Rb;switch(s.type){case"firstParty":return new Nb(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new oe(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const s=sv.get(i);s&&(ue("ComponentProvider","Removing Datastore"),sv.delete(i),s.terminate())})(this),Promise.resolve()}}function m1(r,e,i,s={}){var l;const c=(r=Nc(r,Yc))._getSettings(),f=`${e}:${i}`;if(c.host!=="firestore.googleapis.com"&&c.host!==f&&Ia("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},c),{host:f,ssl:!1})),s.mockUserToken){let g,p;if(typeof s.mockUserToken=="string")g=s.mockUserToken,p=Kt.MOCK_USER;else{g=nA(s.mockUserToken,(l=r._app)===null||l===void 0?void 0:l.options.projectId);const y=s.mockUserToken.sub||s.mockUserToken.user_id;if(!y)throw new oe(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Kt(y)}r._authCredentials=new Ib(new Wv(g,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Or(this.firestore,e,this._query)}}class Rn{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ir(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Rn(this.firestore,e,this._key)}}class Ir extends Or{constructor(e,i,s){super(e,i,uE(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Rn(this.firestore,null,new de(e))}withConverter(e){return new Ir(this.firestore,e,this._path)}}function Xc(r,e,...i){if(r=In(r),e0("collection","path",e),r instanceof Yc){const s=Je.fromString(e,...i);return ov(s),new Ir(r,null,s)}{if(!(r instanceof Rn||r instanceof Ir))throw new oe(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Je.fromString(e,...i));return ov(s),new Ir(r.firestore,null,s)}}function g1(r,e,...i){if(r=In(r),arguments.length===1&&(e=Jv.newId()),e0("doc","path",e),r instanceof Yc){const s=Je.fromString(e,...i);return av(s),new Rn(r,null,new de(s))}{if(!(r instanceof Rn||r instanceof Ir))throw new oe(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Je.fromString(e,...i));return av(s),new Rn(r.firestore,r instanceof Ir?r.converter:null,new de(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new kE(this,"async_queue_retry"),this.Vu=()=>{const s=vd();s&&ue("AsyncQueue","Visibility state changed to "+s.visibilityState),this.t_.jo()},this.mu=e;const i=vd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const i=vd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise((()=>{}));const i=new Rr;return this.gu((()=>this.Iu&&this.Au?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Pu.push(e),this.pu())))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!wl(e))throw e;ue("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go((()=>this.pu()))}}gu(e){const i=this.mu.then((()=>(this.du=!0,e().catch((s=>{this.Eu=s,this.du=!1;const l=(function(f){let g=f.message||"";return f.stack&&(g=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),g})(s);throw ki("INTERNAL UNHANDLED ERROR: ",l),s})).then((s=>(this.du=!1,s))))));return this.mu=i,i}enqueueAfterDelay(e,i,s){this.fu(),this.Ru.indexOf(e)>-1&&(i=0);const l=gm.createAndSchedule(this,e,i,s,(c=>this.yu(c)));return this.Tu.push(l),l}fu(){this.Eu&&Ee()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const i of this.Tu)if(i.timerId===e)return!0;return!1}bu(e){return this.wu().then((()=>{this.Tu.sort(((i,s)=>i.targetTimeMs-s.targetTimeMs));for(const i of this.Tu)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.wu()}))}Du(e){this.Ru.push(e)}yu(e){const i=this.Tu.indexOf(e);this.Tu.splice(i,1)}}class vm extends Yc{constructor(e,i,s,l){super(e,i,s,l),this.type="firestore",this._queue=new uv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new uv(e),this._firestoreClient=void 0,await e}}}function p1(r,e){const i=typeof r=="object"?r:Hv(),s=typeof r=="string"?r:"(default)",l=$d(i,"firestore").getImmediate({identifier:s});if(!l._initialized){const c=eA("firestore");c&&m1(l,...c)}return l}function t0(r){if(r._terminated)throw new oe(Z.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||y1(r),r._firestoreClient}function y1(r){var e,i,s;const l=r._freezeSettings(),c=(function(g,p,y,E){return new Hb(g,p,y,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,JE(E.experimentalLongPollingOptions),E.useFetchStreams)})(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,l);r._componentsProvider||!((i=l.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((s=l.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider}),r._firestoreClient=new o1(r._authCredentials,r._appCheckCredentials,r._queue,c,r._componentsProvider&&(function(g){const p=g?._online.build();return{_offline:g?._offline.build(p),_online:p}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Va(Bt.fromBase64String(e))}catch(i){throw new oe(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Va(Bt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new oe(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new zt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new oe(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new oe(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Le(this._lat,e._lat)||Le(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,l){if(s.length!==l.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==l[c])return!1;return!0})(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _1=/^__.*__$/;class v1{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new bs(e,this.data,this.fieldMask,i,this.fieldTransforms):new Rl(e,this.data,i,this.fieldTransforms)}}function i0(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee()}}class Am{constructor(e,i,s,l,c,f){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=l,c===void 0&&this.vu(),this.fieldTransforms=c||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Am(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(e),l=this.Fu({path:s,xu:!1});return l.Ou(e),l}Nu(e){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(e),l=this.Fu({path:s,xu:!1});return l.vu(),l}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Oc(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(i0(this.Cu)&&_1.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class E1{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||Gc(e)}Qu(e,i,s,l=!1){return new Am({Cu:e,methodName:i,qu:s,path:zt.emptyPath(),xu:!1,ku:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function r0(r){const e=r._freezeSettings(),i=Gc(r._databaseId);return new E1(r._databaseId,!!e.ignoreUndefinedProperties,i)}function T1(r,e,i,s,l,c={}){const f=r.Qu(c.merge||c.mergeFields?2:0,e,i,l);o0("Data must be an object, but it was:",f,s);const g=s0(s,f);let p,y;if(c.merge)p=new xn(f.fieldMask),y=f.fieldTransforms;else if(c.mergeFields){const E=[];for(const A of c.mergeFields){const D=A1(e,A,i);if(!f.contains(D))throw new oe(Z.INVALID_ARGUMENT,`Field '${D}' is specified in your field mask but missing from your input data.`);w1(E,D)||E.push(D)}p=new xn(E),y=f.fieldTransforms.filter((A=>p.covers(A.field)))}else p=null,y=f.fieldTransforms;return new v1(new wn(g),p,y)}function S1(r,e,i,s=!1){return bm(i,r.Qu(s?4:3,e))}function bm(r,e){if(a0(r=In(r)))return o0("Unsupported field value:",e,r),s0(r,e);if(r instanceof n0)return(function(s,l){if(!i0(l.Cu))throw l.Bu(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Bu(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return(function(s,l){const c=[];let f=0;for(const g of s){let p=bm(g,l.Lu(f));p==null&&(p={nullValue:"NULL_VALUE"}),c.push(p),f++}return{arrayValue:{values:c}}})(r,e)}return(function(s,l){if((s=In(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return hw(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=lt.fromDate(s);return{timestampValue:Ic(l.serializer,c)}}if(s instanceof lt){const c=new lt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Ic(l.serializer,c)}}if(s instanceof Tm)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Va)return{bytesValue:IE(l.serializer,s._byteString)};if(s instanceof Rn){const c=l.databaseId,f=s.firestore._databaseId;if(!f.isEqual(c))throw l.Bu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:om(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof Sm)return(function(f,g){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:f.toArray().map((p=>{if(typeof p!="number")throw g.Bu("VectorValues must only contain numeric values.");return rm(g.serializer,p)}))}}}}}})(s,l);throw l.Bu(`Unsupported field value: ${Qc(s)}`)})(r,e)}function s0(r,e){const i={};return eE(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):La(r,((s,l)=>{const c=bm(l,e.Mu(s));c!=null&&(i[s]=c)})),{mapValue:{fields:i}}}function a0(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof lt||r instanceof Tm||r instanceof Va||r instanceof Rn||r instanceof n0||r instanceof Sm)}function o0(r,e,i){if(!a0(i)||!(function(l){return typeof l=="object"&&l!==null&&(Object.getPrototypeOf(l)===Object.prototype||Object.getPrototypeOf(l)===null)})(i)){const s=Qc(i);throw s==="an object"?e.Bu(r+" a custom object"):e.Bu(r+" "+s)}}function A1(r,e,i){if((e=In(e))instanceof Em)return e._internalPath;if(typeof e=="string")return l0(r,e);throw Oc("Field path arguments must be of type string or ",r,!1,void 0,i)}const b1=new RegExp("[~\\*/\\[\\]]");function l0(r,e,i){if(e.search(b1)>=0)throw Oc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Em(...e.split("."))._internalPath}catch{throw Oc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function Oc(r,e,i,s,l){const c=s&&!s.isEmpty(),f=l!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let p="";return(c||f)&&(p+=" (found",c&&(p+=` in field ${s}`),f&&(p+=` in document ${l}`),p+=")"),new oe(Z.INVALID_ARGUMENT,g+r+p)}function w1(r,e){return r.some((i=>i.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0{constructor(e,i,s,l,c){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Rn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new R1(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field($c("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class R1 extends u0{data(){return super.data()}}function $c(r,e){return typeof e=="string"?l0(r,e):e instanceof Em?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I1(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new oe(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class wm{}class Rm extends wm{}function Im(r,e,...i){let s=[];e instanceof wm&&s.push(e),s=s.concat(i),(function(c){const f=c.filter((p=>p instanceof Cm)).length,g=c.filter((p=>p instanceof Zc)).length;if(f>1||f>0&&g>0)throw new oe(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const l of s)r=l._apply(r);return r}class Zc extends Rm{constructor(e,i,s){super(),this._field=e,this._op=i,this._value=s,this.type="where"}static _create(e,i,s){return new Zc(e,i,s)}_apply(e){const i=this._parse(e);return h0(e._query,i),new Or(e.firestore,e.converter,kd(e._query,i))}_parse(e){const i=r0(e.firestore);return(function(c,f,g,p,y,E,A){let D;if(y.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new oe(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){hv(A,E);const B=[];for(const X of A)B.push(cv(p,c,X));D={arrayValue:{values:B}}}else D=cv(p,c,A)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||hv(A,E),D=S1(g,f,A,E==="in"||E==="not-in");return _t.create(y,E,D)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}function c0(r,e,i){const s=e,l=$c("where",r);return Zc._create(l,s,i)}class Cm extends wm{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new Cm(e,i)}_parse(e){const i=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return i.length===1?i[0]:Un.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(l,c){let f=l;const g=c.getFlattenedFilters();for(const p of g)h0(f,p),f=kd(f,p)})(e._query,i),new Or(e.firestore,e.converter,kd(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Dm extends Rm{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new Dm(e,i)}_apply(e){const i=(function(l,c,f){if(l.startAt!==null)throw new oe(Z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new oe(Z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new yl(c,f)})(e._query,this._field,this._direction);return new Or(e.firestore,e.converter,(function(l,c){const f=l.explicitOrderBy.concat([c]);return new za(l.path,l.collectionGroup,f,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)})(e._query,i))}}function Nm(r,e="asc"){const i=e,s=$c("orderBy",r);return Dm._create(s,i)}class Om extends Rm{constructor(e,i,s){super(),this.type=e,this._limit=i,this._limitType=s}static _create(e,i,s){return new Om(e,i,s)}_apply(e){return new Or(e.firestore,e.converter,bc(e._query,this._limit,this._limitType))}}function Mm(r){return d1("limit",r),Om._create("limit",r,"F")}function cv(r,e,i){if(typeof(i=In(i))=="string"){if(i==="")throw new oe(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!cE(e)&&i.indexOf("/")!==-1)throw new oe(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const s=e.path.child(Je.fromString(i));if(!de.isDocumentKey(s))throw new oe(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return M_(r,new de(s))}if(i instanceof Rn)return M_(r,i._key);throw new oe(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Qc(i)}.`)}function hv(r,e){if(!Array.isArray(r)||r.length===0)throw new oe(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function h0(r,e){const i=(function(l,c){for(const f of l)for(const g of f.getFlattenedFilters())if(c.indexOf(g.op)>=0)return g.op;return null})(r.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new oe(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new oe(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class C1{convertValue(e,i="none"){switch(Ss(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ft(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Ts(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee()}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return La(e,((l,c)=>{s[l]=this.convertValue(c,i)})),s}convertVectorValue(e){var i,s,l;const c=(l=(s=(i=e.fields)===null||i===void 0?void 0:i.value.arrayValue)===null||s===void 0?void 0:s.values)===null||l===void 0?void 0:l.map((f=>ft(f.doubleValue)));return new Sm(c)}convertGeoPoint(e){return new Tm(ft(e.latitude),ft(e.longitude))}convertArray(e,i){return(e.values||[]).map((s=>this.convertValue(s,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const s=em(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(ml(e));default:return null}}convertTimestamp(e){const i=Dr(e);return new lt(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=Je.fromString(e);Fe(VE(s));const l=new gl(s.get(1),s.get(3)),c=new de(s.popFirst(5));return l.isEqual(i)||ki(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D1(r,e,i){let s;return s=r?r.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class N1 extends u0{constructor(e,i,s,l,c,f){super(e,i,s,l,f),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new mc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field($c("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}}class mc extends N1{data(e={}){return super.data(e)}}class O1{constructor(e,i,s,l){this._firestore=e,this._userDataWriter=i,this._snapshot=l,this.metadata=new oc(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((s=>{e.call(i,new mc(this._firestore,this._userDataWriter,s.key,s,new oc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new oe(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let f=0;return l._snapshot.docChanges.map((g=>{const p=new mc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new oc(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}}))}{let f=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const p=new mc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new oc(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,E=-1;return g.type!==0&&(y=f.indexOf(g.doc.key),f=f.delete(g.doc.key)),g.type!==1&&(f=f.add(g.doc),E=f.indexOf(g.doc.key)),{type:M1(g.type),doc:p,oldIndex:y,newIndex:E}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function M1(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee()}}class V1 extends C1{constructor(e){super(),this.firestore=e}convertBytes(e){return new Va(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Rn(this.firestore,null,i)}}function Vm(r){r=Nc(r,Or);const e=Nc(r.firestore,vm),i=t0(e),s=new V1(e);return I1(r._query),h1(i,r._query).then((l=>new O1(e,s,r,l)))}function x1(r,e){const i=Nc(r.firestore,vm),s=g1(r),l=D1(r.converter,e);return U1(i,[T1(r0(r.firestore),"addDoc",s._key,l,r.converter!==null,{}).toMutation(s._key,xi.exists(!1))]).then((()=>s))}function U1(r,e){return(function(s,l){const c=new Rr;return s.asyncQueue.enqueueAndForget((async()=>WR(await u1(s),l,c))),c.promise})(t0(r),e)}(function(e,i=!0){(function(l){Pa=l})(ka),Ra(new vs("firestore",((s,{instanceIdentifier:l,options:c})=>{const f=s.getProvider("app").getImmediate(),g=new vm(new Cb(s.getProvider("auth-internal")),new Mb(s.getProvider("app-check-internal")),(function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new oe(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new gl(y.options.projectId,E)})(f,l),f);return c=Object.assign({useFetchStreams:i},c),g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),wr(I_,"4.7.3",e),wr(I_,"4.7.3","esm2017")})();var k1="firebase",P1="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wr(k1,P1,"app");function xm(r,e){var i={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(i[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,s=Object.getOwnPropertySymbols(r);l<s.length;l++)e.indexOf(s[l])<0&&Object.prototype.propertyIsEnumerable.call(r,s[l])&&(i[s[l]]=r[s[l]]);return i}function f0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const L1=f0,d0=new Sl("auth","Firebase",f0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mc=new Yd("@firebase/auth");function z1(r,...e){Mc.logLevel<=Me.WARN&&Mc.warn(`Auth (${ka}): ${r}`,...e)}function gc(r,...e){Mc.logLevel<=Me.ERROR&&Mc.error(`Auth (${ka}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Li(r,...e){throw Um(r,...e)}function ni(r,...e){return Um(r,...e)}function m0(r,e,i){const s=Object.assign(Object.assign({},L1()),{[e]:i});return new Sl("auth","Firebase",s).create(e,{appName:r.name})}function _s(r){return m0(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Um(r,...e){if(typeof r!="string"){const i=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(i,...s)}return d0.create(r,...e)}function ve(r,e,...i){if(!r)throw Um(e,...i)}function Oi(r){const e="INTERNAL ASSERTION FAILED: "+r;throw gc(e),new Error(e)}function zi(r,e){r||Oi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fd(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function j1(){return fv()==="http:"||fv()==="https:"}function fv(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(j1()||aA()||"connection"in navigator)?navigator.onLine:!0}function q1(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{constructor(e,i){this.shortDelay=e,this.longDelay=i,zi(i>e,"Short delay should be less than long delay!"),this.isMobile=iA()||oA()}get(){return B1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function km(r,e){zi(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{static initialize(e,i,s){this.fetchImpl=e,i&&(this.headersImpl=i),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Oi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Oi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Oi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G1=new Nl(3e4,6e4);function Pm(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function qa(r,e,i,s,l={}){return p0(r,l,async()=>{let c={},f={};s&&(e==="GET"?f=s:c={body:JSON.stringify(s)});const g=Al(Object.assign({key:r.config.apiKey},f)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const y=Object.assign({method:e,headers:p},c);return sA()||(y.referrerPolicy="no-referrer"),g0.fetch()(y0(r,r.config.apiHost,i,g),y)})}async function p0(r,e,i){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},H1),e);try{const l=new K1(r),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const f=await c.json();if("needConfirmation"in f)throw lc(r,"account-exists-with-different-credential",f);if(c.ok&&!("errorMessage"in f))return f;{const g=c.ok?f.errorMessage:f.error.message,[p,y]=g.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw lc(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw lc(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw lc(r,"user-disabled",f);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw m0(r,E,y);Li(r,E)}}catch(l){if(l instanceof ji)throw l;Li(r,"network-request-failed",{message:String(l)})}}async function F1(r,e,i,s,l={}){const c=await qa(r,e,i,s,l);return"mfaPendingCredential"in c&&Li(r,"multi-factor-auth-required",{_serverResponse:c}),c}function y0(r,e,i,s){const l=`${e}${i}?${s}`;return r.config.emulator?km(r.config,l):`${r.config.apiScheme}://${l}`}class K1{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,s)=>{this.timer=setTimeout(()=>s(ni(this.auth,"network-request-failed")),G1.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function lc(r,e,i){const s={appName:r.name};i.email&&(s.email=i.email),i.phoneNumber&&(s.phoneNumber=i.phoneNumber);const l=ni(r,e,s);return l.customData._tokenResponse=i,l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q1(r,e){return qa(r,"POST","/v1/accounts:delete",e)}async function _0(r,e){return qa(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Y1(r,e=!1){const i=In(r),s=await i.getIdToken(e),l=Lm(s);ve(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,f=c?.sign_in_provider;return{claims:l,token:s,authTime:cl(Td(l.auth_time)),issuedAtTime:cl(Td(l.iat)),expirationTime:cl(Td(l.exp)),signInProvider:f||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Td(r){return Number(r)*1e3}function Lm(r){const[e,i,s]=r.split(".");if(e===void 0||i===void 0||s===void 0)return gc("JWT malformed, contained fewer than 3 sections"),null;try{const l=kv(i);return l?JSON.parse(l):(gc("Failed to decode base64 JWT payload"),null)}catch(l){return gc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function dv(r){const e=Lm(r);return ve(e,"internal-error"),ve(typeof e.exp<"u","internal-error"),ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function El(r,e,i=!1){if(i)return e;try{return await e}catch(s){throw s instanceof ji&&X1(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function X1({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var i;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const l=((i=this.user.stsTokenManager.expirationTime)!==null&&i!==void 0?i:0)-Date.now()-3e5;return Math.max(0,l)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=cl(this.lastLoginAt),this.creationTime=cl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vc(r){var e;const i=r.auth,s=await r.getIdToken(),l=await El(r,_0(i,{idToken:s}));ve(l?.users.length,i,"internal-error");const c=l.users[0];r._notifyReloadListener(c);const f=!((e=c.providerUserInfo)===null||e===void 0)&&e.length?v0(c.providerUserInfo):[],g=W1(r.providerData,f),p=r.isAnonymous,y=!(r.email&&c.passwordHash)&&!g?.length,E=p?y:!1,A={uid:c.localId,displayName:c.displayName||null,photoURL:c.photoUrl||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,tenantId:c.tenantId||null,providerData:g,metadata:new Kd(c.createdAt,c.lastLoginAt),isAnonymous:E};Object.assign(r,A)}async function Z1(r){const e=In(r);await Vc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function W1(r,e){return[...r.filter(s=>!e.some(l=>l.providerId===s.providerId)),...e]}function v0(r){return r.map(e=>{var{providerId:i}=e,s=xm(e,["providerId"]);return{providerId:i,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J1(r,e){const i=await p0(r,{},async()=>{const s=Al({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,f=y0(r,l,"/v1/token",`key=${c}`),g=await r._getAdditionalHeaders();return g["Content-Type"]="application/x-www-form-urlencoded",g0.fetch()(f,{method:"POST",headers:g,body:s})});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function eI(r,e){return qa(r,"POST","/v2/accounts:revokeToken",Pm(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ve(e.idToken,"internal-error"),ve(typeof e.idToken<"u","internal-error"),ve(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):dv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){ve(e.length!==0,"internal-error");const i=dv(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:s,refreshToken:l,expiresIn:c}=await J1(e,i);this.updateTokensAndExpiration(s,l,Number(c))}updateTokensAndExpiration(e,i,s){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,i){const{refreshToken:s,accessToken:l,expirationTime:c}=i,f=new Aa;return s&&(ve(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),l&&(ve(typeof l=="string","internal-error",{appName:e}),f.accessToken=l),c&&(ve(typeof c=="number","internal-error",{appName:e}),f.expirationTime=c),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Aa,this.toJSON())}_performRefresh(){return Oi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pr(r,e){ve(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Mi{constructor(e){var{uid:i,auth:s,stsTokenManager:l}=e,c=xm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new $1(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=i,this.auth=s,this.stsTokenManager=l,this.accessToken=l.accessToken,this.displayName=c.displayName||null,this.email=c.email||null,this.emailVerified=c.emailVerified||!1,this.phoneNumber=c.phoneNumber||null,this.photoURL=c.photoURL||null,this.isAnonymous=c.isAnonymous||!1,this.tenantId=c.tenantId||null,this.providerData=c.providerData?[...c.providerData]:[],this.metadata=new Kd(c.createdAt||void 0,c.lastLoginAt||void 0)}async getIdToken(e){const i=await El(this,this.stsTokenManager.getToken(this.auth,e));return ve(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return Y1(this,e)}reload(){return Z1(this)}_assign(e){this!==e&&(ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>Object.assign({},i)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new Mi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return i.metadata._copy(this.metadata),i}_onReload(e){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),i&&await Vc(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Tr(this.auth.app))return Promise.reject(_s(this.auth));const e=await this.getIdToken();return await El(this,Q1(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){var s,l,c,f,g,p,y,E;const A=(s=i.displayName)!==null&&s!==void 0?s:void 0,D=(l=i.email)!==null&&l!==void 0?l:void 0,B=(c=i.phoneNumber)!==null&&c!==void 0?c:void 0,X=(f=i.photoURL)!==null&&f!==void 0?f:void 0,j=(g=i.tenantId)!==null&&g!==void 0?g:void 0,H=(p=i._redirectEventId)!==null&&p!==void 0?p:void 0,se=(y=i.createdAt)!==null&&y!==void 0?y:void 0,ee=(E=i.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:ae,emailVerified:Se,isAnonymous:fe,providerData:Te,stsTokenManager:O}=i;ve(ae&&O,e,"internal-error");const b=Aa.fromJSON(this.name,O);ve(typeof ae=="string",e,"internal-error"),pr(A,e.name),pr(D,e.name),ve(typeof Se=="boolean",e,"internal-error"),ve(typeof fe=="boolean",e,"internal-error"),pr(B,e.name),pr(X,e.name),pr(j,e.name),pr(H,e.name),pr(se,e.name),pr(ee,e.name);const R=new Mi({uid:ae,auth:e,email:D,emailVerified:Se,displayName:A,isAnonymous:fe,photoURL:X,phoneNumber:B,tenantId:j,stsTokenManager:b,createdAt:se,lastLoginAt:ee});return Te&&Array.isArray(Te)&&(R.providerData=Te.map(M=>Object.assign({},M))),H&&(R._redirectEventId=H),R}static async _fromIdTokenResponse(e,i,s=!1){const l=new Aa;l.updateFromServerResponse(i);const c=new Mi({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:s});return await Vc(c),c}static async _fromGetAccountInfoResponse(e,i,s){const l=i.users[0];ve(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?v0(l.providerUserInfo):[],f=!(l.email&&l.passwordHash)&&!c?.length,g=new Aa;g.updateFromIdToken(s);const p=new Mi({uid:l.localId,auth:e,stsTokenManager:g,isAnonymous:f}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new Kd(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mv=new Map;function Vi(r){zi(r instanceof Function,"Expected a class definition");let e=mv.get(r);return e?(zi(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,mv.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}E0.type="NONE";const gv=E0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pc(r,e,i){return`firebase:${r}:${e}:${i}`}class ba{constructor(e,i,s){this.persistence=e,this.auth=i,this.userKey=s;const{config:l,name:c}=this.auth;this.fullUserKey=pc(this.userKey,l.apiKey,c),this.fullPersistenceKey=pc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Mi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,s="authUser"){if(!i.length)return new ba(Vi(gv),e,s);const l=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=l[0]||Vi(gv);const f=pc(s,e.config.apiKey,e.name);let g=null;for(const y of i)try{const E=await y._get(f);if(E){const A=Mi._fromJSON(e,E);y!==c&&(g=A),c=y;break}}catch{}const p=l.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!p.length?new ba(c,e,s):(c=p[0],g&&await c._set(f,g.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(f)}catch{}})),new ba(c,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pv(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(b0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(T0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(R0(e))return"Blackberry";if(I0(e))return"Webos";if(S0(e))return"Safari";if((e.includes("chrome/")||A0(e))&&!e.includes("edge/"))return"Chrome";if(w0(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(i);if(s?.length===2)return s[1]}return"Other"}function T0(r=Yt()){return/firefox\//i.test(r)}function S0(r=Yt()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function A0(r=Yt()){return/crios\//i.test(r)}function b0(r=Yt()){return/iemobile/i.test(r)}function w0(r=Yt()){return/android/i.test(r)}function R0(r=Yt()){return/blackberry/i.test(r)}function I0(r=Yt()){return/webos/i.test(r)}function zm(r=Yt()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function tI(r=Yt()){var e;return zm(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function nI(){return lA()&&document.documentMode===10}function C0(r=Yt()){return zm(r)||w0(r)||I0(r)||R0(r)||/windows phone/i.test(r)||b0(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D0(r,e=[]){let i;switch(r){case"Browser":i=pv(Yt());break;case"Worker":i=`${pv(Yt())}-${r}`;break;default:i=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${ka}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const s=c=>new Promise((f,g)=>{try{const p=e(c);f(p)}catch(p){g(p)}});s.onAbort=i,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const s of this.queue)await s(e),s.onAbort&&i.push(s.onAbort)}catch(s){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rI(r,e={}){return qa(r,"GET","/v2/passwordPolicy",Pm(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sI=6;class aI{constructor(e){var i,s,l,c;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(i=f.minPasswordLength)!==null&&i!==void 0?i:sI,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(l=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&l!==void 0?l:"",this.forceUpgradeOnSignin=(c=e.forceUpgradeOnSignin)!==null&&c!==void 0?c:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var i,s,l,c,f,g;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(i=p.meetsMinPasswordLength)!==null&&i!==void 0?i:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(l=p.containsLowercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(c=p.containsUppercaseLetter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(g=p.containsNonAlphanumericCharacter)!==null&&g!==void 0?g:!0),p}validatePasswordLengthOptions(e,i){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(i.meetsMinPasswordLength=e.length>=s),l&&(i.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let s;for(let l=0;l<e.length;l++)s=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,i,s,l,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI{constructor(e,i,s,l){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new yv(this),this.idTokenSubscription=new yv(this),this.beforeStateQueue=new iI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=d0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=Vi(i)),this._initializationPromise=this.queue(async()=>{var s,l;if(!this._deleted&&(this.persistenceManager=await ba.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await _0(this,{idToken:e}),s=await Mi._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(s)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(Tr(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(g=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(g,g))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let l=s,c=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId,g=l?._redirectEventId,p=await this.tryRedirectSignIn(e);(!f||f===g)&&p?.user&&(l=p.user,c=!0)}if(!l)return this.directlySetCurrentUser(null);if(!l._redirectEventId){if(c)try{await this.beforeStateQueue.runMiddleware(l)}catch(f){l=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return l?this.reloadAndSetCurrentUserOrClear(l):this.directlySetCurrentUser(null)}return ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===l._redirectEventId?this.directlySetCurrentUser(l):this.reloadAndSetCurrentUserOrClear(l)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await Vc(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=q1()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Tr(this.app))return Promise.reject(_s(this));const i=e?In(e):null;return i&&ve(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Tr(this.app)?Promise.reject(_s(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Tr(this.app)?Promise.reject(_s(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Vi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await rI(this),i=new aI(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Sl("auth","Firebase",e())}onAuthStateChanged(e,i,s){return this.registerStateListener(this.authStateSubscription,e,i,s)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,s){return this.registerStateListener(this.idTokenSubscription,e,i,s)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(s.tenantId=this.tenantId),await eI(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,i){const s=await this.getOrInitRedirectPersistenceManager(i);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&Vi(e)||this._popupRedirectResolver;ve(i,this,"argument-error"),this.redirectPersistenceManager=await ba.create(this,[Vi(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var i,s;return this._isInitialized&&await this.queue(async()=>{}),((i=this._currentUser)===null||i===void 0?void 0:i._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,i;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(i=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&i!==void 0?i:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,s,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let f=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(g,this,"internal-error"),g.then(()=>{f||c(this.currentUser)}),typeof i=="function"){const p=e.addObserver(i,s,l);return()=>{f=!0,p()}}else{const p=e.addObserver(i);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=D0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const i={"X-Client-Version":this.clientVersion};this.app.options.appId&&(i["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(i["X-Firebase-Client"]=s);const l=await this._getAppCheckToken();return l&&(i["X-Firebase-AppCheck"]=l),i}async _getAppCheckToken(){var e;const i=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return i?.error&&z1(`Error while retrieving App Check token: ${i.error}`),i?.token}}function jm(r){return In(r)}class yv{constructor(e){this.auth=e,this.observer=null,this.addObserver=pA(i=>this.observer=i)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function lI(r){Bm=r}function uI(r){return Bm.loadJS(r)}function cI(){return Bm.gapiScript}function hI(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fI(r,e){const i=$d(r,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(Ec(c,e??{}))return l;Li(l,"already-initialized")}return i.initialize({options:e})}function dI(r,e){const i=e?.persistence||[],s=(Array.isArray(i)?i:[i]).map(Vi);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function mI(r,e,i){const s=jm(r);ve(s._canInitEmulator,s,"emulator-config-failed"),ve(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const l=!1,c=N0(e),{host:f,port:g}=gI(e),p=g===null?"":`:${g}`;s.config.emulator={url:`${c}//${f}${p}/`},s.settings.appVerificationDisabledForTesting=!0,s.emulatorConfig=Object.freeze({host:f,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})}),pI()}function N0(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function gI(r){const e=N0(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!i)return{host:"",port:null};const s=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const c=l[1];return{host:c,port:_v(s.substr(c.length+1))}}else{const[c,f]=s.split(":");return{host:c,port:_v(f)}}}function _v(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function pI(){function r(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return Oi("not implemented")}_getIdTokenResponse(e){return Oi("not implemented")}_linkToIdToken(e,i){return Oi("not implemented")}_getReauthenticationResolver(e){return Oi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wa(r,e){return F1(r,"POST","/v1/accounts:signInWithIdp",Pm(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yI="http://localhost";class As extends O0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new As(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):Li("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:l}=i,c=xm(i,["providerId","signInMethod"]);if(!s||!l)return null;const f=new As(s,l);return f.idToken=c.idToken||void 0,f.accessToken=c.accessToken||void 0,f.secret=c.secret,f.nonce=c.nonce,f.pendingToken=c.pendingToken||null,f}_getIdTokenResponse(e){const i=this.buildRequest();return wa(e,i)}_linkToIdToken(e,i){const s=this.buildRequest();return s.idToken=i,wa(e,s)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,wa(e,i)}buildRequest(){const e={requestUri:yI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=Al(i)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol extends M0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr extends Ol{constructor(){super("facebook.com")}static credential(e){return As._fromParams({providerId:yr.PROVIDER_ID,signInMethod:yr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return yr.credentialFromTaggedObject(e)}static credentialFromError(e){return yr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return yr.credential(e.oauthAccessToken)}catch{return null}}}yr.FACEBOOK_SIGN_IN_METHOD="facebook.com";yr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r extends Ol{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return As._fromParams({providerId:_r.PROVIDER_ID,signInMethod:_r.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return _r.credentialFromTaggedObject(e)}static credentialFromError(e){return _r.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:s}=e;if(!i&&!s)return null;try{return _r.credential(i,s)}catch{return null}}}_r.GOOGLE_SIGN_IN_METHOD="google.com";_r.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr extends Ol{constructor(){super("github.com")}static credential(e){return As._fromParams({providerId:vr.PROVIDER_ID,signInMethod:vr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return vr.credentialFromTaggedObject(e)}static credentialFromError(e){return vr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return vr.credential(e.oauthAccessToken)}catch{return null}}}vr.GITHUB_SIGN_IN_METHOD="github.com";vr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er extends Ol{constructor(){super("twitter.com")}static credential(e,i){return As._fromParams({providerId:Er.PROVIDER_ID,signInMethod:Er.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return Er.credentialFromTaggedObject(e)}static credentialFromError(e){return Er.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:s}=e;if(!i||!s)return null;try{return Er.credential(i,s)}catch{return null}}}Er.TWITTER_SIGN_IN_METHOD="twitter.com";Er.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,s,l=!1){const c=await Mi._fromIdTokenResponse(e,s,l),f=vv(s);return new xa({user:c,providerId:f,_tokenResponse:s,operationType:i})}static async _forOperation(e,i,s){await e._updateTokensIfNecessary(s,!0);const l=vv(s);return new xa({user:e,providerId:l,_tokenResponse:s,operationType:i})}}function vv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc extends ji{constructor(e,i,s,l){var c;super(i.code,i.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,xc.prototype),this.customData={appName:e.name,tenantId:(c=e.tenantId)!==null&&c!==void 0?c:void 0,_serverResponse:i.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,i,s,l){return new xc(e,i,s,l)}}function V0(r,e,i,s){return(e==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?xc._fromErrorAndOperation(r,c,e,s):c})}async function _I(r,e,i=!1){const s=await El(r,e._linkToIdToken(r.auth,await r.getIdToken()),i);return xa._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vI(r,e,i=!1){const{auth:s}=r;if(Tr(s.app))return Promise.reject(_s(s));const l="reauthenticate";try{const c=await El(r,V0(s,l,e,r),i);ve(c.idToken,s,"internal-error");const f=Lm(c.idToken);ve(f,s,"internal-error");const{sub:g}=f;return ve(r.uid===g,s,"user-mismatch"),xa._forOperation(r,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&Li(s,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EI(r,e,i=!1){if(Tr(r.app))return Promise.reject(_s(r));const s="signIn",l=await V0(r,s,e),c=await xa._fromIdTokenResponse(r,s,l);return i||await r._updateCurrentUser(c.user),c}function TI(r,e,i,s){return In(r).onIdTokenChanged(e,i,s)}function SI(r,e,i){return In(r).beforeAuthStateChanged(e,i)}const Uc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Uc,"1"),this.storage.removeItem(Uc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AI=1e3,bI=10;class U0 extends x0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=C0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const s=this.storage.getItem(i),l=this.localCache[i];s!==l&&e(i,l,s)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((f,g,p)=>{this.notifyListeners(f,p)});return}const s=e.key;i?this.detachListener():this.stopPolling();const l=()=>{const f=this.storage.getItem(s);!i&&this.localCache[s]===f||this.notifyListeners(s,f)},c=this.storage.getItem(s);nI()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,bI):l()}notifyListeners(e,i){this.localCache[e]=i;const s=this.listeners[e];if(s)for(const l of Array.from(s))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:s}),!0)})},AI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}U0.type="LOCAL";const wI=U0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0 extends x0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}k0.type="SESSION";const P0=k0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RI(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(l=>l.isListeningto(e));if(i)return i;const s=new Wc(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:s,eventType:l,data:c}=i.data,f=this.handlersMap[l];if(!f?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const g=Array.from(f).map(async y=>y(i.origin,c)),p=await RI(g);i.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:p})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Wc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qm(r="",e=10){let i="";for(let s=0;s<e;s++)i+=Math.floor(Math.random()*10);return r+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,f;return new Promise((g,p)=>{const y=qm("",20);l.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:l,onMessage(A){const D=A;if(D.data.eventId===y)switch(D.data.status){case"ack":clearTimeout(E),c=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(D.data.response);break;default:clearTimeout(E),clearTimeout(c),p(new Error("invalid_response"));break}}},this.handlers.add(f),l.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:y,data:i},[l.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ii(){return window}function CI(r){ii().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L0(){return typeof ii().WorkerGlobalScope<"u"&&typeof ii().importScripts=="function"}async function DI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function NI(){var r;return((r=navigator?.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function OI(){return L0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z0="firebaseLocalStorageDb",MI=1,kc="firebaseLocalStorage",j0="fbase_key";class Ml{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Jc(r,e){return r.transaction([kc],e?"readwrite":"readonly").objectStore(kc)}function VI(){const r=indexedDB.deleteDatabase(z0);return new Ml(r).toPromise()}function Qd(){const r=indexedDB.open(z0,MI);return new Promise((e,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(kc,{keyPath:j0})}catch(l){i(l)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(kc)?e(s):(s.close(),await VI(),e(await Qd()))})})}async function Ev(r,e,i){const s=Jc(r,!0).put({[j0]:e,value:i});return new Ml(s).toPromise()}async function xI(r,e){const i=Jc(r,!1).get(e),s=await new Ml(i).toPromise();return s===void 0?null:s.value}function Tv(r,e){const i=Jc(r,!0).delete(e);return new Ml(i).toPromise()}const UI=800,kI=3;class B0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Qd(),this.db)}async _withRetries(e){let i=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(i++>kI)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return L0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Wc._getInstance(OI()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){var e,i;if(this.activeServiceWorker=await DI(),!this.activeServiceWorker)return;this.sender=new II(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((i=s[0])===null||i===void 0)&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||NI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Qd();return await Ev(e,Uc,"1"),await Tv(e,Uc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(s=>Ev(s,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(s=>xI(s,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>Tv(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const c=Jc(l,!1).getAll();return new Ml(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],s=new Set;if(e.length!==0)for(const{fbase_key:l,value:c}of e)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(e,i){this.localCache[e]=i;const s=this.listeners[e];if(s)for(const l of Array.from(s))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),UI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}B0.type="LOCAL";const PI=B0;new Nl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LI(r,e){return e?Vi(e):(ve(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm extends O0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return wa(e,this._buildIdpRequest())}_linkToIdToken(e,i){return wa(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return wa(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function zI(r){return EI(r.auth,new Hm(r),r.bypassAuthState)}function jI(r){const{auth:e,user:i}=r;return ve(i,e,"internal-error"),vI(i,new Hm(r),r.bypassAuthState)}async function BI(r){const{auth:e,user:i}=r;return ve(i,e,"internal-error"),_I(i,new Hm(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0{constructor(e,i,s,l,c=!1){this.auth=e,this.resolver=s,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:s,postBody:l,tenantId:c,error:f,type:g}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:i,sessionId:s,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return zI;case"linkViaPopup":case"linkViaRedirect":return BI;case"reauthViaPopup":case"reauthViaRedirect":return jI;default:Li(this.auth,"internal-error")}}resolve(e){zi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){zi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qI=new Nl(2e3,1e4);class Ta extends q0{constructor(e,i,s,l,c){super(e,i,l,c),this.provider=s,this.authWindow=null,this.pollId=null,Ta.currentPopupAction&&Ta.currentPopupAction.cancel(),Ta.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ve(e,this.auth,"internal-error"),e}async onExecution(){zi(this.filter.length===1,"Popup operations only handle one event");const e=qm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(ni(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ni(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ta.currentPopupAction=null}pollUserCancellation(){const e=()=>{var i,s;if(!((s=(i=this.authWindow)===null||i===void 0?void 0:i.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ni(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,qI.get())};e()}}Ta.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HI="pendingRedirect",yc=new Map;class GI extends q0{constructor(e,i,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,s),this.eventId=null}async execute(){let e=yc.get(this.auth._key());if(!e){try{const s=await FI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(i){e=()=>Promise.reject(i)}yc.set(this.auth._key(),e)}return this.bypassAuthState||yc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function FI(r,e){const i=YI(e),s=QI(r);if(!await s._isAvailable())return!1;const l=await s._get(i)==="true";return await s._remove(i),l}function KI(r,e){yc.set(r._key(),e)}function QI(r){return Vi(r._redirectPersistence)}function YI(r){return pc(HI,r.config.apiKey,r.name)}async function XI(r,e,i=!1){if(Tr(r.app))return Promise.reject(_s(r));const s=jm(r),l=LI(s,e),f=await new GI(s,l,i).execute();return f&&!i&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $I=600*1e3;class ZI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(i=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!WI(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){var s;if(e.error&&!H0(e)){const l=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";i.onError(ni(this.auth,l))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const s=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=$I&&this.cachedEventUids.clear(),this.cachedEventUids.has(Sv(e))}saveEventToCache(e){this.cachedEventUids.add(Sv(e)),this.lastProcessedEventTime=Date.now()}}function Sv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function H0({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function WI(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return H0(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JI(r,e={}){return qa(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,tC=/^https?/;async function nC(r){if(r.config.emulator)return;const{authorizedDomains:e}=await JI(r);for(const i of e)try{if(iC(i))return}catch{}Li(r,"unauthorized-domain")}function iC(r){const e=Fd(),{protocol:i,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&f.hostname===s}if(!tC.test(i))return!1;if(eC.test(r))return s===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rC=new Nl(3e4,6e4);function Av(){const r=ii().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function sC(r){return new Promise((e,i)=>{var s,l,c;function f(){Av(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Av(),i(ni(r,"network-request-failed"))},timeout:rC.get()})}if(!((l=(s=ii().gapi)===null||s===void 0?void 0:s.iframes)===null||l===void 0)&&l.Iframe)e(gapi.iframes.getContext());else if(!((c=ii().gapi)===null||c===void 0)&&c.load)f();else{const g=hI("iframefcb");return ii()[g]=()=>{gapi.load?f():i(ni(r,"network-request-failed"))},uI(`${cI()}?onload=${g}`).catch(p=>i(p))}}).catch(e=>{throw _c=null,e})}let _c=null;function aC(r){return _c=_c||sC(r),_c}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oC=new Nl(5e3,15e3),lC="__/auth/iframe",uC="emulator/auth/iframe",cC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},hC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function fC(r){const e=r.config;ve(e.authDomain,r,"auth-domain-config-required");const i=e.emulator?km(e,uC):`https://${r.config.authDomain}/${lC}`,s={apiKey:e.apiKey,appName:r.name,v:ka},l=hC.get(r.config.apiHost);l&&(s.eid=l);const c=r._getFrameworks();return c.length&&(s.fw=c.join(",")),`${i}?${Al(s).slice(1)}`}async function dC(r){const e=await aC(r),i=ii().gapi;return ve(i,r,"internal-error"),e.open({where:document.body,url:fC(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:cC,dontclear:!0},s=>new Promise(async(l,c)=>{await s.restyle({setHideOnLeave:!1});const f=ni(r,"network-request-failed"),g=ii().setTimeout(()=>{c(f)},oC.get());function p(){ii().clearTimeout(g),l(s)}s.ping(p).then(p,()=>{c(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},gC=500,pC=600,yC="_blank",_C="http://localhost";class bv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function vC(r,e,i,s=gC,l=pC){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let g="";const p=Object.assign(Object.assign({},mC),{width:s.toString(),height:l.toString(),top:c,left:f}),y=Yt().toLowerCase();i&&(g=A0(y)?yC:i),T0(y)&&(e=e||_C,p.scrollbars="yes");const E=Object.entries(p).reduce((D,[B,X])=>`${D}${B}=${X},`,"");if(tI(y)&&g!=="_self")return EC(e||"",g),new bv(null);const A=window.open(e||"",g,E);ve(A,r,"popup-blocked");try{A.focus()}catch{}return new bv(A)}function EC(r,e){const i=document.createElement("a");i.href=r,i.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TC="__/auth/handler",SC="emulator/auth/handler",AC=encodeURIComponent("fac");async function wv(r,e,i,s,l,c){ve(r.config.authDomain,r,"auth-domain-config-required"),ve(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:s,v:ka,eventId:l};if(e instanceof M0){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",gA(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,A]of Object.entries({}))f[E]=A}if(e instanceof Ol){const E=e.getScopes().filter(A=>A!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const g=f;for(const E of Object.keys(g))g[E]===void 0&&delete g[E];const p=await r._getAppCheckToken(),y=p?`#${AC}=${encodeURIComponent(p)}`:"";return`${bC(r)}?${Al(g).slice(1)}${y}`}function bC({config:r}){return r.emulator?km(r,SC):`https://${r.authDomain}/${TC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sd="webStorageSupport";class wC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=P0,this._completeRedirectFn=XI,this._overrideRedirectResult=KI}async _openPopup(e,i,s,l){var c;zi((c=this.eventManagers[e._key()])===null||c===void 0?void 0:c.manager,"_initialize() not called before _openPopup()");const f=await wv(e,i,s,Fd(),l);return vC(e,f,qm())}async _openRedirect(e,i,s,l){await this._originValidation(e);const c=await wv(e,i,s,Fd(),l);return CI(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(zi(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(e);return this.eventManagers[i]={promise:s},s.catch(()=>{delete this.eventManagers[i]}),s}async initAndGetManager(e){const i=await dC(e),s=new ZI(e);return i.register("authEvent",l=>(ve(l?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=i,s}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(Sd,{type:Sd},l=>{var c;const f=(c=l?.[0])===null||c===void 0?void 0:c[Sd];f!==void 0&&i(!!f),Li(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=nC(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return C0()||S0()||zm()}}const RC=wC;var Rv="@firebase/auth",Iv="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CC(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function DC(r){Ra(new vs("auth",(e,{options:i})=>{const s=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:f,authDomain:g}=s.options;ve(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:g,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:D0(r)},y=new oI(s,l,c,p);return dI(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,s)=>{e.getProvider("auth-internal").initialize()})),Ra(new vs("auth-internal",e=>{const i=jm(e.getProvider("auth").getImmediate());return(s=>new IC(s))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),wr(Rv,Iv,CC(r)),wr(Rv,Iv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NC=300,OC=zv("authIdTokenMaxAge")||NC;let Cv=null;const MC=r=>async e=>{const i=e&&await e.getIdTokenResult(),s=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(s&&s>OC)return;const l=i?.token;Cv!==l&&(Cv=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function VC(r=Hv()){const e=$d(r,"auth");if(e.isInitialized())return e.getImmediate();const i=fI(r,{popupRedirectResolver:RC,persistence:[PI,wI,P0]}),s=zv("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const f=MC(c.toString());SI(i,f,()=>f(i.currentUser)),TI(i,g=>f(g))}}const l=Pv("auth");return l&&mI(i,`http://${l}`),i}function xC(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}lI({loadJS(r){return new Promise((e,i)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=l=>{const c=ni("internal-error");c.customData=l,i(c)},s.type="text/javascript",s.charset="UTF-8",xC().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});DC("Browser");const UC={apiKey:"AIzaSyBnkgrV5_jFQ3aC6krTfeoHP51iVO1xVb0",authDomain:"vibe-tma-yahtzee.firebaseapp.com",projectId:"vibe-tma-yahtzee",storageBucket:"vibe-tma-yahtzee.firebasestorage.app",messagingSenderId:"705526426901",appId:"1:705526426901:web:6bbf5b95868f8141f30d1c",measurementId:"G-BCKWJJK0MN"},kC=()=>typeof window<"u"&&typeof window.navigator<"u"&&window.location.hostname!=="localhost"&&window.location.hostname!=="127.0.0.1";let Ad=null,Ha=null,PC=null;try{kC()?(Ad=qv(UC),Ha=p1(Ad),PC=VC(Ad),console.log("🔥 Firebase инициализирован")):console.log("🌐 Локальная разработка - Firebase отключен")}catch(r){console.error("❌ Ошибка инициализации Firebase:",r),console.log("🌐 Продолжаем без Firebase")}const eh=()=>Ha!==null&&typeof window<"u"&&window.location.hostname!=="localhost"&&window.location.hostname!=="127.0.0.1",Dv=r=>{const e=new Date(r);return e.setHours(0,0,0,0),e},Nv=r=>{const e=new Date(r),i=e.getDay(),s=e.getDate()-i+(i===0?-6:1);return e.setDate(s),e.setHours(0,0,0,0),e},LC=async r=>{try{if(!eh()){console.log("🌐 Локальная разработка - рекорд сохранен локально");const s=JSON.parse(localStorage.getItem("yahtzee-local-scores")||"[]"),l={...r,id:Date.now().toString(),timestamp:new Date};s.push(l),localStorage.setItem("yahtzee-local-scores",JSON.stringify(s));return}console.log("🔥 Добавляем рекорд в Firebase:",r);const e={...r,timestamp:lt.fromDate(new Date)};console.log("📝 Данные для записи:",e);const i=await x1(Xc(Ha,"scores"),e);console.log("✅ Рекорд успешно добавлен в Firebase с ID:",i.id)}catch(e){throw console.error("❌ Ошибка добавления рекорда:",e),e}},zC=async(r=10)=>{try{if(!eh()){console.log("🌐 Локальная разработка - загружаем локальные рекорды");const l=JSON.parse(localStorage.getItem("yahtzee-local-scores")||"[]"),c=Dv(new Date);return l.filter(f=>new Date(f.timestamp)>=c).sort((f,g)=>g.score-f.score).slice(0,r)}const e=Dv(new Date),i=Im(Xc(Ha,"scores"),c0("timestamp",">=",lt.fromDate(e)),Nm("score","desc"),Mm(r));return(await Vm(i)).docs.map(l=>({id:l.id,...l.data(),timestamp:l.data().timestamp.toDate()}))}catch(e){return console.error("Error getting today scores:",e),[]}},jC=async(r=10)=>{try{if(!eh()){console.log("🌐 Локальная разработка - загружаем локальные рекорды за неделю");const l=JSON.parse(localStorage.getItem("yahtzee-local-scores")||"[]"),c=Nv(new Date);return l.filter(f=>new Date(f.timestamp)>=c).sort((f,g)=>g.score-f.score).slice(0,r)}const e=Nv(new Date),i=Im(Xc(Ha,"scores"),c0("timestamp",">=",lt.fromDate(e)),Nm("score","desc"),Mm(r));return(await Vm(i)).docs.map(l=>({id:l.id,...l.data(),timestamp:l.data().timestamp.toDate()}))}catch(e){return console.error("Error getting week scores:",e),[]}},BC=async(r=10)=>{try{if(!eh())return console.log("🌐 Локальная разработка - загружаем все локальные рекорды"),JSON.parse(localStorage.getItem("yahtzee-local-scores")||"[]").sort((l,c)=>c.score-l.score).slice(0,r);const e=Im(Xc(Ha,"scores"),Nm("score","desc"),Mm(r));return(await Vm(e)).docs.map(s=>({id:s.id,...s.data(),timestamp:s.data().timestamp.toDate()}))}catch(e){return console.error("Error getting all time scores:",e),[]}},qC=async()=>{try{const[r,e,i]=await Promise.all([zC(10),jC(10),BC(10)]);return{today:r,week:e,allTime:i}}catch(r){return console.error("Error getting all leaderboards:",r),{today:[],week:[],allTime:[]}}},Ua=()=>typeof window<"u"&&window.Telegram?.WebApp!==void 0&&window.location.hostname!=="localhost"&&window.location.hostname!=="127.0.0.1",G0=()=>Ua()&&window.Telegram?.WebApp?.initDataUnsafe?.user?window.Telegram.WebApp.initDataUnsafe.user:null,HC=()=>{const r=G0();return r?r.last_name?`${r.first_name} ${r.last_name}`:r.first_name:typeof window<"u"&&(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1")?"Локальный Игрок":"Player"},GC=()=>{const r=G0();return r?r.id.toString():typeof window<"u"&&(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1")?"local-dev-"+Date.now():null},FC=()=>{if(Ua()&&window.Telegram?.WebApp)try{window.Telegram.WebApp.ready(),window.Telegram.WebApp.expand(),console.log("📱 Telegram Web App инициализирован")}catch(r){console.error("❌ Ошибка инициализации Telegram Web App:",r)}else console.log("🌐 Локальная разработка - Telegram Web App недоступен")},bd=r=>{if(Ua()&&window.Telegram?.WebApp?.HapticFeedback)try{window.Telegram.WebApp.HapticFeedback.impactOccurred(r)}catch(e){console.error("❌ Ошибка haptic feedback:",e)}else console.log(`📳 Haptic feedback: ${r}`)},wd=r=>{if(Ua()&&window.Telegram?.WebApp?.NotificationHapticFeedback)try{window.Telegram.WebApp.NotificationHapticFeedback.impactOccurred(r)}catch(e){console.error("❌ Ошибка notification feedback:",e)}else console.log(`🔔 Notification feedback: ${r}`)},Ov={ones:null,twos:null,threes:null,fours:null,fives:null,sixes:null,threeOfAKind:null,fourOfAKind:null,fullHouse:null,smallStraight:null,largeStraight:null,yahtzee:null,chance:null},uc=Array.from({length:5},(r,e)=>({id:e,value:1,isHeld:!1})),Ga=jS()(KS((r,e)=>({gameMode:"singleplayer",players:[],currentPlayerIndex:0,currentRound:1,rollsLeft:3,dice:uc,gameStarted:!1,gameEnded:!1,leaderboard:{today:[],week:[],allTime:[]},leaderboardLoading:!1,startGame:(i,s)=>{const l=GC(),c=HC(),f=i==="singleplayer"?[{id:"1",name:c,telegramId:l||void 0,scores:Ov,totalScore:0}]:(s||["Player 1","Player 2"]).map((g,p)=>({id:String(p+1),name:p===0?c:g,telegramId:p===0&&l||void 0,scores:Ov,totalScore:0}));r({gameMode:i,players:f,currentPlayerIndex:0,currentRound:1,rollsLeft:3,dice:uc.map(g=>({...g,value:Math.floor(Math.random()*6)+1})),gameStarted:!0,gameEnded:!1}),bd("light")},rollDice:()=>{const{dice:i,rollsLeft:s}=e();if(s<=0)return;const l=i.map(c=>c.isHeld?c:{...c,value:Math.floor(Math.random()*6)+1});r({dice:l,rollsLeft:s-1}),bd("medium")},holdDice:i=>{const{dice:s}=e(),l=s.map(c=>c.id===i?{...c,isHeld:!c.isHeld}:c);r({dice:l}),bd("light")},scoreRoll:i=>{const{players:s,currentPlayerIndex:l,dice:c}=e(),f=c.map(y=>y.value);let g=0;switch(i){case"ones":g=f.filter(j=>j===1).length*1;break;case"twos":g=f.filter(j=>j===2).length*2;break;case"threes":g=f.filter(j=>j===3).length*3;break;case"fours":g=f.filter(j=>j===4).length*4;break;case"fives":g=f.filter(j=>j===5).length*5;break;case"sixes":g=f.filter(j=>j===6).length*6;break;case"threeOfAKind":const y=f.reduce((j,H)=>(j[H]=(j[H]||0)+1,j),{});g=Object.values(y).some(j=>j>=3)?f.reduce((j,H)=>j+H,0):0;break;case"fourOfAKind":const E=f.reduce((j,H)=>(j[H]=(j[H]||0)+1,j),{});g=Object.values(E).some(j=>j>=4)?f.reduce((j,H)=>j+H,0):0;break;case"fullHouse":const A=f.reduce((j,H)=>(j[H]=(j[H]||0)+1,j),{}),D=Object.values(A);g=D.includes(3)&&D.includes(2)?25:0;break;case"smallStraight":const B=[...new Set(f)].sort((j,H)=>j-H);g=B.length>=4&&B[3]-B[0]<=3?30:0;break;case"largeStraight":const X=[...new Set(f)].sort((j,H)=>j-H);g=X.length===5&&X[4]-X[0]===4?40:0;break;case"yahtzee":g=f.every(j=>j===f[0])?50:0;break;case"chance":g=f.reduce((j,H)=>j+H,0);break}const p=s.map((y,E)=>{if(E===l){const A={...y.scores,[i]:g},D=Object.values(A).reduce((B,X)=>B+(X||0),0);return{...y,scores:A,totalScore:D}}return y});r({players:p}),g>0&&wd("success")},nextPlayer:()=>{const{players:i,currentPlayerIndex:s,currentRound:l}=e(),c=(s+1)%i.length;if(c===0){if(l>=13){r({gameEnded:!0});return}r({currentRound:l+1})}r({currentPlayerIndex:c,rollsLeft:3,dice:uc.map(f=>({...f,value:Math.floor(Math.random()*6)+1}))})},resetGame:()=>{r({players:[],currentPlayerIndex:0,currentRound:1,rollsLeft:3,dice:uc,gameStarted:!1,gameEnded:!1})},addToLeaderboard:i=>{const{leaderboard:s}=e(),l={playerName:i.name,playerId:i.telegramId||i.id,score:i.totalScore,timestamp:new Date,gameMode:e().gameMode},c=[...s.allTime,l].sort((f,g)=>g.score-f.score).slice(0,10);r({leaderboard:{...s,allTime:c}})},loadLeaderboards:async()=>{r({leaderboardLoading:!0});try{const i=await qC();r({leaderboard:i,leaderboardLoading:!1})}catch(i){console.error("Error loading leaderboards:",i),r({leaderboardLoading:!1})}},syncScoreToFirebase:async i=>{try{await LC({playerName:i.name,playerId:i.telegramId||i.id,score:i.totalScore,gameMode:e().gameMode}),e().loadLeaderboards(),wd("success")}catch(s){console.error("Error syncing score to Firebase:",s),wd("error")}}}),{name:"yahtzee-game-storage",partialize:r=>({gameMode:r.gameMode,players:r.players,currentPlayerIndex:r.currentPlayerIndex,currentRound:r.currentRound,rollsLeft:r.rollsLeft,dice:r.dice,gameStarted:r.gameStarted,gameEnded:r.gameEnded})})),KC=()=>{const{startGame:r}=Ga(),[e,i]=Jn.useState("singleplayer"),[s,l]=Jn.useState(["Player 1","Player 2"]),[c,f]=Jn.useState(!1),g=A=>{i(A),f(A==="multiplayer")},p=(A,D)=>{const B=[...s];B[A]=D,l(B)},y=()=>{if(e==="singleplayer")r("singleplayer");else{const A=s.filter(D=>D.trim()!=="");A.length>=2&&r("multiplayer",A)}},E=()=>e==="singleplayer"?!0:s.filter(A=>A.trim()!=="").length>=2;return L.jsxs("div",{className:"game-setup",children:[L.jsx("h2",{children:"Yahtzee Game Setup"}),L.jsxs("div",{className:"setup-section",children:[L.jsx("h3",{children:"Choose Game Mode"}),L.jsxs("div",{className:"mode-selection",children:[L.jsxs("label",{className:"mode-option",children:[L.jsx("input",{type:"radio",name:"gameMode",value:"singleplayer",checked:e==="singleplayer",onChange:()=>g("singleplayer")}),L.jsx("span",{className:"mode-label",children:"Single Player"})]}),L.jsxs("label",{className:"mode-option",children:[L.jsx("input",{type:"radio",name:"gameMode",value:"multiplayer",checked:e==="multiplayer",onChange:()=>g("multiplayer")}),L.jsx("span",{className:"mode-label",children:"Multi Player (2 Players)"})]})]})]}),c&&L.jsxs("div",{className:"setup-section",children:[L.jsx("h3",{children:"Player Names"}),L.jsx("div",{className:"player-names",children:s.map((A,D)=>L.jsxs("div",{className:"player-name-input",children:[L.jsxs("label",{htmlFor:`player-${D+1}`,children:["Player ",D+1,":"]}),L.jsx("input",{id:`player-${D+1}`,type:"text",value:A,onChange:B=>p(D,B.target.value),placeholder:`Player ${D+1} Name`,maxLength:20})]},D))})]}),L.jsxs("div",{className:"setup-section",children:[L.jsx("h3",{children:"Game Rules"}),L.jsx("div",{className:"rules",children:L.jsxs("ul",{children:[L.jsx("li",{children:"Roll 5 dice up to 3 times per turn"}),L.jsx("li",{children:"Click dice to hold them between rolls"}),L.jsx("li",{children:"Score your roll in one of 13 categories"}),L.jsx("li",{children:"Upper section: Score dice by number (1s, 2s, 3s, etc.)"}),L.jsx("li",{children:"Lower section: Score special combinations"}),L.jsx("li",{children:"Get 35 bonus points if upper section totals 63 or more"}),L.jsx("li",{children:"Game ends after 13 rounds"}),L.jsx("li",{children:"Highest total score wins!"})]})})]}),L.jsx("div",{className:"setup-actions",children:L.jsx("button",{className:"start-game-btn",onClick:y,disabled:!E(),children:"Start Game"})})]})};function F0(r){var e,i,s="";if(typeof r=="string"||typeof r=="number")s+=r;else if(typeof r=="object")if(Array.isArray(r)){var l=r.length;for(e=0;e<l;e++)r[e]&&(i=F0(r[e]))&&(s&&(s+=" "),s+=i)}else for(i in r)r[i]&&(s&&(s+=" "),s+=i);return s}function Nt(){for(var r,e,i=0,s="",l=arguments.length;i<l;i++)(r=arguments[i])&&(e=F0(r))&&(s&&(s+=" "),s+=e);return s}const QC=({dice:r,onHold:e,disabled:i})=>{const s=l=>L.jsx("div",{className:"dice-face",children:L.jsx("div",{className:"dice-number",children:l})});return L.jsxs("div",{className:Nt("dice",r.isHeld&&"held",i&&"disabled"),onClick:()=>!i&&e(r.id),children:[s(r.value),r.isHeld&&L.jsx("div",{className:"hold-indicator",children:"HOLD"})]})},YC=()=>{const{dice:r,rollsLeft:e,rollDice:i,holdDice:s,gameStarted:l,gameEnded:c}=Ga(),f=()=>{e>0&&l&&!c&&i()};return l?L.jsxs("div",{className:"dice-container",children:[L.jsxs("div",{className:"dice-info",children:[L.jsxs("h3",{children:["Rolls Left: ",e]}),L.jsx("button",{className:Nt("roll-button",e<=0&&"disabled",c&&"disabled"),onClick:f,disabled:e<=0||c,children:e>0?"Roll Dice":"No Rolls Left"})]}),L.jsx("div",{className:"dice-grid",children:r.map(g=>L.jsx(QC,{dice:g,onHold:s,disabled:e===3||c},g.id))}),L.jsxs("div",{className:"dice-instructions",children:[L.jsx("p",{children:"Click on dice to hold them before rolling"}),L.jsx("p",{children:"You have 3 rolls per turn"})]})]}):null},XC=({playerIndex:r})=>{const{players:e,currentPlayerIndex:i,rollsLeft:s,scoreRoll:l,nextPlayer:c,gameEnded:f}=Ga(),g=e[r];if(!g)return null;const p=r===i,y=s<3&&s>=0,E=ee=>{p&&y&&g.scores[ee]===null&&(l(ee),setTimeout(()=>{c()},500))},A=ee=>{const ae=g.scores[ee];return ae===null?"-":ae},D=()=>["ones","twos","threes","fours","fives","sixes"].reduce((ae,Se)=>{const fe=g.scores[Se];return ae+(fe||0)},0),B=()=>D()>=63?35:0,X=()=>D()+B(),j=()=>["threeOfAKind","fourOfAKind","fullHouse","smallStraight","largeStraight","yahtzee","chance"].reduce((ae,Se)=>{const fe=g.scores[Se];return ae+(fe||0)},0),H=()=>X()+j(),se=ee=>p&&y&&g.scores[ee]===null&&!f;return L.jsxs("div",{className:Nt("score-sheet",p&&"current-player"),children:[L.jsx("h3",{className:"player-name",children:g.name}),L.jsxs("div",{className:"score-sections",children:[L.jsxs("div",{className:"score-section",children:[L.jsx("h4",{children:"Upper Section"}),L.jsxs("div",{className:"score-row",children:[L.jsx("span",{children:"Ones"}),L.jsx("span",{className:Nt("score-value",se("ones")&&"clickable"),onClick:()=>E("ones"),children:A("ones")})]}),L.jsxs("div",{className:"score-row",children:[L.jsx("span",{children:"Twos"}),L.jsx("span",{className:Nt("score-value",se("twos")&&"clickable"),onClick:()=>E("twos"),children:A("twos")})]}),L.jsxs("div",{className:"score-row",children:[L.jsx("span",{children:"Threes"}),L.jsx("span",{className:Nt("score-value",se("threes")&&"clickable"),onClick:()=>E("threes"),children:A("threes")})]}),L.jsxs("div",{className:"score-row",children:[L.jsx("span",{children:"Fours"}),L.jsx("span",{className:Nt("score-value",se("fours")&&"clickable"),onClick:()=>E("fours"),children:A("fours")})]}),L.jsxs("div",{className:"score-row",children:[L.jsx("span",{children:"Fives"}),L.jsx("span",{className:Nt("score-value",se("fives")&&"clickable"),onClick:()=>E("fives"),children:A("fives")})]}),L.jsxs("div",{className:"score-row",children:[L.jsx("span",{children:"Sixes"}),L.jsx("span",{className:Nt("score-value",se("sixes")&&"clickable"),onClick:()=>E("sixes"),children:A("sixes")})]}),L.jsxs("div",{className:"score-row total",children:[L.jsx("span",{children:"Upper Total"}),L.jsx("span",{children:D()})]}),L.jsxs("div",{className:"score-row bonus",children:[L.jsx("span",{children:"Bonus (35 if ≥63)"}),L.jsx("span",{children:B()})]}),L.jsxs("div",{className:"score-row total",children:[L.jsx("span",{children:"Upper Section Total"}),L.jsx("span",{children:X()})]})]}),L.jsxs("div",{className:"score-section",children:[L.jsx("h4",{children:"Lower Section"}),L.jsxs("div",{className:"score-row",children:[L.jsx("span",{children:"3 of a Kind"}),L.jsx("span",{className:Nt("score-value",se("threeOfAKind")&&"clickable"),onClick:()=>E("threeOfAKind"),children:A("threeOfAKind")})]}),L.jsxs("div",{className:"score-row",children:[L.jsx("span",{children:"4 of a Kind"}),L.jsx("span",{className:Nt("score-value",se("fourOfAKind")&&"clickable"),onClick:()=>E("fourOfAKind"),children:A("fourOfAKind")})]}),L.jsxs("div",{className:"score-row",children:[L.jsx("span",{children:"Full House"}),L.jsx("span",{className:Nt("score-value",se("fullHouse")&&"clickable"),onClick:()=>E("fullHouse"),children:A("fullHouse")})]}),L.jsxs("div",{className:"score-row",children:[L.jsx("span",{children:"Small Straight"}),L.jsx("span",{className:Nt("score-value",se("smallStraight")&&"clickable"),onClick:()=>E("smallStraight"),children:A("smallStraight")})]}),L.jsxs("div",{className:"score-row",children:[L.jsx("span",{children:"Large Straight"}),L.jsx("span",{className:Nt("score-value",se("largeStraight")&&"clickable"),onClick:()=>E("largeStraight"),children:A("largeStraight")})]}),L.jsxs("div",{className:"score-row",children:[L.jsx("span",{children:"Yahtzee"}),L.jsx("span",{className:Nt("score-value",se("yahtzee")&&"clickable"),onClick:()=>E("yahtzee"),children:A("yahtzee")})]}),L.jsxs("div",{className:"score-row",children:[L.jsx("span",{children:"Chance"}),L.jsx("span",{className:Nt("score-value",se("chance")&&"clickable"),onClick:()=>E("chance"),children:A("chance")})]}),L.jsxs("div",{className:"score-row total",children:[L.jsx("span",{children:"Lower Section Total"}),L.jsx("span",{children:j()})]})]}),L.jsxs("div",{className:"score-row grand-total",children:[L.jsx("span",{children:"GRAND TOTAL"}),L.jsx("span",{children:H()})]})]})]})},$C=()=>{const{gameStarted:r,gameEnded:e,players:i,currentPlayerIndex:s,currentRound:l,syncScoreToFirebase:c,resetGame:f}=Ga();if(Jn.useEffect(()=>{e&&i.length>0&&(console.log("🎯 Игра окончена, синхронизируем с Firebase..."),console.log("Игроки:",i),(async()=>{try{for(const E of i)E.totalScore>0&&(console.log(`📤 Синхронизируем игрока ${E.name} с очками ${E.totalScore}`),await c(E));console.log("✅ Все рекорды синхронизированы с Firebase")}catch(E){console.error("❌ Ошибка синхронизации с Firebase:",E)}})())},[e,i,c]),!r)return null;const g=i[s];if(l>13||e){const y=[...i].sort((E,A)=>A.totalScore-E.totalScore);return L.jsxs("div",{className:"game-board game-over",children:[L.jsx("h2",{children:"🎯 Игра окончена!"}),L.jsxs("div",{className:"final-results",children:[L.jsx("h3",{children:"Финальные результаты"}),y.map((E,A)=>L.jsxs("div",{className:Nt("final-player",A===0&&"winner"),children:[L.jsx("span",{className:"position",children:A+1}),L.jsx("span",{className:"name",children:E.name}),L.jsx("span",{className:"score",children:E.totalScore})]},E.id))]}),L.jsx("div",{className:"game-actions",children:L.jsx("button",{onClick:f,className:"new-game-btn",children:"🎮 Новая игра"})})]})}return L.jsxs("div",{className:"game-board",children:[L.jsxs("div",{className:"game-header",children:[L.jsxs("h2",{children:["Раунд ",l," из 13"]}),L.jsx("div",{className:"current-player-info",children:L.jsxs("h3",{children:["Текущий игрок: ",g?.name]})})]}),L.jsxs("div",{className:"game-content",children:[L.jsx("div",{className:"left-panel",children:L.jsx(YC,{})}),L.jsx("div",{className:"right-panel",children:L.jsx("div",{className:"score-sheets",children:i.map((y,E)=>L.jsx(XC,{playerIndex:E},E))})})]})]})},ZC=()=>{const{leaderboard:r,leaderboardLoading:e,loadLeaderboards:i}=Ga(),[s,l]=Jn.useState("allTime");Jn.useEffect(()=>{i()},[i]);const c=y=>{switch(y){case"today":return"Сегодня";case"week":return"Неделя";case"allTime":return"Все время";default:return""}},f=()=>r[s]||[],g=y=>new Intl.DateTimeFormat("ru-RU",{day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit"}).format(y),p=()=>{switch(s){case"today":return"Сегодня еще нет рекордов. Будьте первым!";case"week":return"На этой неделе еще нет рекордов. Будьте первым!";case"allTime":return"Рекордов пока нет. Будьте первым!";default:return""}};return e?L.jsxs("div",{className:"leaderboard",children:[L.jsx("h3",{children:"Загрузка рекордов..."}),L.jsx("div",{className:"loading-spinner",children:L.jsx("div",{className:"spinner"})})]}):L.jsxs("div",{className:"leaderboard",children:[L.jsx("h3",{children:"🏆 Таблица рекордов"}),L.jsx("div",{className:"leaderboard-tabs",children:["today","week","allTime"].map(y=>L.jsx("button",{className:Nt("leaderboard-tab",s===y&&"active"),onClick:()=>l(y),children:c(y)},y))}),L.jsxs("div",{className:"leaderboard-content",children:[L.jsx("h4",{children:c(s)}),f().length===0?L.jsx("div",{className:"empty-leaderboard",children:L.jsx("p",{children:p()})}):L.jsx("div",{className:"leaderboard-list",children:f().map((y,E)=>L.jsxs("div",{className:"leaderboard-item",children:[L.jsx("span",{className:"rank",children:E+1}),L.jsxs("div",{className:"player-info",children:[L.jsx("span",{className:"name",children:y.playerName}),L.jsx("span",{className:"timestamp",children:g(y.timestamp)})]}),L.jsx("span",{className:"score",children:y.score})]},y.id||E))})]}),L.jsx("div",{className:"leaderboard-actions",children:L.jsx("button",{onClick:i,className:"refresh-btn",disabled:e,children:e?"Обновление...":"🔄 Обновить"})})]})};function WC(){const{gameStarted:r,gameEnded:e,resetGame:i}=Ga(),[s,l]=Jn.useState(!1);Jn.useEffect(()=>{console.log("🚀 App компонент загружен"),console.log("📍 Текущий URL:",window.location.href),console.log("🌐 Hostname:",window.location.hostname),console.log("📱 Telegram Web App доступен:",Ua()),Ua()?(console.log("📱 Инициализируем Telegram Web App..."),FC()):console.log("🌐 Локальная разработка")},[]);const c=()=>{l(!1),i()},f=()=>{l(!0)};return console.log("🎮 App рендерится, gameStarted:",r,"gameEnded:",e),L.jsxs("div",{className:"app",children:[L.jsxs("header",{className:"app-header",children:[L.jsx("h1",{children:"🎲 Yahtzee"}),r&&!e&&L.jsx("div",{className:"header-actions",children:L.jsx("button",{onClick:f,className:"leaderboard-btn",children:"🏆 Рекорды"})})]}),L.jsxs("main",{className:"app-main",children:[!r&&!s&&L.jsx(KC,{}),r&&!e&&!s&&L.jsx($C,{}),s&&L.jsx(ZC,{}),(e||s)&&L.jsx("div",{className:"menu-actions",children:L.jsx("button",{onClick:c,className:"menu-btn",children:"← Назад в меню"})})]}),L.jsx("footer",{className:"app-footer",children:L.jsx("p",{children:"Telegram Mini App - Yahtzee Game"})})]})}RS.createRoot(document.getElementById("root")).render(L.jsx(Jn.StrictMode,{children:L.jsx(WC,{})}));
